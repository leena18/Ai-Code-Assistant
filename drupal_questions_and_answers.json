[
    {
        "tags": [
            "drupal",
            "wamp"
        ],
        "owner": {
            "account_id": 36165542,
            "reputation": 1,
            "user_id": 27598128,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/714112b705857277194a105db2390189?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Trevor West",
            "link": "https://stackoverflow.com/users/27598128/trevor-west"
        },
        "is_answered": false,
        "view_count": 8,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727909864,
        "creation_date": 1727909864,
        "question_id": 79048684,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79048684/drupal-wxt-installation-no-setup-page",
        "title": "Drupal WxT Installation - No Setup Page",
        "body": "<p>Trying to install Drupal / WxT on a WAMP server.  I follow the steps at drupalwxt.org and run the following in composer:</p>\n<p>composer self-update\ncomposer create-project drupalwxt/site-wxt:10.2.x-dev drupal_wxt --no-interaction</p>\n<p>It downloads and extracts, but when I go to the /drupal_wxt/html page on my localhost, it only shows me the folder directory.</p>\n<p>What am I doing wrong?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "taxonomy"
        ],
        "owner": {
            "account_id": 2279727,
            "reputation": 107,
            "user_id": 2005130,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/f2d38fed7a446db7325caff5c79358ef?s=256&d=identicon&r=PG",
            "display_name": "MastaP",
            "link": "https://stackoverflow.com/users/2005130/mastap"
        },
        "is_answered": false,
        "view_count": 16,
        "answer_count": 2,
        "score": -1,
        "last_activity_date": 1727799817,
        "creation_date": 1727197774,
        "last_edit_date": 1727550535,
        "question_id": 79019682,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79019682/weight-vocabulary-sort-vocabulary-not-terms",
        "title": "Weight Vocabulary - sort vocabulary - (not terms)",
        "body": "<p>But I need to sort the <strong>vocabularies</strong> in a page based on admin choice. To be clear, I am not talking about terms, I am talking about the vocabulary, the parent holding the terms.</p>\n<p>As per what I read,Vocabulary seems not fieldable unfortunately. If it is, I am not sure how. I found a few db hacks but not sure I wan to implement this if not supported.</p>\n<p>Can anyone share any tip to add a weight field to a vocabulary?\nOr maybe a custom solution/module that would allow me to register the order in which I want the vocabulary to be displayed on?</p>\n<p>Any tip? Thanks!</p>\n<p>Drupal 10</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2279727,
                    "reputation": 107,
                    "user_id": 2005130,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/f2d38fed7a446db7325caff5c79358ef?s=256&d=identicon&r=PG",
                    "display_name": "MastaP",
                    "link": "https://stackoverflow.com/users/2005130/mastap"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727799817,
                "creation_date": 1727799817,
                "answer_id": 79043977,
                "question_id": 79019682,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>We ended up creating a View display mode in fact and sorting the vocabulary there. I was hoping for a more straight forward integration of the weight values of Vocabularies though, like a module or something.\nThanks for the time spent answering me.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1610210,
                    "reputation": 1402,
                    "user_id": 1489444,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/18211b8158580a08a8bebda4ca4d9439?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Viswanath Polaki",
                    "link": "https://stackoverflow.com/users/1489444/viswanath-polaki"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727761797,
                "creation_date": 1727761797,
                "answer_id": 79041798,
                "question_id": 79019682,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can create a new view with list of vocabularies and sort them according to your need and display the view in place of existing vocabulary view.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-theming",
            "drupal-templates"
        ],
        "owner": {
            "account_id": 5357743,
            "reputation": 742,
            "user_id": 4269967,
            "user_type": "registered",
            "accept_rate": 76,
            "profile_image": "https://www.gravatar.com/avatar/1e258cb04bff33e6c3ad3eb30bcc5d31?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Finduilas",
            "link": "https://stackoverflow.com/users/4269967/finduilas"
        },
        "is_answered": false,
        "view_count": 11,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727789729,
        "creation_date": 1727787265,
        "question_id": 79043233,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79043233/how-to-create-a-custom-block-template-for-a-specific-region-in-drupal-11",
        "title": "How to create a custom block template for a specific region in Drupal 11?",
        "body": "<p>I'm working with Drupal 11 and have a region on my homepage called &quot;frontrow1&quot; that contains several blocks. I have created a subtheme of Bootstrap 5.</p>\n<p>In Drupal 7, I was able to create a template for blocks in that region using <code>block--frontrow1.tpl.php</code>, but I can't seem to create a similar template in Drupal 11 using <code>block--frontrow1.html.twig</code>.</p>\n<p>I've tried to check for the region in block.html.twig by adding the region parameter in <code>hook_preprocess_block()</code>, but I wasn't successful in getting it to work.</p>\n<pre><code>/**\nImplements hook_preprocess_block().\n*/\nfunction YOURTHEME_preprocess_block(array &amp;$variables) {\n//Check if the block is inside a region on the page.\nif (isset($variables['elements']['#configuration']['region'])) {\n     $variables['region'] = $variables['elements']['#configuration']['region'];\nelse {\n     $variables['region'] = NULL;\n   }\n}\n</code></pre>\n<p>Despite this, I'm still unable to get the block region information properly within the template.</p>\n<pre><code>{{ region }} //outputs NULL\n</code></pre>\n<p>How can I create a custom layout for blocks specifically in the &quot;frontrow1&quot; region? Any guidance on the correct approach for templating this case in Drupal 11 would be greatly appreciated!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 5357743,
                    "reputation": 742,
                    "user_id": 4269967,
                    "user_type": "registered",
                    "accept_rate": 76,
                    "profile_image": "https://www.gravatar.com/avatar/1e258cb04bff33e6c3ad3eb30bcc5d31?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Finduilas",
                    "link": "https://stackoverflow.com/users/4269967/finduilas"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727789729,
                "creation_date": 1727789729,
                "answer_id": 79043403,
                "question_id": 79043233,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I was able to add the region variable to my block using a different approach. So I can now handle it in <code>block.html.twig</code>. This is a solution for me. But Iâ€™m still curious if there is a way to use regions in the namespace of the templates.</p>\n<pre><code>function YOURTHEME_preprocess_block(&amp;$variables) {\n    if (isset($variables[&quot;elements&quot;][&quot;#id&quot;])) {\n        $block_id = $variables[&quot;elements&quot;][&quot;#id&quot;];\n        $block = \\Drupal\\block\\Entity\\Block::load($block_id);\n\n        if ($block) {\n            $variables[&quot;region&quot;] = $block-&gt;getRegion();\n        }\n    }\n\n}\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 6758672,
            "reputation": 53,
            "user_id": 5206442,
            "user_type": "registered",
            "profile_image": "https://lh6.googleusercontent.com/-cITmavorQwE/AAAAAAAAAAI/AAAAAAAAAEQ/9rDEys2N1wE/photo.jpg?sz=256",
            "display_name": "TripleA",
            "link": "https://stackoverflow.com/users/5206442/triplea"
        },
        "is_answered": false,
        "view_count": 22,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727693333,
        "creation_date": 1727693333,
        "question_id": 79039017,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79039017/empty-records-in-drupal-cms-after-bulk-insert",
        "title": "Empty records in Drupal CMS after bulk insert",
        "body": "<p>I recently migrated data from development project into staging server and I resolved the conflicts and the data is present in DB but in CMS it is showing empty records. (check pic)</p>\n<p><a href=\"https://i.sstatic.net/pBOqstcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/pBOqstcf.png\" alt=\"enter image description here\" /></a></p>\n<p>I cleared the cache but still not showing and in the site UI nothing is showing.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "twig",
            "drupal-views"
        ],
        "owner": {
            "account_id": 6407,
            "reputation": 5478,
            "user_id": 10757,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://www.gravatar.com/avatar/7794fd5cca6122446ab2c0833da8a642?s=256&d=identicon&r=PG",
            "display_name": "Stanislav Kniazev",
            "link": "https://stackoverflow.com/users/10757/stanislav-kniazev"
        },
        "is_answered": true,
        "view_count": 26,
        "accepted_answer_id": 79037512,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727649709,
        "creation_date": 1727454600,
        "question_id": 79032224,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79032224/drupal-twig-variable-initialization-error",
        "title": "Drupal Twig variable initialization error",
        "body": "<p>The problem I'm trying to solve is this: I need a unique (but human readable) class name to be able to style Taxonomy Term page depending on the term shown. I unsuccessfully tried several approaches, the nearest being this:</p>\n<ol>\n<li>Use standard Taxonomy Term View to display the page;</li>\n<li>Calcuate class name based on the path alias for the term;</li>\n<li>Modify views-view.html.twig template to inject the class name above into one of the divs on the page.</li>\n</ol>\n<p>My views-view.html.twig excerpt:</p>\n<pre><code>{% set tid = view.argument[&quot;tid&quot;].value[0] %}\nHEREITIS:{{tid}}&lt;br/&gt;\n{% set pathclass = path('entity.taxonomy_term.canonical', {'taxonomy_term': 48}) | replace({'/': '-'}) %}\n{%\n  set classes = [\n    dom_id ? 'js-view-dom-id-' ~ dom_id,\n    tid,\n    pathclass,\n  ]\n%}\n&lt;div{{ attributes.addClass(classes) }}&gt;\n</code></pre>\n<p>And it produces the result that I could almost work with:</p>\n<pre><code>&lt;!-- ðŸ’¡ BEGIN CUSTOM TEMPLATE OUTPUT from 'sites/bezdatu.test/themes/qq/templates/views/views-view.html.twig' --&gt;\nHEREITIS:48&lt;br/&gt;\n&lt;div class=&quot;view-taxonomy-term contextual-region js-view-dom-id-8549dd661... 48 -category-holiday&quot;&gt;\n</code></pre>\n<p>Note that both numbers &quot;<code>48</code>&quot; in the result come from <code>tid</code> variable and &quot;<code>-category-holiday</code>&quot; is correctly calculated based on the hardcoded &quot;<code>48</code>&quot; number. &quot;Hardcoded&quot; however is the only working scenario and I'm at total loss as to why changing</p>\n<pre><code>path('entity.taxonomy_term.canonical', {'taxonomy_term': 48})\n</code></pre>\n<p>to</p>\n<pre><code>path('entity.taxonomy_term.canonical', {'taxonomy_term': tid})\n</code></pre>\n<p>results in &quot;an unexpected error&quot; saying that I'm passing an empty value:</p>\n<blockquote>\n<p>The website encountered an unexpected error. Try again later.</p>\n<p>Symfony\\Component\\Routing\\Exception\\InvalidParameterException:\nParameter &quot;taxonomy_term&quot; for route &quot;entity.taxonomy_term.canonical&quot;\nmust match &quot;[^/]++&quot; (&quot;&quot; given) to generate a corresponding URL. in\nDrupal\\Core\\Routing\\UrlGenerator-&gt;doGenerate() (line 202 of\ncore/lib/Drupal/Core/Routing/UrlGenerator.php).</p>\n</blockquote>\n<p>The variable is not empty, it is &quot;48&quot; and my only guess is that the twig template gets parsed before the variable value is calculated or view arguments become available. Is there any fix for this or any other simple approach to add path alias as css class name short of fiddling with javascript?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1687762,
                    "reputation": 10136,
                    "user_id": 1550696,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/Ff4qt.jpg?s=256",
                    "display_name": "2pha",
                    "link": "https://stackoverflow.com/users/1550696/2pha"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1727649709,
                "creation_date": 1727649709,
                "answer_id": 79037512,
                "question_id": 79032224,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Maybe another view is also being rendered? One that is not the taxonomy view, but would still be using the views-view.html.twig template? Try renaming your template file to something more specific for the taxonomy view so the template is only used for that view.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "javascript",
            "ajax",
            "drupal",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 16106612,
            "reputation": 1,
            "user_id": 11625968,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-4pFPgOyiuWg/AAAAAAAAAAI/AAAAAAAAABc/bp5PQ4kUpDE/photo.jpg?sz=256",
            "display_name": "Seraphim Whiteless",
            "link": "https://stackoverflow.com/users/11625968/seraphim-whiteless"
        },
        "is_answered": false,
        "view_count": 17,
        "answer_count": 0,
        "score": -1,
        "last_activity_date": 1727621617,
        "creation_date": 1727621617,
        "question_id": 79036670,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79036670/how-can-i-call-js-function-from-drupal-10-ajax",
        "title": "how can i call js function from drupal 10 ajax?",
        "body": "<p>having code</p>\n<pre><code> public function ajaxCallback(array &amp;$form, FormStateInterface $form_state)\n  {\n      $response = new AjaxResponse();\n      $response-&gt;addCommand(new InvokeCommand('document', 'sendMessage', ['test']));\n      return $response;\n  }\n</code></pre>\n<p>js code</p>\n<pre><code>(function ($, Drupal, drupalSettings) {\n\n  $(document).ready(function(){\n\n    $(document).bind('sendMessage', function(msg) {\n      alert('MY_EVENT');\n    });\n\n  });\n\n})(jQuery, Drupal, drupalSettings);\n</code></pre>\n<p>whan i call ajax function having error\nAjax: TypeError: $element[response.method] is not a function</p>\n<p>why it does not working?\nhow can i call js function from drupal ajax?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 943657,
            "reputation": 118,
            "user_id": 971327,
            "user_type": "registered",
            "accept_rate": 25,
            "profile_image": "https://www.gravatar.com/avatar/c82e4f166d26106d4a412260f1fd90bf?s=256&d=identicon&r=PG",
            "display_name": "titouille",
            "link": "https://stackoverflow.com/users/971327/titouille"
        },
        "is_answered": false,
        "view_count": 11,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727605302,
        "creation_date": 1727604453,
        "question_id": 79036131,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79036131/use-another-data-as-field-in-group-relationship",
        "title": "Use another data as field in group-relationship",
        "body": "<p>I ask myself on how to do the following thing :</p>\n<p>Each user in the system has an avatar (media field in user account).</p>\n<p>I use the group module to build &quot;organizations&quot;. Each organization has members. When a user is added to an organization, the admin has the choice to add or not an &quot;avatar&quot; to the added member. The avatar field is in the relationship.</p>\n<p>The goal is the following :</p>\n<p>If an avatar is set to the relationship, use it ;\nIf not, use the standard avatar from the user profile ;</p>\n<p>I implemented a custom module with hook_preprocess_group_relationship and check for the current relationship if the relation contains avatar or not, and if it's not the case, I would like to attach to the &quot;content&quot; array the avatar from the user profile. But I don't see how to do that...</p>\n<p>Actually I use the following code :</p>\n<pre><code>    if (!isset($variables['content']['field_avatar']['#theme'])) {\n      $user = $gr-&gt;getEntity();\n      $medias = $user-&gt;get('field_user_avatar')-&gt;referencedEntities();\n      if (count($medias)) {\n        $media = $medias[0];\n        $render = \\Drupal::entityTypeManager()-&gt;getViewBuilder('media')-&gt;view($media, 'default');\n        $variables['content']['field_avatar'] = $render;\n      }\n    }\n\n</code></pre>\n<p>The original field_avatar content is a &quot;theme field&quot;, but the one I put as replacement is a media, so it doesn't display it.</p>\n<p>An idea on how to manage the replacement to mimic the same use ?</p>\n<p>Thanks in advance.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 943657,
                    "reputation": 118,
                    "user_id": 971327,
                    "user_type": "registered",
                    "accept_rate": 25,
                    "profile_image": "https://www.gravatar.com/avatar/c82e4f166d26106d4a412260f1fd90bf?s=256&d=identicon&r=PG",
                    "display_name": "titouille",
                    "link": "https://stackoverflow.com/users/971327/titouille"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727605302,
                "creation_date": 1727605302,
                "answer_id": 79036153,
                "question_id": 79036131,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Ok... Five minutes ago I found this thread : <a href=\"https://drupal.stackexchange.com/questions/240002/how-to-apply-a-field-formatter-to-a-node-field-programmatically\">https://drupal.stackexchange.com/questions/240002/how-to-apply-a-field-formatter-to-a-node-field-programmatically</a></p>\n<p>And it work for my case :</p>\n<pre><code>    if (!isset($variables['content']['field_avatar']['#theme'])) {\n      $user = $gr-&gt;getEntity();\n      $medias = $user-&gt;get('field_user_avatar')-&gt;referencedEntities();\n      if (count($medias)) {\n        $view = \\Drupal::entityTypeManager()-&gt;getViewBuilder('user')-&gt;viewField($user-&gt;get('field_user_avatar'), 'default');\n        $variables['content']['field_avatar'] = $view;\n      }\n    }\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-views"
        ],
        "owner": {
            "account_id": 1174478,
            "reputation": 21,
            "user_id": 1150821,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6417ec9aeec79e57b6c97e3124b969dd?s=256&d=identicon&r=PG",
            "display_name": "Lee Taylor",
            "link": "https://stackoverflow.com/users/1150821/lee-taylor"
        },
        "is_answered": false,
        "view_count": 9792,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1727597045,
        "creation_date": 1330098249,
        "last_edit_date": 1330179948,
        "question_id": 9433581,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/9433581/drupal-views-setting-a-filter-programmatically",
        "title": "Drupal - Views. Setting a filter programmatically",
        "body": "<p>I hope this is not a stupid question I have been searching for most of the day!</p>\n\n<p>I have a Content Type (Documents) which simply contains a title, file and a category. The category value is required and is 'powered' by Taxonomy.</p>\n\n<p>I now wish to create a view which will display these documents grouped and titled by the taxonomy term.</p>\n\n<p>Using my limited Drupal knowledge I intent to iterate through the relevant terms IDs (using <code>taxonomy_get_tree($vid)</code>) and then render each view accordingly. </p>\n\n<p>To do this I have been hoping to use this snippet.</p>\n\n<pre><code>view = views_get_view('documents');\n\n$view-&gt;set_display($display_id);\n\n$filter = $view-&gt;get_item($display_id, 'filter', 'field_dl_category');\n\n$filter['value']['value'] = $filter_value;\n\n$view-&gt;set_item($display_id, 'filter', 'field_dl_category', $filter);\n\n$viewsoutput = $view-&gt;render();\n</code></pre>\n\n<p>But this is not working; when I query the value of the <code>$filter</code> <code>($view-&gt;get_item($display_id, 'filter', 'field_dl_category'))</code> I get null returned.</p>\n\n<p>Might this be that my filter name is not the same as the CCK field name?</p>\n\n<p>I am using Drupal 7.</p>\n\n<p>Any help much appreciated, I am running out of ideas (and time). </p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 986395,
                    "reputation": 10564,
                    "user_id": 1004781,
                    "user_type": "registered",
                    "accept_rate": 71,
                    "profile_image": "https://i.sstatic.net/dn2vE.png?s=256",
                    "display_name": "rix",
                    "link": "https://stackoverflow.com/users/1004781/rix"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1389098369,
                "creation_date": 1389098369,
                "answer_id": 20971862,
                "question_id": 9433581,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Here's an alternative:</p>\n\n<pre><code>$view = views_get_view('view_machine_name');\n$view-&gt;init_display('default');\n$view-&gt;display_handler-&gt;display-&gt;display_options['filters']['your_filter_name']['default_value'] = 'your_value';\n$view-&gt;is_cacheable = FALSE;  \n$view-&gt;execute();\nprint $view-&gt;render();\n</code></pre>\n\n<p>I know you can probably set this using some convoluted method and obviously that would be better.  But if you just want a quick and dirty straight access without messing around this will get you there.</p>\n"
            },
            {
                "owner": {
                    "account_id": 101729,
                    "reputation": 920,
                    "user_id": 273493,
                    "user_type": "registered",
                    "accept_rate": 93,
                    "profile_image": "https://www.gravatar.com/avatar/f2855c17ec5b9c9049d95c2b5d26b435?s=256&d=identicon&r=PG",
                    "display_name": "Amarnath Ravikumar",
                    "link": "https://stackoverflow.com/users/273493/amarnath-ravikumar"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1330364611,
                "creation_date": 1330364611,
                "answer_id": 9469584,
                "question_id": 9433581,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I am going to go ahead and assume that you want to show, using Views, a list of <em>document</em> nodes grouped by the category that they have been tagged with.</p>\n\n<p>There are two (of maybe more) ways by which you can do this in Views 3:</p>\n\n<p>(a) Choose a display style that allows you to select a Grouping field. (You could try the table style that ships with Views by default). Suppose you have properly related the <code>node</code> table to the <code>taxonomy_term_data</code> table through a Views relationship, you could choose <code>taxonomy_term_data.name</code> as the grouping field.</p>\n\n<p>Note that this <em>grouping</em> is done before the view is just rendered. So, your query would just have to select a flat list of (content, tag) pairs.</p>\n\n<p>(b) You could also make use of the Attachment display type to achieve something similar. Show the <em>used</em> categories first in a list view clicking on which will show a page (attachment) with all documents tagged in that chosen category. </p>\n\n<p>To understand how to do (a) or (b), turn on the <code>advanced_help</code> module (which is not a Views requisite but is recommended) first.</p>\n\n<p>For (a), read the section on <em>Grouping in styles</em> i.e. <code>views/help/style-grouping.html</code> and<br>\nFor (b), read the section on <em>Attachment display</em> i.e. <code>views/help/display-attachment.html</code></p>\n\n<p>A couple of things about your approach:</p>\n\n<p>(a) It will show all terms from that vocabulary irrespective of whether or not they were used to tag at least one document.</p>\n\n<p>(b) <code>views_embed_view()</code> will return NULL even if the currently viewing user does not have access to the view. So, ensure that you catch that case.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1174478,
                    "reputation": 21,
                    "user_id": 1150821,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/6417ec9aeec79e57b6c97e3124b969dd?s=256&d=identicon&r=PG",
                    "display_name": "Lee Taylor",
                    "link": "https://stackoverflow.com/users/1150821/lee-taylor"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1330346731,
                "creation_date": 1330346731,
                "answer_id": 9465242,
                "question_id": 9433581,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I finally managed to get this working but I took a slightly different approach.</p>\n\n<p>I changed my view and added the relevant contextual filter and then used this function views_embed_view to get at my required results.</p>\n\n<p>If this helps! this is my solution:</p>\n\n<pre><code>$display_id = 'default';\n$vid = 7; \n$terms = taxonomy_get_tree($vid);\n\nforeach($terms As $term){    \n    $content = views_embed_view('documents', $display_id, $term-&gt;tid);\n\n    //now we see if any content has been provided\n    if(trim($content) != ''){\n        print \"&lt;h3&gt;\" . $term-&gt;name . \"&lt;/h3&gt;\";\n        print $content;        \n    }\n}\n</code></pre>\n\n<p>In my case the trim($content) returns '' with no data as the view template has been edited, this might not be the case for all.</p>\n\n<p>I am a very new Drupal developer so I'm sure there are much better ways of doing this, if so please do post.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "docker",
            "drupal",
            "composer-php"
        ],
        "owner": {
            "account_id": 29243960,
            "reputation": 1,
            "user_id": 22450802,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtcXjMjCkb2LdvzAP8nS8Uu4P1Pg4ZZAaEnJxWN9YOeQ=k-s256",
            "display_name": "Santhosh Kumar O",
            "link": "https://stackoverflow.com/users/22450802/santhosh-kumar-o"
        },
        "is_answered": false,
        "view_count": 52,
        "closed_date": 1727610634,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727552522,
        "creation_date": 1720823999,
        "last_edit_date": 1727552522,
        "question_id": 78742424,
        "link": "https://stackoverflow.com/questions/78742424/composer-install-fails-with-file-deletion-error-in-docker-on-windows",
        "closed_reason": "Needs details or clarity",
        "title": "Composer Install Fails with File Deletion Error in Docker on Windows",
        "body": "<p>I am experiencing an issue with running composer install inside a Docker container on my Windows 11 machine. The installation fails while trying to delete a directory, and I receive the following error message:</p>\n<pre><code>10/12 [=======================&gt;----]  83%    Install of drupal/core failed\n    Install of aws/aws-sdk-php failed\n\nIn Filesystem.php line 332:\n                                                                                                \n  Could not delete /var/www/html/vendor/composer/66b3c943/drupal-core-d137403/lib/Drupal/Core:  \n                                                                                                \ninstall [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] [--dry-run] [--download-only] [--dev] [--no-suggest] [--no-dev] [--no-autoloader] [--no-progress] [--no-install] [--audit] [--audit-format AUDIT-FORMAT] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--] [&lt;packages&gt;...]\n</code></pre>\n<ol>\n<li>Checked File and Directory Permissions:</li>\n</ol>\n<ul>\n<li>Ensured correct ownership and permissions inside the container:\n<code>docker exec -it &lt;container_name&gt; bash chown -R www-data:www-data /var/www/html chmod -R 755 /var/www/html </code></li>\n</ul>\n<ol start=\"2\">\n<li>Rebuilt Docker Container:</li>\n</ol>\n<ul>\n<li>Rebuilt the container to ensure no lingering issues\n<code>docker-compose down docker-compose up --build </code></li>\n</ul>\n<ol start=\"3\">\n<li>Manual Cleanup:</li>\n</ol>\n<ul>\n<li>Attempted to manually delete the problematic directory inside the container\n<code>docker exec -it &lt;container_name&gt; bash cd /var/www/html/vendor/composer rm -rf 66b3c943/drupal-core-d137403/lib/Drupal/Core cd /var/www/html composer install </code></li>\n</ul>\n<p>Full Error Log:</p>\n<pre><code>10/12 [=======================&gt;----]  83%    Install of drupal/core failed\n    Install of aws/aws-sdk-php failed\n\nIn Filesystem.php line 332:\n                                                                                                \n  Could not delete /var/www/html/vendor/composer/66b3c943/drupal-core-d137403/lib/Drupal/Core:  \n                                                                                                \ninstall [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] [--dry-run] [--download-only] [--dev] [--no-suggest] [--no-dev] [--no-autoloader] [--no-progress] [--no-install] [--audit] [--audit-format AUDIT-FORMAT] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--] [&lt;packages&gt;...]\n</code></pre>\n<p>[Error][1]</p>\n<p><a href=\"https://i.sstatic.net/cwLbaRDg.png\" rel=\"nofollow noreferrer\">Error log</a></p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "hook",
            "drupal-10"
        ],
        "owner": {
            "account_id": 18049061,
            "reputation": 1,
            "user_id": 21525760,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiUzitLEQ1mihLQsbASNMB5lxnYMKOlphKtAWH7vA=k-s256",
            "display_name": "davidp",
            "link": "https://stackoverflow.com/users/21525760/davidp"
        },
        "is_answered": false,
        "view_count": 31,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551853,
        "creation_date": 1721120429,
        "last_edit_date": 1727551853,
        "question_id": 78753617,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78753617/how-can-i-use-hook-entity-prepare-form-to-set-a-text-field-value",
        "title": "How can I use hook_entity_prepare_form() to set a text field value?",
        "body": "<p>I'm trying to set a text list field value when a form is loaded but can't seem to get the following code to work. As the value has dependencies I'm not able to use hook node form alter or use the default value with form state.</p>\n<pre class=\"lang-php prettyprint-override\"><code>use Drupal\\node\\Entity\\Node;\nuse Drupal\\Core\\Form\\FormStateInterface;\nuse Drupal\\Core\\Entity\\EntityInterface;\nuse Drupal\\Core\\Entity\\FieldableEntityInterface;\n\n/**\n * Implements hook_entity_prepare_form().\n * \n */\nfunction site_hours_answer_prepare_form(EntityInterface $entity, $operation, FormStateInterface $form_state)\n{\n  if ($entity instanceof FieldableEntityInterface) {\n    $entity-&gt;set('field_question_type', 'multiple_choice');\n  }\n}\n\n</code></pre>\n<p>Any suggestions would be awesome.</p>\n<p>I've been using the Entity Pre-populate (EPP) project as a guide as it uses tokens and the prepare form hook but I've had no luck. I've also searched the forums high and low but can't find much about this hook.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-views",
            "drupal-9"
        ],
        "owner": {
            "account_id": 224549,
            "reputation": 4479,
            "user_id": 484460,
            "user_type": "registered",
            "accept_rate": 58,
            "profile_image": "https://www.gravatar.com/avatar/2a42fb3ca4383d21fa8884752f5e2675?s=256&d=identicon&r=PG",
            "display_name": "Victor Pudeyev",
            "link": "https://stackoverflow.com/users/484460/victor-pudeyev"
        },
        "is_answered": false,
        "view_count": 21,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551792,
        "creation_date": 1721855124,
        "last_edit_date": 1727551792,
        "question_id": 78790577,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78790577/how-can-i-structure-a-certain-dynamic-view",
        "title": "How can I structure a certain dynamic view?",
        "body": "<p>I've looked at drupal/views_taxonomy_term_name_depth and contextual filters in views, and that works somewhat, but I have the following request/example.</p>\n<p>Let's say I have Content Types: City, Article, and I also have a Tag hierarchy:</p>\n<pre><code>Tags:\n\nChicago\n  - Sushi Restaurants\n  - Museums\nAtlanta\n  - Parks\n  - Museums\n</code></pre>\n<p>And I'd like to display, on a city page, the specific header (eg Sushi Restaurants) for a view, and all the articles tagged <code>Sushi Restaurants</code>. Alternatively, I can have this tag structure:</p>\n<pre><code>Tags:\n\nChicago\n  - featured_tag_one\n  - featured_tag_two\nAtlanta\n  - featured_tag_one\n  - featured_tag_two\n</code></pre>\n<p>And tag articles as belonging to one city or another, first feature set or the second. However, each feature set would still have to have a title (e.g. Sushi Restaurants) and any number of fields.</p>\n<p>How would I structure this? I'm hoping to NOT create a page for each city, and rather use something like contextual filters.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "javascript",
            "drupal",
            "web-component",
            "drupal-10"
        ],
        "owner": {
            "account_id": 4028971,
            "reputation": 27,
            "user_id": 3315929,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/a5e6fb814390cadd79d122c3fd7c2d36?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "vrt15",
            "link": "https://stackoverflow.com/users/3315929/vrt15"
        },
        "is_answered": true,
        "view_count": 47,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1727551648,
        "creation_date": 1722951469,
        "last_edit_date": 1727551648,
        "question_id": 78839353,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78839353/how-can-i-add-a-simple-web-component",
        "title": "How can I add a simple web component?",
        "body": "<p>is there a simple way of adding a web component into drupal ? I have tried it but my component doesnt show, it removes the non-html component tag entirely, it loads the js file properly and when i console log it, it returns a log only on <code>static get observedAttributes()</code> function.</p>\n<p>js code:</p>\n<pre><code>class MyComponent extends HTMLElement {\n  static get observedAttributes() {\n    return ['message'];\n  }\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'message') {\n      this.render(newValue);\n    }\n  }\n\n  render(message) {\n    this.shadowRoot.innerHTML = `\n      &lt;style&gt;\n        .message {\n          font-size: 20px;\n          color: blue;\n        }\n      &lt;/style&gt;\n      &lt;div class=&quot;message&quot;&gt;${message}&lt;/div&gt;\n    `;\n  }\n}\n\ncustomElements.define('my-component', MyComponent);\n</code></pre>\n<p>I'm adding a library with this web component through this hook:</p>\n<pre><code>/**\n * Implements hook_node_view() to add a library to the node view.\n *\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 4618618,
                    "reputation": 56301,
                    "user_id": 3744304,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://i.sstatic.net/17uwe.jpg?s=256",
                    "display_name": "connexo",
                    "link": "https://stackoverflow.com/users/3744304/connexo"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1724104834,
                "last_edit_date": 1724104834,
                "creation_date": 1724103785,
                "answer_id": 78889878,
                "question_id": 78839353,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Drupal's render API automatically sanitizes anything supposed to be parsed as HTML. <a href=\"https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21theme.api.php/group/theme_render/10\" rel=\"nofollow noreferrer\">https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Render%21theme.api.php/group/theme_render/10</a></p>\n<p>This affects your <code>'#markup' =&gt; '&lt;my-component message=&quot;' . $message . '&quot;&gt;&lt;/my-component&gt;',</code> part of the code, where the non-standard HTML tag is omitted from the output due to sanitization constraints, as your <code>&lt;my-component&gt;</code> tag is not in the whitelist of permitted tags.</p>\n<p>From that page linked above:</p>\n<blockquote>\n<p><code>#markup</code>: Specifies that the array provides HTML markup directly. Unless the markup is very simple, such as an explanation in a paragraph tag, it is normally preferable to use <code>#theme</code> or <code>#type</code> instead, so that the theme can customize the markup. <strong>Note that the value is passed through <a href=\"https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Component%21Utility%21Xss.php/function/Xss%3A%3AfilterAdmin/10\" rel=\"nofollow noreferrer\"><code>\\Drupal\\Component\\Utility\\Xss::filterAdmin()</code></a>, which strips known XSS vectors while allowing a permissive list of HTML tags that are not XSS vectors.</strong> (For example,  and  are not allowed.) <strong>See <a href=\"https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Component%21Utility%21Xss.php/property/Xss%3A%3AadminTags/10\" rel=\"nofollow noreferrer\"><code>\\Drupal\\Component\\Utility\\Xss::$adminTags</code></a> for the list of allowed tags.</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>If your markup needs any of the tags not in this list, then you can implement a theme hook and/or an asset library. Alternatively, you can use the key <em><code>#allowed_tags</code></em> to alter which tags are filtered.</strong></p>\n</blockquote>\n<p>This video might help you: <a href=\"https://www.youtube.com/watch?v=czY5enzmKfk\" rel=\"nofollow noreferrer\">CREATING &amp; CONSUMING WEB COMPONENTS FOR DRUPAL</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 2968061,
                    "reputation": 20202,
                    "user_id": 2520800,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/60edc4072807728bf0f69a8af73f716c?s=256&d=identicon&r=PG",
                    "display_name": "Danny &#39;365CSI&#39; Engelman",
                    "link": "https://stackoverflow.com/users/2520800/danny-365csi-engelman"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1722954054,
                "last_edit_date": 1722954054,
                "creation_date": 1722952621,
                "answer_id": 78839451,
                "question_id": 78839353,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I don't know what Drupal does.<br />\nWeb Components are HTML just like any other HTML in CMSs;<br />\nshouldn't require any special handling in the CMS.</p>\n<p>Check in the console for <code>customElements.get(&quot;my-component&quot;)</code><br />\nshould return the Component Class<br />\nIf not the Javascript to define the component was not executed.</p>\n<p>Your Web Component is missing a <code>connectedCallback</code>,<br />\nand the <code>attributeChangedCallback</code> fires <strong>before</strong> the element is <em>connected</em> in the DOM. (once for every Observed Attribute!)<br />\nSo you have to <em>guard</em> that <strong>first</strong> <code>attributeChangedCallback( &quot;message&quot; ,...)</code> by checking for <code>this.isConnected</code></p>\n<p>The rest of the changes are just to optimize your Web Component</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\ncustomElements.define('my-component', class extends HTMLElement {\n  static get observedAttributes() {\n    return ['message'];\n  }\n\n  constructor() {\n    super()\n      .attachShadow({ mode: 'open' })\n      .innerHTML = `\n          &lt;style&gt;\n            div { font-size: 20px; color: blue }\n          &lt;/style&gt;\n          &lt;div&gt;&lt;/div&gt;`;\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (this.isConnected) this[ name ]();\n  }\n  \n  connectedCallback(){\n    this.message();\n  }\n\n  message(msg = this.getAttribute(\"message\") || \"No message attribute!\") {\n    this.shadowRoot.querySelector(\"div\").innerHTML = msg;\n  }\n});\n&lt;/script&gt;\n\n&lt;my-component&gt;&lt;/my-component&gt;\n&lt;my-component message=\"Hello Cool Web Component World!\"&gt;&lt;/my-component&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h4>Simplify your Web Component with a <code>&lt;slot&gt;</code></h4>\n<p>For a (simple) message an <strong>attribute</strong> is not required.</p>\n<p>A <code>&lt;slot&gt;</code> in shadowDOM will automagically display the lightDOM (innerHTML of the Web Component itself)<br />\nAlso see <strong>named SLOTs</strong>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot</a></p>\n<p>SLOTs are <em>reactive</em>;<br />\n<code>document.querySelector(&quot;my-slot-component&quot;).innerHTML = &quot;GREAT! Components!&quot;;</code><br />\nwill update the <strong>reflected</strong> slot in shadowDOM</p>\n<p>For long read &amp; deep dive on styling slots see: <a href=\"https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot/61631668#61631668\">::slotted CSS selector for nested children in shadowDOM slot</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\ncustomElements.define('my-slot-component', class extends HTMLElement {\n  constructor() {\n    super()\n      .attachShadow({ mode: 'open' })\n      .innerHTML = `\n          &lt;style&gt;\n            div {\n              font-size: 20px;\n              color: blue;\n            }\n          &lt;/style&gt;\n          &lt;div&gt;&lt;slot&gt;No message specified&lt;/slot&gt;&lt;/div&gt;`;\n  }\n});\n&lt;/script&gt;\n\n&lt;my-slot-component&gt;&lt;/my-slot-component&gt;\n&lt;my-slot-component&gt;Hello Fantastic Web Component World!&lt;/my-slot-component&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"
            }
        ]
    },
    {
        "tags": [
            "mysql",
            "drupal"
        ],
        "owner": {
            "account_id": 17154392,
            "reputation": 1,
            "user_id": 12415617,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBSH4CEBOEiBEWyrNwWfadb9ofkmCY_Z241edXYsRM=k-s256",
            "display_name": "cherradi badreddine",
            "link": "https://stackoverflow.com/users/12415617/cherradi-badreddine"
        },
        "is_answered": false,
        "view_count": 36,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551398,
        "creation_date": 1723106079,
        "last_edit_date": 1727551398,
        "question_id": 78847345,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78847345/how-can-i-connect-to-a-mysql-database",
        "title": "How can I connect to a MySQL database?",
        "body": "<p>How can I connect a MySQL database in a Drupal 11 installation?\nI've already tried entering the database name, username, and password, but the installation wizard didn't accept them. I've also tried using &quot;localhost&quot; since the database and the website are on the same hosting, but that didn't work either.\nCould you please help me resolve this database connection issue so I can properly complete the Drupal 11 installation? I'd like to understand what could be causing this error and how I can fix it.\nThank you in advance for your assistance!h</p>\n",
        "answers": []
    },
    {
        "tags": [
            "forms",
            "drupal",
            "recaptcha",
            "mailchimp"
        ],
        "owner": {
            "account_id": 17718317,
            "reputation": 41,
            "user_id": 12864082,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/lPATB.jpg?s=256",
            "display_name": "Len Lamberg",
            "link": "https://stackoverflow.com/users/12864082/len-lamberg"
        },
        "is_answered": false,
        "view_count": 80,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551325,
        "creation_date": 1723240236,
        "last_edit_date": 1727551325,
        "question_id": 78854698,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78854698/cant-add-recaptcha-to-mailchimp-signup-form",
        "title": "Can&#39;t add reCaptcha to Mailchimp signup form",
        "body": "<p>I am running Drupal 10.3.2, Mailchimp (Drupal module mailchimp 2.2.4) and reCaptcha (Drupal module 8.x-33).  The signup form works fine, and the reCaptcha works on all my forms EXCEPT for the Mailchimp signup form.  The signup form is in a block.  Using Chrome Inspect, I saw that the Form ID is mailchimp-signup-subscribe-block-get-my-free-newsletter-form, so I added that as the CAPTCHA point.  I also looked at the &quot;Devel&quot; option on the Mailchimp Configuration Signup Form and I see that originalID and id are both get_my_free_newsletter, so I used that for the machine-readable name in the Captcha point as well as the form id.  (I also see that &quot;entitTypeId&quot; is &quot;mailchimp_signup&quot; but I didn't do anything with that.)  I cannot get the reCaptcha form to show up on the signup form.  Can anyone help me?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-routes"
        ],
        "owner": {
            "account_id": 21372632,
            "reputation": 35,
            "user_id": 15739925,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/33166e232725d1e9bdb2c7e8d6277647?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user15739925",
            "link": "https://stackoverflow.com/users/15739925/user15739925"
        },
        "is_answered": false,
        "view_count": 32,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727551266,
        "creation_date": 1723573844,
        "last_edit_date": 1727551266,
        "question_id": 78867860,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78867860/how-to-pass-arguments-from-route-to-drupal-node",
        "title": "How to pass arguments from route to Drupal node?",
        "body": "<p>I know how to define a route in Drupal 10 and create the associated content through a controller. But what I want to do now is to break this content in several blocks that I assemble in a classic Drupal base page using Drupal's Layout feature. The problem is that I can't find how to pass some arguments that are necessary to create dynamic content in blocks.</p>\n<p>What I tried is create a content page with node id 51079 and url alias 'example'. 'arg' is the variable I want to pass to blocks. Then I defined a route in a custom module</p>\n<pre><code>example.landing_date:\n    #    path: &quot;/node/{nid}/{arg}&quot;\n    path: &quot;/example/{arg}&quot;\n    defaults:\n        _controller: '\\Drupal\\node\\Controller\\NodeViewController::view'\n        #        _entity_view: &quot;node.full&quot;\n        _title: &quot;Example&quot;\n        node: 51079\n        month_day: NULL\n    options:\n        parameters:\n            #           nid:\n            #               type: entity:node\n            arg:\n                type: string\n    requirements:\n        _permission: &quot;access content&quot;\n        arg: &quot;[0-9]{2}-[0-9]{2}&quot;\n</code></pre>\n<p>The commented lines are an alternative which leads to the same result. This approach has two problems:\n1 - I have to use either aliased or non aliased url which complicates management in a multilingual context.\n2- When I visit /example, it works as expected I have the base page and the blocks are displayed according to the default value of 'arg' (empty). But if I visit /example/03-09, the value of arg (03-09) is correctly passed to the blocks but the node is displayed under the title, i.e. the page title is duplicated.</p>\n<p>I looked how routes are managed in core node module and I see that they are not defined in routing.yml file but inside a NodeRouteProvider class. Perhaps I should also define my route by extending the NodeRouteProvider class but I don't see how and where to do it.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 21372632,
                    "reputation": 35,
                    "user_id": 15739925,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/33166e232725d1e9bdb2c7e8d6277647?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "user15739925",
                    "link": "https://stackoverflow.com/users/15739925/user15739925"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1723797608,
                "creation_date": 1723797608,
                "answer_id": 78878295,
                "question_id": 78867860,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Finally I came to a solution with alterRoutes, thanks to <a href=\"https://drupalsun.com/philipnorton42/2022/10/16/drupal-9-altering-routes-route-subscriber-service\" rel=\"nofollow noreferrer\">https://drupalsun.com/philipnorton42/2022/10/16/drupal-9-altering-routes-route-subscriber-service</a></p>\n<pre><code>protected function alterRoutes(RouteCollection $collection) {\n\n    /** @var \\Symfony\\Component\\Routing\\Route $augmented_node_route */\n    $augmented_node_route = $collection-&gt;get('entity.node.canonical');\n    $augmented_node_route-&gt;setPath('/node/{node}/{arg}');\n    $augmented_node_route-&gt;addDefaults(['arg' =&gt; NULL]);\n    $augmented_node_route-&gt;addOptions([\n      'parameters' =&gt; [\n        'arg' =&gt; ['type' =&gt; 'string']\n      ]\n    ]);\n    $augmented_node_route-&gt;setRequirement('arg', '[0-9]{2}-[0-9]{2}');\n}\n</code></pre>\n<p>By setting 'arg' default to NULL this permits to access '/node/{node}' as well (without 'arg')</p>\n<p>What I don't understand is why when I try to achieve the same but with &quot;new Route&quot; in the same alterRoutes function (instead of altering the original route) it doesn't work or more precisely it works but duplicating the node title and without direct access to usual node tabs (edit, delete, revisions, etc.)</p>\n<pre><code>$route = new Route('/page/{node}/{arg}');\n$route-&gt;addDefaults([\n  '_controller' =&gt; '\\Drupal\\node\\Controller\\NodeViewController::view',\n  '_title' =&gt; 'Page added through route subscriber',\n]);\n$route-&gt;addRequirements(\n  [\n    '_entity_access' =&gt; 'node.view'\n  ]\n);\n$collection-&gt;add('myModule.node.canonical', $route);\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "twig",
            "drupal-10"
        ],
        "owner": {
            "account_id": 21372632,
            "reputation": 35,
            "user_id": 15739925,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/33166e232725d1e9bdb2c7e8d6277647?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user15739925",
            "link": "https://stackoverflow.com/users/15739925/user15739925"
        },
        "is_answered": false,
        "view_count": 35,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551210,
        "creation_date": 1724179763,
        "last_edit_date": 1727551210,
        "question_id": 78894016,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78894016/how-can-i-add-a-class-to-a-list-item",
        "title": "How can I add a class to a list item?",
        "body": "<p>I have created an item list inside a foreach loop like</p>\n<pre><code>$items[] = [\n  '#markup' =&gt; 'some html text'\n]\n</code></pre>\n<p>then pass it to</p>\n<pre><code>themed_list = [\n '#theme' =&gt; 'item_list',\n '#items' =&gt; $items,  \n '#attributes' =&gt; ['class' =&gt; ['my-list-class']],\n];\n</code></pre>\n<p>this works fine with the Drupal's standard item_list.html.twig</p>\n<pre><code>{% if context.list_style %}\n    {%- set wrapper_attributes = wrapper_attributes.addClass('item-list--' ~ context.list_style) %}\n    {%- set attributes = attributes.addClass('item-list__' ~ context.list_style) %}\n{% endif %}\n{% if items or empty -%}\n    &lt;div{{wrapper_attributes.addClass('item-list')}}&gt;\n        {%- if title is not empty -%}\n            &lt;h3&gt;{{ title }}&lt;/h3&gt;\n        {%- endif -%}\n        {%- if items -%}\n            &lt;{{list_type}}{{attributes.addClass('list-group')}}&gt;\n                {%- for item in items -%}\n                    &lt;li{{item.attributes.addClass('list-group-item')}}&gt;{{ item.value }}&lt;/li&gt;\n                {%- endfor -%}\n            &lt;/{{list_type}}&gt;\n        {%- else -%}\n            {{- empty -}\n</code></pre>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal"
        ],
        "owner": {
            "account_id": 35042392,
            "reputation": 1,
            "user_id": 26944708,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/a797e35318a2405b70853755ddd35e62?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Neekko Art",
            "link": "https://stackoverflow.com/users/26944708/neekko-art"
        },
        "is_answered": true,
        "view_count": 85,
        "accepted_answer_id": 78903049,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727551105,
        "creation_date": 1724286299,
        "last_edit_date": 1727551105,
        "question_id": 78899389,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78899389/why-am-i-getting-an-error-when-i-try-to-install-drupal",
        "title": "Why am I getting an error when I try to install Drupal?",
        "body": "<p>I'm trying to expand my web dev skillset, so I installed Drupal 11.0.1 via cPanel/Softaculus to play with. However, the page refuses to load (HTTP ERROR 500) and this is the error shown in the error_log file:</p>\n<pre><code>[21-Aug-2024 15:22:59 America/Chicago] PHP Parse error:  syntax error, unexpected ')' in /home4/dluggon/public_html/commissions.neekko.art/core/lib/Drupal/Core/DrupalKernel.php on line 1636\n</code></pre>\n<p><a href=\"https://i.sstatic.net/M6gezO6p.png\" rel=\"nofollow noreferrer\">screenshot of error_log</a></p>\n<p>And this is the line causing the error in /core/lib/Drupal/Core/DrupalKernel.php:</p>\n<pre><code>Request::setFactory([$request_factory, 'createRequest'](...));\n</code></pre>\n<p><a href=\"https://i.sstatic.net/xh8xS2iI.png\" rel=\"nofollow noreferrer\">screenshot of line 1636</a></p>\n<p>As far as I can see, line 1636 isn't broken..?</p>\n<p>I tried manually uninstalling Drupal by deleting all the files and the database, then tried reinstalling it manually using the ZIP downloaded from the official Drupal site. No improvement.</p>\n<p>I tried commenting out the line, which didn't work. I also Ctrl+F'd the number of (), [], and {} to see if any were missing, but none are...</p>\n<p>I am new to Drupal, though, so any insight into my issue is welcome!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 35042392,
                    "reputation": 1,
                    "user_id": 26944708,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/a797e35318a2405b70853755ddd35e62?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Neekko Art",
                    "link": "https://stackoverflow.com/users/26944708/neekko-art"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1724351996,
                "creation_date": 1724351996,
                "answer_id": 78903049,
                "question_id": 78899389,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Turns out my server is still running PHP 7.4 and Drupal 11 requires 8.3. The site works now after I downgraded to Drupal 7.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "mysql",
            "drupal",
            "drupal-9"
        ],
        "owner": {
            "account_id": 29914423,
            "reputation": 1,
            "user_id": 22924969,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocIr5_2hThEttYyxaReE2bGr-rGjSuHQqrXDCvmnfvWq=k-s256",
            "display_name": "Mr. V",
            "link": "https://stackoverflow.com/users/22924969/mr-v"
        },
        "is_answered": false,
        "view_count": 30,
        "answer_count": 1,
        "score": -1,
        "last_activity_date": 1727551071,
        "creation_date": 1724292061,
        "last_edit_date": 1727551071,
        "question_id": 78899542,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78899542/mysql-entity-diagram",
        "title": "MYSQL Entity diagram",
        "body": "<p>please share entity diagram for the default core drupal tables and the respective primary and foreign key mappings with other tables.</p>\n<p>Example:\nNeed to see the relationship between these tables\n1.key_value\n2.sessions\n3.users_field_data\n4.locales_location\n5.locales_source\n6.search_api_item\n7.locales_target</p>\n<p>I need for Drupal 9.5.7 like this <code>https://www.drupal.org/node/2360815</code> as follows</p>\n<p><a href=\"https://www.drupal.org/node/2360815\" rel=\"nofollow noreferrer\"><img src=\"https://www.drupal.org/files/drupal7-db-schema.png\" alt=\"entity diagram\" /></a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1610210,
                    "reputation": 1402,
                    "user_id": 1489444,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/18211b8158580a08a8bebda4ca4d9439?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Viswanath Polaki",
                    "link": "https://stackoverflow.com/users/1489444/viswanath-polaki"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1725947475,
                "creation_date": 1725947475,
                "answer_id": 78968055,
                "question_id": 78899542,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can install phpmyadmin and access the &quot;Designer&quot; tab in top menu after selection of the database.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-forms",
            "drupal-form-validation"
        ],
        "owner": {
            "account_id": 14220066,
            "reputation": 183,
            "user_id": 10272671,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/2333765416640162/picture?type=large",
            "display_name": "Stef Verniers",
            "link": "https://stackoverflow.com/users/10272671/stef-verniers"
        },
        "is_answered": false,
        "view_count": 43,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727551018,
        "creation_date": 1724665487,
        "last_edit_date": 1727551018,
        "question_id": 78913765,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78913765/what-is-the-best-way-to-validate-an-uploaded-file",
        "title": "What is the best way to validate an uploaded file?",
        "body": "<p>I'm creating a custom module where people can fill out a form to apply for a job. Of course I want to implement form validation but it goes wrong when I want to validate the uploaded file.</p>\n<p>I can't seem to find a clear way to validate uploaded files, like anywhere. I'm trying to rely on my php knowledge but of course it is not entirely the same when it comes down to drupal.</p>\n<p>I'm providing you guys with something I had now, which clearly doesn't work, but I would like to ask what you would say is the best way to validate uploaded files? And without installing third party modules..</p>\n<p>What I tried:</p>\n<pre><code>// Validate the uploaded file\n$validators = ['file_validate_extensions' =&gt; ['docx doc pdf jpg jpeg png']];\n$file = file_save_upload('cv', $validators, FALSE, 0);\n\nif (!$file) {\n    // Add error message if the file isn't validated\n    $form_state-&gt;setErrorByName('cv', $this-&gt;t('Uw CV heeft een niet-toegestane extensie. Probeer het opnieuw.'));\n} else {\n    // Set the correct file in the form state\n    $form_state-&gt;setValue('cv', $file);\n}\n</code></pre>\n<p>Unfortunately, file_save_upload is not recognized because it's deprecated and drupals documentation is a bit confusing to me..</p>\n<p>Thanks in advance!</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-10",
            "drupal-entities"
        ],
        "owner": {
            "account_id": 4523849,
            "reputation": 46,
            "user_id": 3676282,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/dM64X.png?s=256",
            "display_name": "Samuel E. Cerezo",
            "link": "https://stackoverflow.com/users/3676282/samuel-e-cerezo"
        },
        "is_answered": false,
        "view_count": 31,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727550928,
        "creation_date": 1724810076,
        "last_edit_date": 1727550928,
        "question_id": 78921274,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78921274/error-drupal-sqlstate22p02-invalid-text-representation-7-error-invalid-inpu",
        "title": "Error Drupal SQLSTATE[22P02]: Invalid text representation: 7 ERROR: invalid input syntax for type bigint",
        "body": "<p>I have an error after migrating Drupal database from MySQL to PostgresSQL. All works fine, but when I want to add a node (all types), an error fires:</p>\n<p><em>Drupal\\Core\\Entity\\EntityStorageException</em>: SQLSTATE[22P02]: Invalid text representation: 7 ERROR: invalid input syntax for type bigint: &quot;&quot; LINE 2: WHERE &quot;nid&quot; = '' ^: DELETE FROM &quot;node_field_data&quot; WHERE &quot;nid&quot; = :db_condition_placeholder_0; Array ( [:db_condition_placeholder_0] =&gt; ) in <em>Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;save()</em> (line <em>817</em> of <em>core/lib/Drupal/Core/Entity/Sql/SqlContentEntityStorage.php</em>).</p>\n<p>This error appears after pushing the &quot;create&quot; button in new node page.</p>\n<p>I'm going crazy and can't figure it out.</p>\n<p>Drupal version is 10.3.2</p>\n<p>Any help is welcome. Thanks in advance.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "twig",
            "drupal-10"
        ],
        "owner": {
            "account_id": 1582755,
            "reputation": 51,
            "user_id": 20991010,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/vwdRs.png?s=256",
            "display_name": "McHunkerson",
            "link": "https://stackoverflow.com/users/20991010/mchunkerson"
        },
        "is_answered": false,
        "view_count": 27,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1727550868,
        "creation_date": 1724981245,
        "last_edit_date": 1727550868,
        "question_id": 78930145,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78930145/preview-content-by-content-type",
        "title": "Preview content by content type",
        "body": "<p>Is it possible to Preview Drupal content by content type? Currently the preview template options are</p>\n<pre><code>page--node--preview--f7fd5df8-d58d-42f8-b274-8d224eddbb5a--full.html.twig\n   â–ªï¸ page--node--preview--f7fd5df8-d58d-42f8-b274-8d224eddbb5a.html.twig\n   âœ… page--node--preview.html.twig\n   â–ªï¸ page--node.html.twig\n   â–ªï¸ page.html.twig\n</code></pre>\n<p>...but is there a preprocess function or solution to allow preview by Content Type e.g. <code>page--node--preview--CONTENT-TYPE.html.twig</code></p>\n<p>I tried below with no luck from another forum:</p>\n<pre><code>function THEME_theme_suggestions_page_alter(array &amp;$suggestions, array $variables) {\n  $routeMatch = \\Drupal::routeMatch();\n  $node_preview = $routeMatch-&gt;getParameter('node_preview');\n  if ($node_preview instanceof NodeInterface) {\n    $suggestions[] = 'page__node__preview__' . $node_preview-&gt;bundle();\n    if ($view_mode_id = $routeMatch-&gt;getParameter('view_mode_id')) {\n      $suggestions[] = 'page__node__preview__' . $node_preview-&gt;bundle() . '__' . $view_mode_id;\n    }\n  }\n}\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 9123010,
                    "reputation": 367,
                    "user_id": 6787839,
                    "user_type": "registered",
                    "accept_rate": 25,
                    "profile_image": "https://www.gravatar.com/avatar/a6ace1f55a23a5743226758a05b79728?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Zaid Khan",
                    "link": "https://stackoverflow.com/users/6787839/zaid-khan"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1726148414,
                "creation_date": 1726148414,
                "answer_id": 78978442,
                "question_id": 78930145,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Don't think so that if there is any suggestion for node preview on the basis of content type exist.</p>\n<p>I think the approach is correct. Can you please enter a route check to see if it generates the preview suggestion. Like the following</p>\n<pre><code>function yourtheme_theme_suggestions_page_alter(array &amp;$suggestions, array $variables) {\n      \n      if (\\Drupal::routeMatch()-&gt;getRouteName() === 'entity.node.preview') {\n        $node = \\Drupal::routeMatch()-&gt;getParameter('node_preview'); \n        $suggestions[] = 'page__node__preview__' . $node-&gt;getType();\n      }\n }\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "css",
            "drupal",
            "drupal-7"
        ],
        "owner": {
            "account_id": 229272,
            "reputation": 2070,
            "user_id": 492132,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/32312b8ab1dd4138c01b2d9a969893f2?s=256&d=identicon&r=PG",
            "display_name": "Richard",
            "link": "https://stackoverflow.com/users/492132/richard"
        },
        "is_answered": true,
        "view_count": 20,
        "accepted_answer_id": 78936283,
        "answer_count": 1,
        "score": -1,
        "last_activity_date": 1727550840,
        "creation_date": 1725145752,
        "last_edit_date": 1727550840,
        "question_id": 78936282,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78936282/checkboxes-radios-that-failed-validation-do-not-show-a-red-box-around-them-lik",
        "title": "Checkboxes &amp; radios that failed validation do not show a red box around them like other fields",
        "body": "<p>In Drupal 7, the default behavior for a field which <strong>fails</strong> validation is to show a red box as the border of the field.  For example, if the field was <em>required</em> but no input was supplied.</p>\n<p>This works great, but not for checkboxes!  See below:</p>\n<blockquote>\n<p><a href=\"https://i.sstatic.net/2hu02HM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2hu02HM6.png\" alt=\"No red error box for checkboxes\" /></a></p>\n</blockquote>\n<p>This is because the &quot;error&quot; class gets added to the input field itself, and checkboxes &amp; radios don't let you style their borders (at the time of this writing).</p>\n<p>But, I figure out how to make it work pretty simply. Answer posted below.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 229272,
                    "reputation": 2070,
                    "user_id": 492132,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/32312b8ab1dd4138c01b2d9a969893f2?s=256&d=identicon&r=PG",
                    "display_name": "Richard",
                    "link": "https://stackoverflow.com/users/492132/richard"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1725145752,
                "creation_date": 1725145752,
                "answer_id": 78936283,
                "question_id": 78936282,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Since the checkboxes themselves actually have the &quot;error&quot; class, you need to use the :has() pseudo-element on its parent wrapper like so:</p>\n<pre><code>.form-checkboxes:has(.error) {\n  border: 1px solid #c00;\n}\n</code></pre>\n<p>As you can see, it's pretty simple CSS to add to your site.  Here is the result:</p>\n<blockquote>\n<p><a href=\"https://i.sstatic.net/vl5pWCo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/vl5pWCo7.png\" alt=\"Working error border for checkboxes\" /></a></p>\n</blockquote>\n<p>I hope this helps someone out there!</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-views"
        ],
        "owner": {
            "account_id": 3963034,
            "reputation": 1,
            "user_id": 3269707,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/50fa696a21143cb82ab9b3d42c97aba2?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Luke",
            "link": "https://stackoverflow.com/users/3269707/luke"
        },
        "is_answered": false,
        "view_count": 28,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727550786,
        "creation_date": 1725255840,
        "last_edit_date": 1727550786,
        "question_id": 78939064,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78939064/create-a-view-to-display-a-field-that-is-specified-by-parameter",
        "title": "Create a view to display a field that is specified by parameter",
        "body": "<p>I need to create a view in Drupal 10 that shows all nodes of a set content type that has a given field not empty.<br />\nBut I want to pass the field name/id as a parameter.</p>\n<p>So the view will return all nodes with field_1 not empty when I pass 'field_1' as parameter.<br />\nAnd it will return all nodes with field_2 not empty when I pass 'field_2' as a parameter.</p>\n<p>My initial feeling is that it's not possible but I know there are magicians out there....</p>\n<p>Thanks!</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 35634897,
            "reputation": 1,
            "user_id": 27319272,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/eb826e3c5270a30d6b43656e42a549d9?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "WhirlyByrd",
            "link": "https://stackoverflow.com/users/27319272/whirlybyrd"
        },
        "is_answered": false,
        "view_count": 41,
        "closed_date": 1727552701,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727550693,
        "creation_date": 1726354835,
        "last_edit_date": 1727550693,
        "question_id": 78986313,
        "link": "https://stackoverflow.com/questions/78986313/fillpdf-module-says-pdf-does-not-contain-fillable-fields",
        "closed_reason": "Not suitable for this site",
        "title": "FillPDF module says &#39;PDF does not contain fillable fields.&#39;",
        "body": "<p>It does have fillable paths, and there are no permission settings that would prevent access to the PDF. I'm using pdftk - installed on IIS. The path is configured and permissions are set. Is it something that needs to be added to settings.php?</p>\n<ul>\n<li>Drupal 10.3.5</li>\n<li>PHP 8.1.8</li>\n<li>IIS 10.0</li>\n</ul>\n<p>Checked the path.\nChecked if pdftk was installed correctly, it is.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-webform",
            "drupal-10"
        ],
        "owner": {
            "account_id": 20979389,
            "reputation": 1,
            "user_id": 27389552,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhJf2vemxz0nCVQOnsX0AgtA4AibqauiG_Ahz5T=k-s256",
            "display_name": "Mohammad Erekat",
            "link": "https://stackoverflow.com/users/27389552/mohammad-erekat"
        },
        "is_answered": false,
        "view_count": 25,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1727550601,
        "creation_date": 1726819582,
        "last_edit_date": 1727550601,
        "question_id": 79005847,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79005847/custom-webform-element-in-drupal-radio-buttons-with-score-input-field",
        "title": "Custom Webform Element in Drupal: Radio Buttons with Score Input Field",
        "body": "<p>I'm developing a custom Drupal module to add a new form element to the Webform module, which allows users to assign a score to each option in a radio button field. Iâ€™m new to Drupal development and would appreciate any guidance on what I might be doing wrong.\nObjective:</p>\n<p>To create a custom Webform element where each radio option can have an additional score input field.\nHere is the code for webform_custom_choice.module:</p>\n<pre><code>&lt;?php\n\n/**\n * Implements hook_webform_element_info_alter().\n */\nfunction webform_custom_choice_webform_element_info_alter(array &amp;$element_info) {\n  $element_info['choice_with_score'] = [\n    'class' =&gt; 'Drupal\\webform_custom_choice\\Plugin\\WebformElement\\ChoiceWithScore',\n    'label' =&gt; t('Choice with Score'),\n    'description' =&gt; t('Adds a radio button with an extra score field per option.'),\n  ];\n}\n\n/**\n * Implements hook_webform_element_presave().\n */\nfunction webform_custom_choice_webform_element_presave(&amp;$element) {\n  if (isset($element['#score'])) {\n    foreach ($element['#options'] as $key =&gt; &amp;$option) {\n      $element['#score'][$key] = $element['#score'][$key] ?? 0;\n    }\n  }\n}\n\n/**\n * Implements hook_webform_submission_presave().\n */\nfunction webform_custom_choice_webform_submission_presave(\\Drupal\\webform\\Entity\\WebformSubmission $webform_submission) {\n  $data = $webform_submission-&gt;getData();\n\n  if (isset($data['choice_with_score'])) {\n    $choice_value = $data['choice_with_score'];\n    $element = $webform_submission-&gt;getWebform()-&gt;getElement('choice_with_score');\n    $score = isset($element['#score'][$choice_value]) ? $element['#score'][$choice_value] : 0;\n\n    $data['choice_with_score'] = ['value' =&gt; $choice_value, 'score' =&gt; $score];\n    $webform_submission-&gt;setData($data);\n  }\n}\n</code></pre>\n<p>Here is the code for ChoiceWithScore.php:</p>\n<p>php</p>\n<pre><code>&lt;?php\n\nnamespace Drupal\\webform_custom_choice\\Plugin\\WebformElement;\n\nuse Drupal\\webform\\Plugin\\WebformElement\\Radios;\nuse Drupal\\Core\\Form\\FormStateInterface;\n\n/**\n * Provides a 'choice_with_score' element.\n *\n * @WebformElement(\n *   id = &quot;choice_with_score&quot;,\n *   label = @Translation(&quot;Choice with Score&quot;),\n *   description = @Translation(&quot;Provides a radio button element with an additional score field for each option.&quot;),\n *   category = @Translation(&quot;Choices&quot;),\n * )\n */\nclass ChoiceWithScore extends Radios {\n\n  /**\n   * {@inheritdoc}\n   */\n  public function prepare(array &amp;$element, ?\\Drupal\\webform\\WebformSubmissionInterface $webform_submission = null) {\n    parent::prepare($element, $webform_submission);\n\n    if (isset($element['#options'])) {\n      foreach ($element['#options'] as $key =&gt; &amp;$value) {\n        if (isset($element['#score'][$key])) {\n          $value .= ' (Score: ' . $element['#score'][$key] . ')';\n        } else {\n          $element['#score'][$key] = 0;\n        }\n      }\n    }\n  }\n\n  /**\n   * {@inheritdoc}\n   */\n  public function getDefaultProperties() {\n    $properties = parent::getDefaultProperties();\n    $properties['states_wrapper'] = [];\n    $properties['id'] = 'choice_with_score';\n    $properties['composite'] = FALSE;\n    $properties['multiline'] = FALSE;\n    $properties['score'] = [];\n\n    return $properties;\n  }\n\n  /**\n   * {@inheritdoc}\n   */\n  public function settingsForm(array $form, FormStateInterface $form_state, array $complete_form) {\n    $form = parent::settingsForm($form, $form_state, $complete_form);\n\n    $options = $form_state-&gt;getValue(['properties', 'options']) ?: $this-&gt;getElementOptions();\n    $scores = $form_state-&gt;getValue(['properties', 'score']) ?: $this-&gt;getElementScore();\n\n    foreach ($options as $key =&gt; $label) {\n      $form['score'][$key] = [\n        '#type' =&gt; 'number',\n        '#title' =&gt; $this-&gt;t('Score for @option', ['@option' =&gt; $label]),\n        '#default_value' =&gt; isset($scores[$key]) ? $scores[$key] : 0,\n        '#description' =&gt; $this-&gt;t('Specify a score for this option.'),\n      ];\n    }\n\n    return $form;\n  }\n\n  /**\n   * Helper function to get scores for each option.\n   */\n  private function getElementScore() {\n    return $this-&gt;getElementProperty('score', []);\n  }\n}\n\n\n</code></pre>\n<p>Issues:</p>\n<ul>\n<li>I can't see the extra score input fields when creating a webform.</li>\n<li>When I test the form, the question doesnâ€™t display, and when I submit the form, I can only see the selected option without the score.</li>\n</ul>\n<p>What I might be missing or doing wrong?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "facebook",
            "drupal"
        ],
        "owner": {
            "account_id": 271581,
            "reputation": 85,
            "user_id": 562187,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5b2abf4a3176c61c38c895cc804fdb1c?s=256&d=identicon&r=PG",
            "display_name": "Vadim Barsukov",
            "link": "https://stackoverflow.com/users/562187/vadim-barsukov"
        },
        "is_answered": true,
        "view_count": 2889,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1727543628,
        "creation_date": 1294741853,
        "question_id": 4656631,
        "content_license": "CC BY-SA 2.5",
        "link": "https://stackoverflow.com/questions/4656631/how-i-can-post-my-facebook-comments-to-my-drupal-site",
        "title": "How I can post my Facebook comments to my Drupal Site?",
        "body": "<p>How I can post my Facebook comments to my Drupal Site?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 277152,
                    "reputation": 4147,
                    "user_id": 570958,
                    "user_type": "registered",
                    "accept_rate": 86,
                    "profile_image": "https://www.gravatar.com/avatar/31c60f6ea107180955d6e695b74a6a7f?s=256&d=identicon&r=PG",
                    "display_name": "Roozbeh15",
                    "link": "https://stackoverflow.com/users/570958/roozbeh15"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1727543628,
                "last_edit_date": 1727543628,
                "creation_date": 1294780146,
                "answer_id": 4662686,
                "question_id": 4656631,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Use facebook's comment plugin.</p>\n<p>I am assuming you already have a facebook connect or something setup. Here's more info:</p>\n<p><a href=\"http://developers.facebook.com/docs/reference/plugins/comments\" rel=\"nofollow noreferrer\">http://developers.facebook.com/docs/reference/plugins/comments</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 37158,
                    "reputation": 1910,
                    "user_id": 106178,
                    "user_type": "registered",
                    "accept_rate": 73,
                    "profile_image": "https://www.gravatar.com/avatar/3e5a16a14b63bf73f12985c7c710c5ad?s=256&d=identicon&r=PG",
                    "display_name": "Christopher Cooper",
                    "link": "https://stackoverflow.com/users/106178/christopher-cooper"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1433266712,
                "creation_date": 1433266712,
                "answer_id": 30602932,
                "question_id": 4656631,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>You can use the Drupal <a href=\"https://www.drupal.org/project/facebook_comments\" rel=\"nofollow\">Facebook Comments Social Plugin module</a> to do this. It integrates with Facebook's Comments plugin. It's fairly straightforward to setup but here's a <a href=\"http://www.daymuse.com/blogs/drupal-facebook-comments-social-plugin-module-tutorial\" rel=\"nofollow\">tutorial to integrating Drupal with Facebook comments</a> using that module if you want a walkthrough.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal"
        ],
        "owner": {
            "account_id": 227396,
            "reputation": 2633,
            "user_id": 489046,
            "user_type": "registered",
            "accept_rate": 69,
            "profile_image": "https://www.gravatar.com/avatar/9773a0b78137873d02f10319aed8a36a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Miko",
            "link": "https://stackoverflow.com/users/489046/miko"
        },
        "is_answered": true,
        "view_count": 4012,
        "answer_count": 4,
        "score": 2,
        "last_activity_date": 1727368290,
        "creation_date": 1307452834,
        "question_id": 6265822,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/6265822/evald-code-problem-in-drupal",
        "title": "eval&#39;d code problem in Drupal",
        "body": "<p>When i login to my drupal page. It's showing the following error</p>\n\n<pre><code>Parse error: syntax error, unexpected '&lt;' in /document_root/sites/all/modules/rules/rules/modules/php.rules.inc(107) :\n</code></pre>\n\n<p>eval()'d code on line 1</p>\n\n<p>When i just figure out to the particular page there is no problem in that function . Below is the function where the error marked..</p>\n\n<pre><code>function rules_php_eval_return($code, $arguments = array()) {\n  extract($arguments);\n  return eval($code);\n}\n</code></pre>\n\n<p>Could any one can suggest me what's the problem may be!! It's drupal 6.x version.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 393860,
                    "reputation": 3849,
                    "user_id": 755938,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/7d6d79398bf76499332f81b8069267dc?s=256&d=identicon&r=PG",
                    "display_name": "G&#233;rald Cro&#235;s",
                    "link": "https://stackoverflow.com/users/755938/g%c3%a9rald-cro%c3%abs"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1727368290,
                "last_edit_date": 1727368290,
                "creation_date": 1307455078,
                "answer_id": 6266329,
                "question_id": 6265822,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I don't know drupal, but i think that $code contains something like :</p>\n<pre><code>$code = '&lt;?php $someCode;';\neval($code);\n//Produces : Parse error: syntax error, unexpected '&lt;' in file(1) : eval()'d code on line 1\n</code></pre>\n<p>The error is telling you that <code>$code</code> contains a parse error (maybe the phptag)</p>\n<p>You can <code>echo $code</code> to check what's wrong.</p>\n"
            },
            {
                "owner": {
                    "account_id": 2028494,
                    "reputation": 963,
                    "user_id": 1812854,
                    "user_type": "registered",
                    "accept_rate": 89,
                    "profile_image": "https://www.gravatar.com/avatar/d50e2def706cc438f250bd5e70b4a5ac?s=256&d=identicon&r=PG",
                    "display_name": "Wayne Weibel",
                    "link": "https://stackoverflow.com/users/1812854/wayne-weibel"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1353335521,
                "creation_date": 1353335521,
                "answer_id": 13455907,
                "question_id": 6265822,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I just had this same problem trying to process data returned from an HTTP request.  I was using simplexml_load_string, but the HTTP response was an error, so the data was not formatted as XML, thus causing simplexml to error (propogate up).  My message was the same as yours, \"error in file on line X; eval'd() code on line X\".  So, it may not necessarily be an error within your code, or even the eval'd code.</p>\n\n<p>While it looks like you don't have the following issue, it is something to keep in mind as well.  When declaring variables within the eval'd code they will scope the same as if inline in the file.  Similarly, variables preceding the eval'd code are available within it, and may cause collisions, or inadvertent re-assigning (eg. $i in nested loops).</p>\n"
            },
            {
                "owner": {
                    "account_id": 1929329,
                    "reputation": 21,
                    "user_id": 1739092,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/943f96571666e825ad5110c6c583c872?s=256&d=identicon&r=PG",
                    "display_name": "Wilbert",
                    "link": "https://stackoverflow.com/users/1739092/wilbert"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1349979654,
                "creation_date": 1349979654,
                "answer_id": 12846094,
                "question_id": 6265822,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I came accross an error like this when I pasted a PHP code snippet from the Drupal site into a block to show submenus. These submenus were detected and assigned in a foreach loop, but since there weren't any submenus, the menu variable remained unassigned and thus undeclared as well.</p>\n\n<p>My obvious solution was to assign an empty string to the menu variable before the foreach loop.</p>\n"
            },
            {
                "owner": {
                    "account_id": 412034,
                    "reputation": 4648,
                    "user_id": 784877,
                    "user_type": "registered",
                    "accept_rate": 67,
                    "profile_image": "https://www.gravatar.com/avatar/d865346c668ccc80971594d77b932ac1?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "AKS",
                    "link": "https://stackoverflow.com/users/784877/aks"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1307740261,
                "creation_date": 1307740261,
                "answer_id": 6312107,
                "question_id": 6265822,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>eval'd usually comes when bad custom php codes embeded in site using php module(php filter)\nIf you can access site in anyway, go to Triggered Rules and Rule Sets page and find if any rule is firing a custom php code.\nIt's idiot's style to put php codes in Rules. Either you should create a module or use Rules itself :)</p>\n\n<p>If you can't access the site, go to /modules folder and move the \"php\" folder somewhere else. Then you will be able to access site. Quickly remove buggy code and replace the folder.\nThen, start debugging it.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "twilio",
            "drupal-7",
            "sendgrid",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 28239395,
            "reputation": 174,
            "user_id": 21587394,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/7cb26bb4a0a3cda62f3a4e08ad9c2851?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Surya kiran",
            "link": "https://stackoverflow.com/users/21587394/surya-kiran"
        },
        "is_answered": true,
        "view_count": 10669,
        "protected_date": 1723068152,
        "accepted_answer_id": 76291908,
        "answer_count": 2,
        "score": 11,
        "last_activity_date": 1727327807,
        "creation_date": 1683794236,
        "last_edit_date": 1683809151,
        "question_id": 76225670,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/76225670/unable-to-create-account-in-sendgrid-getting-you-are-not-authorized-to-access",
        "title": "Unable to create account in Sendgrid. Getting, You are not authorized to access SendGrid, please contact",
        "body": "<p><strong>I'm working with drupal 10</strong>, i want to work with Sendgrid module</p>\n<p>I tried to create sendgrid account.I have entered all the basic details it asked. Then I got two mails Two-Factor Authentication &amp; also another mail like &quot; your account and have determined that Twilioâ€™s services cannot support your account at this time &quot; i don't known what happened I was creating first time my account in this.</p>\n<p><strong>Some Violations mail i got:-</strong>\n[<img src=\"https://i.sstatic.net/1erGA.png\" alt=\"Some Violations mail i got\" /></p>\n<p><strong>When i click 2Factor Authentication from other mail i got,I am redirecting to the Login Page. And when i try to log in, I'm getting this</strong></p>\n<p><a href=\"https://i.sstatic.net/DwnlQ.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/DwnlQ.png\" alt=\"enter image description here\" /></a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 48987,
                    "reputation": 1533,
                    "user_id": 145725,
                    "user_type": "registered",
                    "accept_rate": 50,
                    "profile_image": "https://www.gravatar.com/avatar/f4d069f8600380502924bf168a7e51c3?s=256&d=identicon&r=PG",
                    "display_name": "Matthew",
                    "link": "https://stackoverflow.com/users/145725/matthew"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727327807,
                "last_edit_date": 1727327807,
                "creation_date": 1725692064,
                "answer_id": 78959547,
                "question_id": 76225670,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Unfortunately, <a href=\"https://www.reddit.com/r/webdev/comments/f9s8mt/sendgrid_just_rejected_me_as_new_customer_for_no/\" rel=\"nofollow noreferrer\">this</a> <a href=\"https://www.reddit.com/r/twilio/comments/n18s5l/twilio_account_suspend_without_giving_any_reason/\" rel=\"nofollow noreferrer\">seems</a> <a href=\"https://www.reddit.com/r/AskProgramming/comments/177n5au/sendgridmailersend_has_anyone_else_failed_to_sign/\" rel=\"nofollow noreferrer\">pretty</a> <a href=\"https://www.reddit.com/r/twilio/comments/11ol721/twilio_suspended_my_account_and_blocking_login/\" rel=\"nofollow noreferrer\">common</a> with <a href=\"https://www.reddit.com/r/SendGrid/comments/14jgn23/denied_signup_instantly_for_violating_acceptable/\" rel=\"nofollow noreferrer\">SendGrid</a> and <a href=\"https://www.reddit.com/r/twilio/comments/mr6hsp/twilio_blocked_our_account_and_with_it_hundreds/\" rel=\"nofollow noreferrer\">Twilio</a>... but I finally made it from sign up to sign in 21 short days. Here's what I did:</p>\n<ol>\n<li>Signed up online</li>\n<li>Got rejected with no explanation</li>\n<li>Asked for review</li>\n<li>Got rejected again with no explanation</li>\n<li>Asked for review again</li>\n<li>Got rejected a third time with a vague explanation (just links to their <a href=\"https://www.twilio.com/en-us/legal/service-country-specific-terms/email\" rel=\"nofollow noreferrer\">Email Policy</a> and <a href=\"https://www.twilio.com/en-us/legal/aup\" rel=\"nofollow noreferrer\">Acceptable Use Policy</a>)</li>\n<li>Carefully read everything in policies and ask for a third time for a review</li>\n<li>Grumbled online and tried to ping a developer advocate or two [I'm not sure if this helped or not but I'm including it for completeness]</li>\n<li>Review was finally considered, but additional information was requested</li>\n<li>Wrote out several hundred words explaining who I am and what I have the temerity to try and sign up to SendGrid for</li>\n<li>Waited 3 days to finally be told someone else in another department in my organisation already has an account so I canâ€™t have one too</li>\n<li>Spent the next 2 weeks jumping through hoops to rename and transfer the existing account, including learning the hard way that:\n<ul>\n<li>A Twilio Sendgrid account can have a username of fred@example.org but an email address of sally@example.org (the log-in page says you can use either but that didn't seem to be the case for me)</li>\n<li>A Twilio Sendgrid account is not the same as a Twilio account, even if they have the same username (or is that email address ðŸ¤”)</li>\n</ul>\n</li>\n</ol>\n<p>I persisted out of stubbornness and curiosity but I won't pretend this is the best way. The easier answer seems to be what others suggested: try over and over again with different email domains (or maybe from a different IP address?) and hope one of them gets through...</p>\n<p>That or just use a different service provider that's more developer friendly ðŸ¤·â€â™‚ï¸</p>\n"
            },
            {
                "owner": {
                    "account_id": 28239395,
                    "reputation": 174,
                    "user_id": 21587394,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/7cb26bb4a0a3cda62f3a4e08ad9c2851?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Surya kiran",
                    "link": "https://stackoverflow.com/users/21587394/surya-kiran"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1684523946,
                "creation_date": 1684523946,
                "answer_id": 76291908,
                "question_id": 76225670,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I have created sendgrid account using another mail ( eg: abc@gmail.com ). And account got created successfully. After creating account i changed drupal site mail as well because sendgrid &amp; drupal site mail should be same. So,\n<strong>admin&gt; Configuration&gt; system&gt; Basic site settings</strong> here i changed my mail that linked to sendgrid ( abc@gmail.com ) now it worked for me.</p>\n<p><strong>Don't know why my other account got violations.\nI texted twillo team but no use. So i proceeded by adding new mail in both.</strong></p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "http-caching"
        ],
        "owner": {
            "account_id": 13116673,
            "reputation": 171,
            "user_id": 9475624,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/Q0ZtC.jpg?s=256",
            "display_name": "Jim D",
            "link": "https://stackoverflow.com/users/9475624/jim-d"
        },
        "is_answered": false,
        "view_count": 246,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1727176063,
        "creation_date": 1690373582,
        "question_id": 76771172,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/76771172/drupal-10-1-aggregated-css-files-not-cached-due-to-new-query-string",
        "title": "Drupal 10.1 Aggregated CSS files Not Cached Due to New Query String",
        "body": "<p>Since 10.1 an extremely long query string is being added to all aggregated css files.</p>\n<p>delta=3&amp;language=en&amp;theme=hhc&amp;include=eJx9UEGSxCAI_JCJb9iXTKFSkRqjFmB28_s12XFS2cNcpKFtaPCF0QZuFdJcuSyMIsaXrPijDdKgrsqUKD_FyC6Kq3UgaGL0dknFQerKqx14pQ3P_yaSaOHdQqU3XoGfE8jECOHsoeASygk3CljMRvgt9nzntYSW8DYgkNQEHo2WkhywfUXTBHl8OvBM3b_8aakvwrkTErFG5NDV7ZA2nkT37na5Krdx3Z7r7AoZFuTPRxpOIKyUH6_sjDJcnqaMxMLqm44eI78r3xplxA_UHMuGfKyY9f9VZhQPFb8OsXG0PCpVtAP8AuL1yiY</p>\n<p>These css files are no longer cached.  Every analysis tool I have tried flags this as a warning.  Is this query string required or is there a config option to disable it?  If required, seems like a big step backwards.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2811686,
                    "reputation": 33,
                    "user_id": 2417800,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/cdd0a998ec102d2998276a30c138429d?s=256&d=identicon&r=PG",
                    "display_name": "Dima Storozhuk",
                    "link": "https://stackoverflow.com/users/2417800/dima-storozhuk"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1727176063,
                "creation_date": 1727176063,
                "answer_id": 79018317,
                "question_id": 76771172,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Read this change request <a href=\"https://www.drupal.org/node/3301716\" rel=\"nofollow noreferrer\">https://www.drupal.org/node/3301716</a>.\nThis is required. It was made to improve the perfomance (however so far it cause problems on some sites).\nAccording to the change record - it is recommended to define libraries version now.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-theming",
            "drupal-themes",
            "drupal-9"
        ],
        "owner": {
            "user_type": "does_not_exist",
            "display_name": "user14340819"
        },
        "is_answered": true,
        "view_count": 3318,
        "accepted_answer_id": 66156037,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1726753712,
        "creation_date": 1612276743,
        "last_edit_date": 1612444591,
        "question_id": 66011876,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/66011876/drupal-9-message-and-message-statut-system-blocks-are-not-displayed",
        "title": "Drupal 9 - Message and message statut system blocks are not displayed",
        "body": "<p>Thanks for taking the time to read my question.</p>\n<p>I have a problem adding the message and message status blocks in my content region using Drupal 9. I'm using a custom theme.</p>\n<p>The blocks are simply not displayed. They are not even added to the DOM.</p>\n<p>Here is my block configuration : <a href=\"https://i.sstatic.net/90fkY.jpg\" rel=\"nofollow noreferrer\">https://i.sstatic.net/90fkY.jpg</a> (Sorry, it's in French. The two blocks are underlined in red)</p>\n<p>And the configuration of each block : <a href=\"https://i.sstatic.net/lq6jK.jpg\" rel=\"nofollow noreferrer\">https://i.sstatic.net/lq6jK.jpg</a> and <a href=\"https://i.sstatic.net/eUScy.jpg\" rel=\"nofollow noreferrer\">https://i.sstatic.net/eUScy.jpg</a> (again, in French, but there are no restriction on page, role or type of content - it should appear everywhere)</p>\n<p>I found these solutions online :</p>\n<p>1 - <a href=\"https://www.drupal.org/forum/support/theme-development/2016-03-08/d8-any-reason-why-blocks-arent-renderingdisplaying\" rel=\"nofollow noreferrer\">https://www.drupal.org/forum/support/theme-development/2016-03-08/d8-any-reason-why-blocks-arent-renderingdisplaying</a></p>\n<p>I tried uninstalling my theme, clearing the cache, reinstalling my theme but it doesn't work. The blocks did not appear in the Bartik theme either.</p>\n<p>2 - <a href=\"https://www.drupal.org/forum/support/post-installation/2018-09-23/new-blocks-not-displaying\" rel=\"nofollow noreferrer\">https://www.drupal.org/forum/support/post-installation/2018-09-23/new-blocks-not-displaying</a></p>\n<p>I tried adding a simple test block, it appears normally.</p>\n<p>I tried displaying a test message using $this-&gt;messenger()-&gt;addMessage(&quot;test&quot;); in a module to be sure there was something to display but with no success.</p>\n<p>I'm not sure if it helps but here is my page.twig template :</p>\n<pre><code>&lt;header aria-label=&quot;Site header&quot; class=&quot;header&quot; id=&quot;header&quot; role=&quot;banner&quot;&gt;\n    &lt;div id='header-content'&gt;\n        &lt;div id=&quot;header-left&quot;&gt;\n            {{ page.branding }}\n            {{ page.navigation }}\n        &lt;/div&gt;\n        &lt;div id='header-right'&gt;\n            {{ page.user_menu }}\n            {{ page.search }}\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/header&gt;\n&lt;section class=&quot;main&quot; id=&quot;main&quot;&gt;\n   &lt;main aria-label=&quot;Site main content&quot; class=&quot;content&quot; id=&quot;content&quot; role=&quot;main&quot;&gt;\n     {{ page.content }}\n   &lt;/main&gt;\n&lt;/section&gt;\n&lt;footer aria-label=&quot;Site footer&quot; class=&quot;footer&quot; id=&quot;footer&quot; role=&quot;contentinfo&quot;&gt;\n   &lt;div class=&quot;footer--top&quot;&gt;\n     {{ page.footer_first }}\n   &lt;/div&gt;\n   &lt;div class=&quot;footer--bottom&quot;&gt;\n       {{ page.footer_bottom }}\n   &lt;/div&gt;\n&lt;/footer&gt;\n</code></pre>\n<p>Does any of you already encountered the problem ? Is there a solution ?</p>\n<p>Thanks again !</p>\n<p><strong>EDIT</strong></p>\n<p>Here is the output from twig debug :</p>\n<pre><code>&lt;!-- THEME DEBUG --&gt;\n&lt;!-- THEME HOOK: 'block' --&gt;\n&lt;!-- FILE NAME SUGGESTIONS:\n   * block--messages.html.twig\n   x block--system-messages-block.html.twig\n   * block--system.html.twig\n   * block.html.twig\n--&gt;\n&lt;!-- BEGIN OUTPUT from 'core/modules/system/templates/block--system-messages-block.html.twig' --&gt;\n&lt;div data-drupal-messages-fallback class=&quot;hidden&quot;&gt;&lt;/div&gt;&lt;span data-big-pipe-placeholder-id=&quot;callback=Drupal%5CCore%5CRender%5CElement%5CStatusMessages%3A%3ArenderMessages&amp;amp;args%5B0%5D&amp;amp;token=_HAdUpwWmet0TOTe2PSiJuMntExoshbm1kh2wQzzzAA&quot;&gt;&lt;/span&gt;\n\n&lt;!-- END OUTPUT from 'core/modules/system/templates/block--system-messages-block.html.twig' --&gt;\n</code></pre>\n<p>This suggests that the \\Drupal::messenger()-&gt;addMessage(); does not output any message.</p>\n<p>A strange thing I noticed testing with a FormBase class is that the Drupal\\Core\\Form\\FormStateInterface::setErrorByName() method is working fine. A message is being displayed and the twig debug output becomes</p>\n<pre><code>&lt;!-- THEME DEBUG --&gt;\n&lt;!-- THEME HOOK: 'block' --&gt;\n&lt;!-- FILE NAME SUGGESTIONS:\n   * block--cessoc-messages.html.twig\n   x block--system-messages-block.html.twig\n   * block--system.html.twig\n   * block.html.twig\n--&gt;\n&lt;!-- BEGIN OUTPUT from 'core/modules/system/templates/block--system-messages-block.html.twig' --&gt;\n&lt;div data-drupal-messages-fallback class=&quot;hidden&quot;&gt;&lt;/div&gt;\n\n&lt;!-- THEME DEBUG --&gt;\n&lt;!-- THEME HOOK: 'status_messages' --&gt;\n&lt;!-- BEGIN OUTPUT from 'core/modules/system/templates/status-messages.html.twig' --&gt;\n&lt;div data-drupal-messages&gt;\n  &lt;div role=&quot;contentinfo&quot; aria-label=&quot;Message d'erreur&quot;&gt;\n          &lt;div role=&quot;alert&quot;&gt;\n              &lt;h2 class=&quot;visually-hidden&quot;&gt;Message d'erreur&lt;/h2&gt;\n              The title must be at least 5 characters long.\n              &lt;/div&gt;\n      &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!-- END OUTPUT from 'core/modules/system/templates/status-messages.html.twig' --&gt;\n\n\n\n&lt;!-- END OUTPUT from 'core/modules/system/templates/block--system-messages-block.html.twig' --&gt;\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 15463032,
                    "reputation": 141,
                    "user_id": 11155189,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/TzZwK.jpg?s=256",
                    "display_name": "Anoop Singh",
                    "link": "https://stackoverflow.com/users/11155189/anoop-singh"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1726753712,
                "creation_date": 1726753712,
                "answer_id": 79002875,
                "question_id": 66011876,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If the <strong>BigPipe</strong> module is enabled, the alert message is not displaying properly because <code>status-messages.html.twig</code> is not rendering.</p>\n<p><a href=\"https://i.sstatic.net/AJZ6uXS8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/AJZ6uXS8.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.sstatic.net/Knko0EbG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Knko0EbG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>When you uninstall that <strong>BigPipe</strong> module then the alert message is working fine and <code>status-messages.html.twig</code> is rendering.</strong></p>\n<p><a href=\"https://i.sstatic.net/F0ZKbssV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/F0ZKbssV.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.sstatic.net/mAEqpsDs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/mAEqpsDs.png\" alt=\"enter image description here\" /></a></p>\n"
            },
            {
                "owner": {
                    "user_type": "does_not_exist",
                    "display_name": "user14340819"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1613051455,
                "creation_date": 1613051455,
                "answer_id": 66156037,
                "question_id": 66011876,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>My problem is solved !</p>\n<p>Like <a href=\"https://stackoverflow.com/users/14791020/kien-nguyen\">Kien Nguyen</a> suggested, this was an issue caused by the BigPipe module not filling the message block with the status messages.</p>\n<p>Apparently, this was because my theme contained a jQuery.js file which was outdated. I deleted it and everything work fine now.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-8",
            "paragraph"
        ],
        "owner": {
            "account_id": 3735519,
            "reputation": 861,
            "user_id": 3106547,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://i.sstatic.net/lBze0.jpg?s=256",
            "display_name": "Elaman",
            "link": "https://stackoverflow.com/users/3106547/elaman"
        },
        "is_answered": true,
        "view_count": 8410,
        "accepted_answer_id": 50022040,
        "answer_count": 3,
        "score": 8,
        "last_activity_date": 1726654261,
        "creation_date": 1524640360,
        "last_edit_date": 1524657045,
        "question_id": 50016160,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/50016160/drupal-8-orphan-paragraphs",
        "title": "Drupal 8 orphan paragraphs",
        "body": "<p>I've noticed that Paragraph entities are not deleted from the database. They rather unlink from the parent node.</p>\n\n<p>This is noticeable if you create a view, that lists Paragraphs and attach a contextual filter, that filters by <code>Parent ID</code>.</p>\n\n<p>For now, I've found a workaround, to create a view that lists Content. Attach relationship to a Paragraph. This way it ensures that only linked paragraphs are displayed.</p>\n\n<p>There is still an issue of having hundreds of orphan Paragraphs and field data in the database. Is there a way of cleaning them?</p>\n\n<p><strong>EDIT:</strong>\nThis is apparently a major bug and could be found in Paragraph module's issue tracker: <a href=\"https://www.drupal.org/project/paragraphs/issues/2741937\" rel=\"noreferrer\">Removed paragraph entities are not deleted from database</a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 3300410,
                    "reputation": 2093,
                    "user_id": 2776727,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/c38f6255df694b842b5f0b588946beee?s=256&d=identicon&r=PG",
                    "display_name": "Andreas",
                    "link": "https://stackoverflow.com/users/2776727/andreas"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1726654261,
                "creation_date": 1726654261,
                "answer_id": 78997653,
                "question_id": 50016160,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Paragraphs itself depends on the module <code>entity_reference_revisions</code> and this comes with a cleanup drush command:</p>\n<p><code>drush err:purge</code></p>\n<p>This is probably the best tested way to clean out orphaned paragraphs.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1047407,
                    "reputation": 516,
                    "user_id": 1052132,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/1ca6171d4f3f718494cb9a8199c3d99f?s=256&d=identicon&r=PG",
                    "display_name": "Lotzy",
                    "link": "https://stackoverflow.com/users/1052132/lotzy"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1569343625,
                "last_edit_date": 1569343625,
                "creation_date": 1569338230,
                "answer_id": 58083458,
                "question_id": 50016160,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>We created a module called paragraphs_clean that implements <em>hook_entity_update()</em> (be careful: module name must be equal to the prefix of the <em>entity_update()</em> hook function) taking inspiration from here: <a href=\"https://www.drupal.org/project/paragraphs/issues/2741937#comment-13181377\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/paragraphs/issues/2741937#comment-13181377</a>. </p>\n\n<p>As it is stated, it seem to work well even if there are revisions and translations. Also we had to adapt the original php code to function in the case when paragraphs have paragraphs, too (i.e. nested paragraphs).</p>\n\n<p>This code is more efficient than the above as it will only load orphan paragraphs of the entity from the context.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>&lt;?php\n\n\n/**\n* @file\n* Paragraphs clean module.\n*/\n\nuse Drupal\\Core\\Entity\\EntityInterface;\nuse Drupal\\Core\\Entity\\FieldableEntityInterface;\nuse Drupal\\field\\Entity\\FieldConfig;\n\n/**\n* Implements hook_entity_update().\n* \n* When form updates, delete any paragraph entities that were removed.\n* \n* @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n*/\nfunction paragraphs_clean_entity_update(EntityInterface $entity) {\n\n  // Only act on content entities.\n  if (!($entity instanceof FieldableEntityInterface)) {\n    return;\n  }\n\n  $fieldManager = \\Drupal::service('entity_field.manager');\n  $parentEntities = $fieldManager-&gt;getFieldMapByFieldType('entity_reference_revisions');\n\n  if (!array_key_exists($entity-&gt;getEntityTypeId(), $parentEntities)) {\n    return;\n  }\n\n  $paragraph_definitions = [];\n\n  // loop through all paragraph types\n  foreach ($parentEntities[$entity-&gt;getEntityTypeId()] as $field_id =&gt; $settings) {\n    if ($configField = FieldConfig::loadByName($entity-&gt;getEntityTypeId(), $entity-&gt;bundle(), $field_id)) {\n      $paragraph_definitions[] = $configField;\n    }\n  }\n\n  if (empty($paragraph_definitions)) {\n    return;\n  }\n\n  foreach ($paragraph_definitions as $paragraph_definition) {\n\n    //get entity type name to make it work with any kind of parent entity (node, paragraph, etc.)\n    $entityTypeName = $entity-&gt;getEntityTypeId();\n\n    // Remove orphaned paragraphs.\n    $query = \\Drupal::database()-&gt;select('paragraphs_item_field_data', 'pfd')\n      -&gt;fields('pfd', ['id'])\n      -&gt;condition('pfd.parent_type', $entityTypeName) \n      -&gt;condition('pfd.parent_id', $entity-&gt;id())\n      -&gt;condition('pfd.parent_field_name', $paragraph_definition-&gt;getName());\n\n    $query-&gt;addJoin('left', $entityTypeName.'__'.$paragraph_definition-&gt;getName(),'nt','pfd.id=nt.'.$paragraph_definition-&gt;getName().'_target_id');\n    $query-&gt;isNull('nt.'.$paragraph_definition-&gt;getName().'_target_id');\n    $query-&gt;distinct();\n\n    $paragraph_ids = $query-&gt;execute()-&gt;fetchCol();\n\n    if ($paragraph_ids) {\n      $para_storage = \\Drupal::entityTypeManager()-&gt;getStorage('paragraph');\n      foreach ($paragraph_ids as $paragraph_id) {\n\n        if ($para = $para_storage-&gt;load($paragraph_id)) {\n          $para-&gt;delete();\n          drupal_set_message(t('Paragraph of type \"%type\" has been deleted: %id', ['%id' =&gt; $paragraph_id, '%type' =&gt; $paragraph_definition-&gt;getName()]));\n        }\n\n      }\n    }   \n\n  }\n\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 3735519,
                    "reputation": 861,
                    "user_id": 3106547,
                    "user_type": "registered",
                    "accept_rate": 90,
                    "profile_image": "https://i.sstatic.net/lBze0.jpg?s=256",
                    "display_name": "Elaman",
                    "link": "https://stackoverflow.com/users/3106547/elaman"
                },
                "is_accepted": true,
                "score": 10,
                "last_activity_date": 1556890020,
                "last_edit_date": 1556890020,
                "creation_date": 1524658336,
                "answer_id": 50022040,
                "question_id": 50016160,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Now that I've figured out that this is a bug and it is not fixed yet, my main goal is to just clean orphan Paragraphs.</p>\n\n<p>Someone created this module: <a href=\"https://www.drupal.org/project/paragraphs_clean\" rel=\"noreferrer\">Paragraph clean</a>, but I'm not a fan of using modules for such purposes.</p>\n\n<p>So, below I will post my first successful attempt to solve it. I must warn <strong>this isn't safe</strong>, because it deletes Paragraphs!</p>\n\n<p>The solution is not tested for using revisions, content translation, etc. So this might ruin your day. <strong>Backup your site</strong>.</p>\n\n<p>Using <code>Devel</code> module, go to <code>Development</code> > <code>Execute PHP Code</code>. Paste and execute following code:</p>\n\n<pre><code>// get all paragraphs\n$deleted = [];\n$paragraph_ids = \\Drupal::entityQuery('paragraph')-&gt;execute();\n$paragraphs = \\Drupal::entityTypeManager()-&gt;getStorage('paragraph')-&gt;loadMultiple($paragraph_ids);\nforeach ($paragraphs as $target_id =&gt; $paragraph) {\n  // get parent entity (node, taxonomy, paragraph, etc.)\n  $parent = $paragraph-&gt;getParentEntity();\n  $field_name = $paragraph-&gt;parent_field_name-&gt;value;\n\n  // Check if current paragraph exists in parent entity field values\n  $exists = FALSE;\n  $values = is_null($parent) ? [] : $parent-&gt;get($field_name)-&gt;getValue();\n  foreach($values as $value) {\n    if ($value['target_id'] == $target_id) {\n      $exists = TRUE;\n    }\n  }\n\n  // Delete paragraphs that aren't linked to an entity they claim as a parent\n  if (!$exists) {\n    $paragraph-&gt;delete();\n    $deleted[] = $target_id;\n  }\n}\n\nprint \"Deleted paragraph IDs: \" . implode(', ', $deleted);\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "reactjs",
            "graphql",
            "drupal",
            "gatsby",
            "gatsby-plugin-image"
        ],
        "owner": {
            "account_id": 20816314,
            "reputation": 11,
            "user_id": 15289017,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/e667cbf6aa0b5a7566de1e0ebf45fdb0?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Robin",
            "link": "https://stackoverflow.com/users/15289017/robin"
        },
        "is_answered": false,
        "view_count": 19,
        "answer_count": 0,
        "score": 1,
        "last_activity_date": 1726646457,
        "creation_date": 1726646457,
        "question_id": 78997127,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78997127/trouble-querying-childimagesharp-with-gatsby-and-drupal",
        "title": "Trouble querying childImageSharp with Gatsby and Drupal",
        "body": "<p>I am working on a gatsby with Drupal CMS project and am currently facing an issue regarding gatsby-plugin-image with the images coming from the CMS.</p>\n<p>I am trying to replace all my  tags with components but I seem to miss on something in the typeDef schema or graphql query as I am getting this warning during the build process :</p>\n<p><strong>warn You can't use childImageSharp together with undefined.undefined â€” use publicURL instead. The childImageSharp portion of the query in this file will return null:undefined</strong></p>\n<p>Here is my typeDef schema for the concerned Drupal paragraph :</p>\n<pre><code>module.exports = schema =&gt; [\n  schema.buildObjectType({\n    name: 'paragraph__image',\n    fields: {\n      id: 'ID!',\n      drupal_id: 'String',\n      drupal_internal__id: 'Int',\n      drupal_internal__revision_id: 'Int',\n      status: 'Boolean',\n      internal: 'Internal!',\n      type: {\n        type: 'String',\n        resolve: source =&gt; source.internal.type || '',\n      },\n      legend: {\n        type: 'String',\n        resolve: source =&gt;\n          source.field_paragraph_image_legend\n            ? source.field_paragraph_image_legend || ''\n            : '',\n      },\n      image: {\n        type: 'Image',\n        resolve: (source, args, context) =&gt; {\n          const imageFile = context.nodeModel.getNodeById({\n            type: 'file__image',\n            id: source.relationships.field_paragraph_image_image___NODE,\n          });\n\n          if (!source.field_paragraph_image_image) return {};\n          if (!imageFile) return {};\n\n          return {\n            fileName: source.field_paragraph_image_image.filename || '',\n            alt: source.field_paragraph_image_image.alt || '',\n            title: source.field_paragraph_image_image.title || '',\n            height: source.field_paragraph_image_image.height,\n            width: source.field_paragraph_image_image.width,\n            url: imageFile.uri.url || '',\n            imageStyleUri: imageFile.image_style_uri\n              ? imageFile.image_style_uri\n              : '',\n          };\n        },\n      },\n      imageBis: {\n        type: 'File',\n        resolve: (source, args, context) =&gt; {\n          const imageFile = context.nodeModel.getNodeById({\n            type: 'file__image',\n            id: source.relationships.field_paragraph_image_image___NODE,\n          });\n\n          if (!source.field_paragraph_image_image) return {};\n          if (!imageFile) return {};\n\n          return {\n            fileName: source.field_paragraph_image_image.filename || '',\n            alt: source.field_paragraph_image_image.alt || '',\n            title: source.field_paragraph_image_image.title || '',\n            height: source.field_paragraph_image_image.height,\n            width: source.field_paragraph_image_image.width,\n            url: imageFile.uri.url || '',\n            imageStyleUri: imageFile.image_style_uri\n              ? imageFile.image_style_uri\n              : '',\n          };\n        },\n      },\n      displayMode: {\n        type: 'String',\n        resolve: source =&gt; source.field_display_mode || '',\n      },\n    },\n    interfaces: ['Node'],\n    extensions: {\n      infer: false,\n    },\n  }),\n];\n\n</code></pre>\n<p>The field I want to query is &quot;imageBis&quot; which is a duplicate of &quot;image&quot; but I changed the type from &quot;Image&quot; to &quot;File&quot;.</p>\n<p>And here is the component containing my gql query :</p>\n<pre><code>import React from 'react';\nimport { graphql } from 'gatsby';\nimport classNames from 'classnames';\n\nimport absolutePath from 'utils/absolutePath';\nimport getTitleNode from 'utils/getters';\nimport unbreakableSpaceWithPunctuation from 'utils/unbreakableSpaceWithPunctuation';\n\nimport * as styles from './paragraphImage.module.css';\n\ntype Internal = {\n  type: string;\n};\n\ntype Image = {\n  url: string;\n  alt: string;\n};\n\ntype Paragraph = {\n  drupal_internal__id: number;\n  internal: Internal;\n  legend: string;\n  image: Image;\n  startPosition: number;\n  endPosition: number;\n  displayMode: string;\n};\n\ninterface Props {\n  paragraph: Paragraph;\n  stickyBarLink: string;\n}\n\nconst ParagraphImage = (props: Props) =&gt; {\n  const paragraphId = props.paragraph.drupal_internal__id;\n\n  const classesImage = classNames(styles.img, {\n    [`${styles.imgCenter}`]: props.paragraph.displayMode === 'center_position',\n  });\n  const classesImageContainer = classNames(styles.imgContainer, {\n    [`${styles.imgContainerCenter}`]:\n      props.paragraph.displayMode === 'center_position',\n  });\n\n  return (\n    &lt;div className={styles.alignRight} id={props.stickyBarLink}&gt;\n      &lt;div id={`summary-start-${paragraphId}`} /&gt;\n      &lt;div className={classesImageContainer}&gt;\n        &lt;img\n          className={classesImage}\n          src={absolutePath(props.paragraph.image.url)}\n          alt={getTitleNode(props.paragraph.image.alt)}\n          loading=&quot;lazy&quot;\n        /&gt;\n\n        {props.paragraph.legend &amp;&amp; (\n          &lt;legend className={styles.legend}&gt;\n            {unbreakableSpaceWithPunctuation(props.paragraph.legend)}\n          &lt;/legend&gt;\n        )}\n      &lt;/div&gt;\n      &lt;div id={`summary-end-${paragraphId}`} /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport const query = graphql`\n  fragment ParagraphImage on paragraph__image {\n    drupal_internal__id\n    internal {\n      type\n    }\n    legend\n    image {\n      url\n      alt\n    }\n    imageBis {\n      publicURL\n      childImageSharp {\n        gatsbyImageData\n      }\n    }\n    displayMode\n  }\n`;\n\nexport default ParagraphImage;\n\n</code></pre>\n<p>Am I missing on something in the query ?\nThanks a lot for any help.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "docker",
            "drupal",
            "apache2"
        ],
        "owner": {
            "account_id": 3232257,
            "reputation": 548,
            "user_id": 3855828,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/Zrfgq.jpg?s=256",
            "display_name": "Andrej Prsa",
            "link": "https://stackoverflow.com/users/3855828/andrej-prsa"
        },
        "is_answered": true,
        "view_count": 20,
        "accepted_answer_id": 78994954,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1726589852,
        "creation_date": 1726500998,
        "question_id": 78990850,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78990850/dockerized-drupal-renders-fine-locally-but-not-when-proxy-passed-in-apache",
        "title": "Dockerized drupal renders fine locally but not when proxy-passed in Apache",
        "body": "<p>I successfully dockerized an existing drupal 7 website with the following:</p>\n<pre><code># Dockerfile\nFROM drupal:7.101-php8.2-apache\nCOPY webroot /var/www/html\nWORKDIR /var/www/html\nEXPOSE 8006\n</code></pre>\n<pre><code># docker-compose.yaml\nservices:\n  mysql:\n    image: mysql:5.7\n    command: --max_allowed_packet=32505856\n    container_name: dbname\n    restart: always\n    volumes:\n      - ./dbname.sql:/docker-entrypoint-initdb.d/dbimport.sql\n      - ./dbdata:/var/lib/mysql\n      - /tmp/dbname/mysqld:/var/run/mysqld\n    environment:\n      MYSQL_ROOT_PASSWORD: some_password\n      MYSQL_DATABASE: dbname\n      MYSQL_USER: webadmin\n      MYSQL_PASSWORD: some_password\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot;, &quot;-u&quot;, &quot;webadmin&quot;, &quot;-psome_password&quot;, &quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\n      timeout: 10s\n      retries: 10\n    ports:\n      - &quot;3304:3306&quot;\n\n  drupal:\n    container_name: my_drupal\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    depends_on:\n      mysql:\n        condition: service_healthy\n    volumes:\n      - ./files:/var/www/html/files\n      - /tmp/dbname/mysqld:/var/run/mysqld\n    working_dir: /var/www/html\n    restart: always\n    ports:\n      - &quot;8006:80&quot;\n\nvolumes:\n  dbdata:\n</code></pre>\n<p>This works as expected when accessed locally, i.e. by going to <code>http://localhost:8006</code>. Then I wanted to deploy it on the server using the following apache2 setup:</p>\n<pre><code># mysite.conf\n&lt;VirtualHost *:443&gt;\n    ServerName  mysite.com\n    ServerAdmin me@mysite.com\n    Protocols h2 http/1.1\n\n    SSLEngine on\n    SSLCertificateFile &quot;/etc/ssl/certs/mycert.crt&quot;\n    SSLCertificateKeyFile &quot;/etc/ssl/private/mycert.key&quot;\n    SSLCertificateChainFile &quot;/etc/ssl/certs/mycert.chain.crt&quot;\n\n    &lt;Directory &quot;/&quot;&gt;\n        Order allow,deny\n        Allow from all\n        Require all granted\n    &lt;/Directory&gt;\n\n    ProxyPreserveHost on\n    ProxyPass / http://localhost:8006/\n    ProxyPassReverse / http://localhost:8006/\n\n    ErrorLog /var/log/apache2/mysite.errors.log\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>When I do this, only the basic HTML comes through, no js/css and the links to non-image files/* do not work either (getting 404). Nothing in the logs on the server side. If anyone has any ideas to point me in the right direction, I'd be very grateful!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 3232257,
                    "reputation": 548,
                    "user_id": 3855828,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/Zrfgq.jpg?s=256",
                    "display_name": "Andrej Prsa",
                    "link": "https://stackoverflow.com/users/3855828/andrej-prsa"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1726589852,
                "creation_date": 1726589852,
                "answer_id": 78994954,
                "question_id": 78990850,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I figured out the missing detail, and I am posting it here in hope that it helps someone else: in <code>sites/default/settings.php</code>, the explicit url needs to be set:</p>\n<pre><code>$base_url = 'https://example.com';\n</code></pre>\n<p>After that, everything works through the reverse proxy.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "joomla",
            "content-management-system",
            "adobe"
        ],
        "owner": {
            "account_id": 321587,
            "reputation": 11,
            "user_id": 640493,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/0cf6232f3efbe3ef6bc5a76f6f42b1f9?s=256&d=identicon&r=PG",
            "display_name": "Cody Kiker",
            "link": "https://stackoverflow.com/users/640493/cody-kiker"
        },
        "is_answered": true,
        "view_count": 118,
        "answer_count": 5,
        "score": 0,
        "last_activity_date": 1726549971,
        "creation_date": 1336153442,
        "question_id": 10453663,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/10453663/web-design-w-cms",
        "title": "Web Design w/CMS",
        "body": "<p>I recently \"inherited\" an IT company that has a creative wing that does websites.  Business is very good, but it seems like our throughput is very low.  It's taking 3-6 months per site for just basic sites (no ecommerce, etc).  From what I can tell, the process goes like this:</p>\n\n<ul>\n<li>designers design the site using Adobe products</li>\n<li>once those mock-ups look good, we outsource the files to be \"sliced\"</li>\n<li>once we get the artifacts back from the \"slicers\", the web coders plug the information into a Joomla site</li>\n<li>the site goes live</li>\n</ul>\n\n<p>My question:  is this the correct approach?  I don't know enough about CMSs to know if we're using them in the way they're intended to be used.  If there is a better process that you know of, or a better CMS that is easier to plug the results of the slicing into, I would love to hear about it.</p>\n\n<p>Thanks for any feedback you might provide.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1482140,
                    "reputation": 11,
                    "user_id": 1391270,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/0debe1539fc4ec8a72a5f37caf9f1a8a?s=256&d=identicon&r=PG",
                    "display_name": "thoseios",
                    "link": "https://stackoverflow.com/users/1391270/thoseios"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1336840679,
                "creation_date": 1336840679,
                "answer_id": 10565541,
                "question_id": 10453663,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Nothing wrong with the process but the resource arrangement seems not correct. If it's a design company, I would expect you should have your own designers who can slice those images, rather than outsourcing. This will improve your efficiency and speed.</p>\n\n<p>As for the CMS, Joomla is a much complicated CMS which is suitable for larger websites that require extensive CMS features. For normal corporate websites, I would suggest to use WordPress. It's very lightweight, easy to use, easy to skin and easy to setup.</p>\n"
            },
            {
                "owner": {
                    "account_id": 21656,
                    "reputation": 9330,
                    "user_id": 52834,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=256&d=identicon&r=PG",
                    "display_name": "Craig",
                    "link": "https://stackoverflow.com/users/52834/craig"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1336198364,
                "creation_date": 1336198364,
                "answer_id": 10459383,
                "question_id": 10453663,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Ok, if \"Business is very good\" and you're spending \"3-6 months per site\" then the only conclusion is that these are very high design websites with good margins. So you don't sound like you're in the slice and dice $14.95 a month website business.</p>\n\n<p>Given that the sites we build often have a primary stake holder who is subject to corporate design guidelines and marketing criteria followed by product positioning criteria it's not unusual for us to spend 3 months getting the design work done. We can go through 3 design iterations (all of which the clients pay for).</p>\n\n<p>The only difference to your situation is that our designers are 'web designer' and either understand how to build a Photoshop file to be 'sliced' or work in conjunction with the people that will be doing the slicing.</p>\n\n<p>So, the only thing I find odd is that you send out the work to be sliced.</p>\n"
            },
            {
                "owner": {
                    "account_id": 63440,
                    "reputation": 93,
                    "user_id": 187800,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/78b49a19ebbb31f67dc660b2eaa8c76f?s=256&d=identicon&r=PG",
                    "display_name": "continuum",
                    "link": "https://stackoverflow.com/users/187800/continuum"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1336176691,
                "creation_date": 1336176691,
                "answer_id": 10457651,
                "question_id": 10453663,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Ughh. I hate the process you describe. Designers who don't understand much HTML do the design, and then this \"slicing\" process involves cramming stuff that was never designed to be HTML into HTML.</p>\n\n<p>Unfortunately, at my agency, we've found it difficult to find folks who design from the get-go in HTML/CSS.</p>\n\n<p>But to your question about time, consider this. I'm a sole web developer working for an agency. We spent 4 months rebuilding our own site (a pretty simple site). But 3 of those months were spent going back and forth with the designer making changes.</p>\n\n<p>I didn't start work on the site until one month before launch. From that point all I had was Photoshop files. I recreated the look of those files in Drupal templates and did all the other development (including some medium-complexity javascript) in just one month.</p>\n\n<p>During that month, the design of 40% of the site changed dramatically. If it weren't for that, I would have been done in two weeks.</p>\n\n<p>And I'm just one guy. And I don't consider myself a fast coder AT ALL. Your folks are taking WAY too long.</p>\n"
            },
            {
                "owner": {
                    "account_id": 386527,
                    "reputation": 818,
                    "user_id": 744330,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/aed85a4bee378e26d59b098391adbdad?s=256&d=identicon&r=PG",
                    "display_name": "Forest",
                    "link": "https://stackoverflow.com/users/744330/forest"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1336164149,
                "creation_date": 1336164149,
                "answer_id": 10455888,
                "question_id": 10453663,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Wow, 3-6 months for the workflow you described sounds painful. That's a timeline better suited to a site that includes a high level of custom data handling functionality. However, beyond the considerable mismatch between the process you describe and the time it's taking, the scope of this question seems pretty wide for stackoverflow. </p>\n\n<p>I'd start by editing your question to indicate the amount of time typically spent on each of these steps. Just based on what you list I can't possibly imagine that taking 3 months, let alone 6. </p>\n"
            },
            {
                "owner": {
                    "account_id": 1391129,
                    "reputation": 2159,
                    "user_id": 1321941,
                    "user_type": "registered",
                    "accept_rate": 88,
                    "profile_image": "https://www.gravatar.com/avatar/b6df2c7b094a6c9e13adf28ec3e3d319?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "1321941",
                    "link": "https://stackoverflow.com/users/1321941/1321941"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1336153689,
                "creation_date": 1336153689,
                "answer_id": 10453707,
                "question_id": 10453663,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>The web programmers should be able to slice the files, at the end of the day, they are the ones programming it so they should know what they want/need more than anyone else, it will save money and time theoretically.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-hooks",
            "drupal-nodes"
        ],
        "owner": {
            "account_id": 458601,
            "reputation": 387,
            "user_id": 858588,
            "user_type": "registered",
            "accept_rate": 31,
            "profile_image": "https://www.gravatar.com/avatar/7c21bf19b784fb94e23cc144f488ffb4?s=256&d=identicon&r=PG",
            "display_name": "BDUB",
            "link": "https://stackoverflow.com/users/858588/bdub"
        },
        "is_answered": false,
        "view_count": 1071,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1726549835,
        "creation_date": 1319211903,
        "last_edit_date": 1726549835,
        "question_id": 7851917,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/7851917/drupal-node-type-hook-insert",
        "title": "drupal node type hook_insert()",
        "body": "<p>Im having some trouble with constructing a drupal custom node type. I created a module, sj_highcharts that will eventually use the highcharts api to deliver a chart of data. The point of this module is to create a node type that will display a form for people to interface with the chart api, store the data in some database tables and then finally output the chart.</p>\n\n<p>The problem is that my hook_insert function or even the hook_validate function isnt being called after the form has been submitted and nothing is getting stored into the database. I have put die statement, to make sure and they don't fire.</p>\n\n<p>The code:</p>\n\n<pre><code>  /*\n * Implementation of hook_node_info().\n */\nfunction sj_highcharts_node_info() {\n  //defining one node type: 'sj highchart'.\n  return array(\n    'sj_highcharts_element' =&gt; array(\n      'name'  =&gt; t('Highchart Element'),\n      'module' =&gt; 'sj_highcharts',\n      'description' =&gt; t(\"An element that creates a dynamic chart from specified data.\"),\n      'has_title' =&gt; FALSE,\n      'has_body' =&gt; FALSE,\n      'locked' =&gt; TRUE,\n    )\n  );\n  //In order to make this an element type, we will have to check the \"is element\" field in the content type administration page.\n}\n\n/**\n * Implementation of hook_form().\n */\nfunction sj_highcharts_form($node) {\n\n  $type = node_get_types('type', $node);\n  $form['delimiter'] = array(\n      '#type' =&gt; 'radios',\n      '#title' =&gt; t('Data Delimiter'),\n      '#description' =&gt; t('The character in which the data is delimited.'),\n      '#options' =&gt; array(t('Tab'), t('Space'), t('Comma')),\n      '#default_value' =&gt; '',\n    );\n\n  $form['x_label'] = array(\n      '#type' =&gt; 'textfield',\n      '#title' =&gt; t('x-axis label'),\n      '#description' =&gt; t('The label to be set and displayed for the x axis.'),\n      '#required' =&gt; TRUE,\n      '#default_value' =&gt; '',\n    );\n\n  $form['x_data'] = array(\n      '#type' =&gt; 'textarea',\n      '#title' =&gt; t('x-axis data'),\n      '#description' =&gt; t('The x-axis data to be populated on the chart'),\n      '#default_value' =&gt; '',\n      '#rows' =&gt; 10,\n      '#required' =&gt; TRUE,\n    );\n\n  $form['y_label'] = array(\n      '#type' =&gt; 'textfield',\n      '#title' =&gt; t('x-axis label'),\n      '#description' =&gt; t('The label to be set and displayed for the y axis.'),\n      '#required' =&gt; TRUE,\n      '#default_value' =&gt; '',\n    );\n\n  $form['y_data'] = array(\n      '#type' =&gt; 'textarea',\n      '#title' =&gt; t('y-axis data'),\n      '#description' =&gt; t('The y-axis data to be populated on the chart'),\n      '#default_value' =&gt; '',\n      '#rows' =&gt; 10,\n      '#required' =&gt; TRUE,\n    );\n\n  $form['type'] = array(\n      '#type' =&gt; 'select',\n      '#title' =&gt; t('Select a chart type'),\n      '#default_value' =&gt; 'Bar',\n      '#description' =&gt; t('Select a chart type to display data.'),\n      '#options' =&gt; array(\n      '1' =&gt; t('Pie'),\n      '2' =&gt; t('Line'),\n      '3' =&gt; t('Area'),\n      '4' =&gt; t('Scatter'),\n      '5' =&gt; t('Bar'),\n    ),\n  );\n\n  $form['submit'] = array(\n      '#type' =&gt; 'submit',\n      '#value' =&gt; t('Create Chart')\n  );\n\n  return $form;\n}\n\n/**\n * Implentation of hook_validate().\n */\nfunction sj_highcharts_validate($node) {\n  //watchdog('sj_highcharts', 'in validate function');\n  die();\n\n  if(isset($node-&gt;delimiter)){\n\n    //if we are dealing with tab delimited input\n    if($node-&gt;delimiter == 'tab'){\n\n      //check to see if data sets are the same size\n      if(isset($node-&gt;x_data) &amp;&amp; isset($node-&gt;y_data)) {\n        if(substr(' ', $node-&gt;x_data) &amp;&amp; substr(' ', $node-&gt;y_data)){\n          $xdata_parts = explode('  ', $node-&gt;x_data);\n          $ydata_parts = explode('  ', $node-&gt;y_data);\n        }\n        else{\n          form_set_error('delimiter', t('The data delimiter must match the data string entered.'));\n        }\n\n        if(sizeof($xdata_parts) != sizeof($ydata_parts)){\n          form_set_error('x_data', t('The number of data points in each, x and y axes, must match.'));\n        }\n      }\n\n      //change all delimited input to the format we want\n      $node-&gt;x_data = str_replace(' ', ',', $node-&gt;x_data);\n      $node-&gt;y_data = str_replace(' ', ',', $node-&gt;y_data);\n    }\n\n    //if we are dealing with space delimited input\n    if($node-&gt;delimiter == 'space'){\n\n      //check to see if data sets are the same size\n      if(isset($node-&gt;x_data) &amp;&amp; isset($node-&gt;y_data)) {\n        if(substr(' ', $node-&gt;x_data) &amp;&amp; substr(' ', $node-&gt;y_data)){\n          $xdata_parts = explode(' ', $node-&gt;x_data);\n          $ydata_parts = explode(' ', $node-&gt;y_data);\n        }\n        else{\n          form_set_error('delimiter', t('The data delimiter must match the data string entered.'));\n        }\n\n        if(sizeof($xdata_parts) != sizeof($ydata_parts)){\n          form_set_error('x_data', t('The number of data points in each, x and y axes, must match.'));\n        }\n      }\n\n      //change all delimited input to the format we want\n      $node-&gt;x_data = str_replace(' ', ',', $node-&gt;x_data);\n      $node-&gt;y_data = str_replace(' ', ',', $node-&gt;y_data);\n    }\n\n    //if we are dealing with comma delimited input\n    if($node-&gt;delimiter == 'comma'){\n\n      //check to see if data sets are the same size\n      if(isset($node-&gt;x_data) &amp;&amp; isset($node-&gt;y_data)) {\n        if(substr(',', $node-&gt;x_data) &amp;&amp; substr(',', $node-&gt;y_data)){\n          $xdata_parts = explode(',', $node-&gt;x_data);\n          $ydata_parts = explode(',', $node-&gt;y_data);\n        }\n        else{\n          form_set_error('delimiter', t('The data delimiter must match the data string entered.'));\n        }\n\n        if(sizeof($xdata_parts) != sizeof($ydata_parts)){\n          form_set_error('x_data', t('The number of data points in each, x and y axes, must match.'));\n        }\n      }\n\n      //change all delimited input to the format we want\n      $node-&gt;x_data = str_replace(' ', ',', $node-&gt;x_data);\n      $node-&gt;y_data = str_replace(' ', ',', $node-&gt;y_data);\n\n    }\n  }\n}\n\n\n/**\n * Implementation of hook_form_submit().\n */\nfunction sj_highcharts_insert($node) {\n  //watchdog('sj_highcharts', 'in submit function');\n  die();\n\n  drupal_write_record('highcharts_chart', $node);\n\n  $x_data_parts = explode(',', $node-&gt;x_data);\n  $axis = 'x';\n  for($i = 0;$i &lt; sizeof($x_data_parts);$i++){\n    $data_point = $x_data_parts[$i];\n\n    //not sure if i should use write_record or not, just know that i need to separate individual data fields\n    db_query(\"INSERT into {higcharts_data} (chart_id, data, axis) VALUES (%d, %d, '%s')\", $node-&gt;nid, $data_point, $axis);\n  }\n\n  $y_data_parts = explode(',', $node-&gt;y_data);\n  $axis = 'y';\n  for($i = 0;$i &lt; sizeof($y_data_parts);$i++){\n    $data_point = $y_data_parts[$i];\n\n    //not sure if i should use write_record or not, just know that i need to make sure the chart_id matches other table\n    db_query(\"INSERT into {higcharts_data} (chart_id, data, axis) VALUES (%d, %d, '%s')\", $node-&gt;nid, $data_point, $axis);\n  }\n}\n</code></pre>\n\n<p>Ive been staring at this for a full workday and cannot find the issue. Any guidance on this would be great. Thanks Brandon</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 270153,
                    "reputation": 471,
                    "user_id": 559923,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/15070a90caf9f9def21274012ebe7598?s=256&d=identicon&r=PG",
                    "display_name": "daggerhart",
                    "link": "https://stackoverflow.com/users/559923/daggerhart"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1319397792,
                "creation_date": 1319397792,
                "answer_id": 7868552,
                "question_id": 7851917,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Check out the node_example sub module in the <a href=\"http://drupal.org/project/examples\" rel=\"nofollow\">examples</a> module.  It should help point you in the right direction.</p>\n\n<p>It's unclear by your post as to which version of drupal you're using.  In Drupal 6 you can add additional validate and submit functions to a form or form item directly.</p>\n\n<p>ex:</p>\n\n<pre><code>  $form['delimiter'] = array(\n      '#type' =&gt; 'radios',\n      '#title' =&gt; t('Data Delimiter'),\n      '#description' =&gt; t('The character in which the data is delimited.'),\n      '#options' =&gt; array(t('Tab'), t('Space'), t('Comma')),\n      '#default_value' =&gt; '',\n      '#validate' =&gt; array('_name_of_custom_validation_function'),\n      '#submit' =&gt; array('_name_of_custom_submit_function'),\n    );\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6",
            "menuitem"
        ],
        "owner": {
            "account_id": 876474,
            "reputation": 901,
            "user_id": 77444,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/bdec84ea3d0db58bfeb672b10b4ab8ed?s=256&d=identicon&r=PG",
            "display_name": "fmitchell",
            "link": "https://stackoverflow.com/users/77444/fmitchell"
        },
        "is_answered": false,
        "view_count": 794,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1726440294,
        "creation_date": 1241109747,
        "last_edit_date": 1726440294,
        "question_id": 807902,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/807902/unique-id-on-the-a-tag-of-a-menu-item-in-drupal",
        "title": "Unique id on the &#39;a&#39; tag of a menu item in Drupal",
        "body": "<p>I'm trying to generate unique id's on the 'a' tag of the menu item so that I can implement Popups API.</p>\n\n<p>This is what my function in template.php looks like:</p>\n\n<pre><code>function phptemplate_menu_item_link($link) {\n  if (empty($link['options'])) {\n    $link['options'] = array();\n  }\n\n  // If an item is a LOCAL TASK, render it as a tab\n  if ($link['type'] &amp; MENU_IS_LOCAL_TASK) {\n    $link['title'] = '&lt;span class=\"tab\"&gt;'. check_plain($link['title']) .'&lt;/span&gt;';\n    $link['options']['html'] = TRUE;\n  }\n\n  if (empty($link['type'])) {\n    $true = TRUE;\n  }\n\n  //get unique id from menu item title\n  $css_id = phptemplate_id_safe(str_replace(' ', '_', strip_tags($link['title'])));\n\n  //set unique id for link\n  if ($link['menu_name'] == 'primary-links') {\n    $link['options']['attributes']['id'] = 'id-' . $css_id;\n  }\n\n  return l($link['title'], $link['href'], $link['options']);\n}\n</code></pre>\n\n<p>I'm debugging w/ Zend and the conditional statement works. I've cleared the cache, my browser cache, and rebuilt the menu multiple times, but can't seem to get it to work.</p>\n\n<p>Just as a reference, phptemplate_id_safe is custom (obviously) and works fine.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 35202,
                    "reputation": 9077,
                    "user_id": 99618,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/c4d2aad62a52b29d52d591727f5ff853?s=256&d=identicon&r=PG",
                    "display_name": "xkcd150",
                    "link": "https://stackoverflow.com/users/99618/xkcd150"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1241232673,
                "creation_date": 1241232673,
                "answer_id": 814019,
                "question_id": 807902,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You might want to have a look at menu_attributes or <a href=\"http://drupal.org/node/411638\" rel=\"nofollow noreferrer\">this forum post</a>.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "lando"
        ],
        "owner": {
            "account_id": 5023243,
            "reputation": 3125,
            "user_id": 4036091,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/3bopV.jpg?s=256",
            "display_name": "unixmiah",
            "link": "https://stackoverflow.com/users/4036091/unixmiah"
        },
        "is_answered": true,
        "view_count": 32,
        "accepted_answer_id": 78978859,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1726154162,
        "creation_date": 1726063838,
        "question_id": 78974257,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78974257/lando-parse-error-header-overflow-on-drupal10-site",
        "title": "Lando Parse Error: Header overflow on Drupal10 site",
        "body": "<p>Im getting the follow error when I start up Lando:</p>\n<p><code>URLS âš  APPSERVER URLS âœ– Parse Error: Header overflow âœ– Parse Error: Header overflow âœ– Parse Error: Header overflow âœ– Parse Error: Header overflow</code>\nnot sure what else to look into, was wondering if anyone else had this same issue.</p>\n<p>After this the Drupal 10 site pulls up ok but it's taking forever to load, almost a minute for a page load.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 5023243,
                    "reputation": 3125,
                    "user_id": 4036091,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/3bopV.jpg?s=256",
                    "display_name": "unixmiah",
                    "link": "https://stackoverflow.com/users/4036091/unixmiah"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1726154162,
                "creation_date": 1726154162,
                "answer_id": 78978859,
                "question_id": 78974257,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I had resolved the issue by modifying the php.ini in lando dir and increased the post max and memory limit and restarted lando (rebuild and restart). Thank you for the article.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-7",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 352592,
            "reputation": 1076,
            "user_id": 689764,
            "user_type": "registered",
            "accept_rate": 58,
            "profile_image": "https://www.gravatar.com/avatar/3a04a56ecc6865ac8fbada2927fa5166?s=256&d=identicon&r=PG",
            "display_name": "perpetual_dream",
            "link": "https://stackoverflow.com/users/689764/perpetual-dream"
        },
        "is_answered": true,
        "view_count": 4373,
        "accepted_answer_id": 23593605,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1726115693,
        "creation_date": 1399218493,
        "last_edit_date": 1726115458,
        "question_id": 23458216,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/23458216/drupal-search-api-custom-search-field-order",
        "title": "Drupal Search API custom search field order",
        "body": "<p>I am using search api views module to search my apache Solr Search engine. I would like to have a custom order for the returned results. I would like the <code>jq_articles</code> results to appear first, then <code>books</code>, then <code>mydocuments</code>.</p>\n<p>How can I have this customer order (with is neither ASC or DESC) for my returned results?</p>\n<p>I need something like <code>$query-&gt;orderby('jq_articles, 'books', 'mydocuments');</code></p>\n<p>This is how my query_alter looks at the time being:</p>\n<pre><code>&lt;?php\nfunction mymodule_search_api_query_alter(SearchApiQueryInterface $query) {\n    $filters = &amp;$query-&gt;getFilter()-&gt;getFilters();\n\n    foreach ($filters as $i =&gt; $filter) {\n        $condition = &quot;&quot;;\n\n        $finalfilters = &amp;$filter-&gt;getFilters();\n\n        foreach($finalfilters as $z =&gt; $singlefilter){\n            if($singlefilter[0] == 'type') {\n                $condition = $singlefilter[1];\n                unset($finalfilters[$z]);\n            }\n        }\n    }\n\n    $filter = $query-&gt;createFilter('OR');\n\n    switch($condition) {\n        case 'journals':\n            $filter-&gt;condition('type', 'jq_articles');\n            break;\n\n        case 'books':\n            $filter-&gt;condition('type', 'books');\n            break;\n\n        case 'mydocuments':\n            $filter-&gt;condition('type', 'mydocuments');\n\n        default:\n            $filter-&gt;condition('type', 'mydocuments');\n            $filter-&gt;condition('type', 'books');\n            $filter-&gt;condition('type', 'jq_articles');\n            break;\n\n    }\n\n    $query-&gt;filter($filter);\n\n}\n\n?&gt;\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2391808,
                    "reputation": 467,
                    "user_id": 2091518,
                    "user_type": "registered",
                    "accept_rate": 57,
                    "profile_image": "https://i.sstatic.net/q1vmr.jpg?s=256",
                    "display_name": "Zolyboy",
                    "link": "https://stackoverflow.com/users/2091518/zolyboy"
                },
                "is_accepted": true,
                "score": 5,
                "last_activity_date": 1726115693,
                "last_edit_date": 1726115693,
                "creation_date": 1399817401,
                "answer_id": 23593605,
                "question_id": 23458216,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can do this by adding the following in <code>hook_search_api_query_alter()</code></p>\n<pre><code>$query-&gt;sort('jq_articles', 'DESC');\n</code></pre>\n<p>If you want to sort by multiple fields, you should do like this:</p>\n<pre><code>$query-&gt;sort('field1', 'DESC');\n$query-&gt;sort('field2', 'ASC');\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 9163366,
                    "reputation": 31,
                    "user_id": 11368612,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/f09848aa970e4b078f4e98c21224168b?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Christophe CARON",
                    "link": "https://stackoverflow.com/users/11368612/christophe-caron"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1726115520,
                "last_edit_date": 1726115520,
                "creation_date": 1597312402,
                "answer_id": 63392545,
                "question_id": 23458216,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>As Update for Drupal 8/9 You can always use <code>hook_search_api_query_alter()</code></p>\n<p>If you want to unset or re-order of sort criteria you can use <code>getSorts()</code>:</p>\n<pre><code>// $sorts becomes reference to $query-&gt;sorts\n$sorts = &amp;$query-&gt;getSorts();\n// by example remove a sort criteria\nunset($sorts['created']);\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "load",
            "colorbox"
        ],
        "owner": {
            "account_id": 2327044,
            "reputation": 11,
            "user_id": 2126681,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b8c27928887222ad1d0d412fff9e8d1c?s=256&d=identicon&r=PG",
            "display_name": "user13350",
            "link": "https://stackoverflow.com/users/2126681/user13350"
        },
        "is_answered": false,
        "view_count": 8536,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1726048845,
        "creation_date": 1362244254,
        "last_edit_date": 1362245638,
        "question_id": 15177154,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/15177154/colorbox-this-content-failed-to-load-error",
        "title": "Colorbox &quot;This content failed to load.&quot; error",
        "body": "<p>I need to load a subscription form with colorbox on page load.Colorbox opens on page load but inside I only see an error message \"This content failed to load.\".\n Here is the code that I use</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>jQuery(document).ready(function($) {\n    $('.colorbox5').colorbox({open:true, href:'div#content5'});  \n    });\n    ....\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>   &lt;body&gt;\n       &lt;div style=\"display:none;\"&gt;\n        &lt;div id=\"content5\" class=\"colorbox5\"&gt;\n        ... my form here\n        &lt;/div&gt;\n       &lt;/div&gt;\n</code></pre>\n\n<p>Can anybody please help me to solve this problem?\n(I'm using Drupal)</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2430731,
                    "reputation": 19,
                    "user_id": 2121697,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/1516b758d0304c2fa15ce98fc6df3472?s=256&d=identicon&r=PG",
                    "display_name": "Ian Evans",
                    "link": "https://stackoverflow.com/users/2121697/ian-evans"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1362249005,
                "creation_date": 1362249005,
                "answer_id": 15177885,
                "question_id": 15177154,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Looking <a href=\"http://www.jacklmoore.com/colorbox\" rel=\"nofollow\">here</a> under \"content type\", you need to tell colorbox it's displaying something inline. So, I think you need this: <code>$('.colorbox5').colorbox({open:true, href:'div#content5', inline:true,});</code></p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal"
        ],
        "owner": {
            "account_id": 264176,
            "reputation": 3269,
            "user_id": 550265,
            "user_type": "registered",
            "accept_rate": 57,
            "profile_image": "https://www.gravatar.com/avatar/99fa1904b57cd5760ca254230a2bd996?s=256&d=identicon&r=PG",
            "display_name": "user550265",
            "link": "https://stackoverflow.com/users/550265/user550265"
        },
        "is_answered": false,
        "view_count": 1820,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1725779472,
        "creation_date": 1294247731,
        "last_edit_date": 1725779472,
        "question_id": 4606992,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/4606992/drupal-table-with-delete-link",
        "title": "drupal table with delete link",
        "body": "<p>I need to create a drupal table with the delete link for each record. I have an existing table with the edit links . They use hook_menu to pass the id for the record and redirect to the contact form. How can i extend this functionality to add the edit . Code is </p>\n\n<pre><code>function _MYMODULE_sql_to_table($sql) { \n  $html = \"\";    \n  // execute sql\n  $resource = db_query($sql);    \n  // fetch database results in an array\n  $results = array();\n  while ($row = db_fetch_array($resource)) {\n     $results[] = $row;\n      $id = $row['id'];\n      $email = $row['email'];\n      $comment = $row['comment'];\n //     drupal_set_message('Email: '.$email. ' comment: '.$comment. ' id: '.$id);\n  }\n  // ensure results exist\n  if (!count($results)) {\n    $html .= \"Sorry, no results could be found.\";\n    return $html;    \n  }\n\n  // create an array to contain all table rows\n  $rows = array();\n  // get a list of column headers\n  $columnNames = array_keys($results[0]);\n\n  // loop through results and create table rows\n  foreach ($results as $key =&gt; $data) {\n    // create row data\n    $row = array(\n\n        'edit' =&gt; l(t('Edit'),\"admin/content/test/\".$data['id'].\"/ContactUs\", $options=array()),\n        'delete' =&gt; l(t('Delete'),\"admin/content/\".$data['id'].\"/ContactUs\",$options = array()),\n        );\n\n    // loop through column names\n    foreach ($columnNames as $c) {\n      $row[] = array(\n        'data' =&gt; $data[$c],\n        'class' =&gt; strtolower(str_replace(' ', '-', $c)),\n      );\n    }\n\n    // add row to rows array\n    $rows[] = $row;\n\n  }\n\n  // loop through column names and create headers\n  $header = array();\n  foreach ($columnNames as $c) {\n    $header[] = array(\n      'data' =&gt; $c,\n      'class' =&gt; strtolower(str_replace(' ', '-', $c)),\n    );\n  }\n\n  // generate table html\n  $html .= theme('table', $header, $rows);\n\n  return $html;\n\n}\n\n// then you can call it in your code...\nfunction _MYMODULE_some_page_callback() {\n\n  $html = \"\";\n\n  $sql = \"select * from {contact3}\";\n\n  $html .= _MYMODULE_sql_to_table($sql);\n\n  return $html;\n}\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 270402,
                    "reputation": 6891,
                    "user_id": 560329,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/c798d0bfc1db8407a7cd82309db0a44e?s=256&d=identicon&r=PG",
                    "display_name": "Berdir",
                    "link": "https://stackoverflow.com/users/560329/berdir"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1294640894,
                "creation_date": 1294640894,
                "answer_id": 4644236,
                "question_id": 4606992,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I assume you already have a form to create your data (whatever it is). Then you can extend that form to optionally receive an id and if there is one, load the corresponding data, add a hidden (#type value) form element which contains the id and the relevant #default_value entries to your form. Then you have to figure out in your submit callback if you have a new entry (no id) or an existing one and act accordingly.</p>\n\n<p>PS: I guess you have a reason for not using the node system, then this would already exist.</p>\n\n<p>PPS: Your code is completely unreadable, you should reformat that.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "python-3.x",
            "drupal"
        ],
        "owner": {
            "account_id": 2416583,
            "reputation": 1307,
            "user_id": 2110476,
            "user_type": "registered",
            "accept_rate": 47,
            "profile_image": "https://www.gravatar.com/avatar/0fc4e19036802393e13653d7afaa7dc4?s=256&d=identicon&r=PG",
            "display_name": "Chris",
            "link": "https://stackoverflow.com/users/2110476/chris"
        },
        "is_answered": true,
        "view_count": 218,
        "accepted_answer_id": 76196522,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1725542938,
        "creation_date": 1682651166,
        "last_edit_date": 1725542938,
        "question_id": 76125993,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/76125993/using-python-to-upload-an-image-to-drupal",
        "title": "Using Python to upload an image to Drupal",
        "body": "<p>Via the JSON:API I'm creating and updating content entities on Drupal 9.5.8 - for content, taxonomies, relationships it's working fine.</p>\n<p>But I can't get images to upload - they seem to be corrupted.\nI've tried this sort of script: <a href=\"https://www.drupal.org/project/drupal/issues/3079384#comment-13250753\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/drupal/issues/3079384#comment-13250753</a></p>\n<pre><code>import requests\nimport os\n\nfrom requests.auth import HTTPBasicAuth\n\n\ndef upload_image(image_path):\n    api_url = 'https://example.com/jsonapi/node/event/a8ef729b-1fd6-4233-979a-fa0f81132dde/field_image' #?_format=json\n    auth = HTTPBasicAuth('Username', 'Password')\n    image_filename = os.path.basename(image_path)\n    headers = {'Content-Type': 'application/octet-stream',\n    'Content-Disposition': 'file; filename=&quot;{}&quot;'.format(image_filename.replace('images/', ''))}\n    multipart_form_data = {'file': (image_filename, open(image_path, 'rb'))}\n\n    print(api_url)\n    print(auth)\n    print(image_filename)\n    print(headers)\n    \n    response = requests.post(api_url, files=multipart_form_data, headers=headers, auth=auth)\n    \n    print(response.json())\n    return None\n    \n\nupload_image('images/test.jpg')\n</code></pre>\n<p>And I've tried and errored with a few other / similar approaches like:</p>\n<pre><code>def upload_image2(image_path):\n    api_url = 'https://example.com/jsonapi/node/event/a8ef729b-1fd6-4233-979a-fa0f81132dde/field_image' #?_format=json\n    auth = HTTPBasicAuth('Username', 'Password')\n    image_filename = os.path.basename(image_path)\n    headers = {'Accept': 'application/vnd.api+json',\n            'Content-Type': 'application/octet-stream',\n            'Content-Disposition': f'file; filename=&quot;{image_filename}&quot;'\n        }\n    with open('images/test.jpg', 'rb') as f:\n        response = requests.post(api_url, headers=headers, auth=auth, files={'test.jpg': f})\n        \n        print(response.json())\n\n    return None\n</code></pre>\n<p>Strange enough: Adding <code>#?_format=json</code> to the <em>upload_image2</em> doesn't change anything. But adding it to <em>upload_image</em>, I receive an error:</p>\n<blockquote>\n<p>{'message': 'No route found for the specified format json. Supported formats: api_json.'}</p>\n</blockquote>\n<p>The image that I'm uploading is 11.1 kB (just trying to upload this screenshot)\n<a href=\"https://i.sstatic.net/d8NNS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/d8NNS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What I see on the website / edit form seems to be broken:\n<a href=\"https://i.sstatic.net/PlgKc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/PlgKc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The uploaded image is 11.3 kB - which I can't upload here, since it's a broken image, as it seems.</p>\n<p>According to <a href=\"https://www.drupal.org/node/3024331#comment-13318986\" rel=\"nofollow noreferrer\">that comment</a>, I'm not trying to base64 encode the image.</p>\n<p>There is a <a href=\"https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/file-uploads\" rel=\"nofollow noreferrer\">CURL and Node.js example</a> - but I wasn't able to transfer it to Python, as it seems.</p>\n<p>And in <a href=\"https://www.drupal.org/node/3024331#comment-13318986\" rel=\"nofollow noreferrer\">this ticket</a>, it seems as if BasicAuth can be used as well to upload files, so that might not be the issue as well.</p>\n<p>What am I doing wrong?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2416583,
                    "reputation": 1307,
                    "user_id": 2110476,
                    "user_type": "registered",
                    "accept_rate": 47,
                    "profile_image": "https://www.gravatar.com/avatar/0fc4e19036802393e13653d7afaa7dc4?s=256&d=identicon&r=PG",
                    "display_name": "Chris",
                    "link": "https://stackoverflow.com/users/2110476/chris"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1683498199,
                "creation_date": 1683498199,
                "answer_id": 76196522,
                "question_id": 76125993,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>After much fiddling around, I was able to get it working via this Code: <a href=\"https://www.drupal.org/node/3024331#comment-13248319\" rel=\"nofollow noreferrer\">https://www.drupal.org/node/3024331#comment-13248319</a></p>\n<p>It seems like</p>\n<pre><code>data = bytearray(data)\n</code></pre>\n<p>was the missing piece.</p>\n"
            },
            {
                "owner": {
                    "account_id": 14581335,
                    "reputation": 1014,
                    "user_id": 10531665,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/16cb8b0fabb4aca7b5804f6e2d417b8d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Susobhan Das",
                    "link": "https://stackoverflow.com/users/10531665/susobhan-das"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1682837819,
                "creation_date": 1682837819,
                "answer_id": 76139933,
                "question_id": 76125993,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>For file Uploading review this Drupal.org <a href=\"https://www.drupal.org/node/2941420#comment-14645161\" rel=\"nofollow noreferrer\">Post</a>\nwhich can be done through Postman.</p>\n<p>The uploaded image is temporary, you need to reference it somewhere to make it permanent.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "twig"
        ],
        "owner": {
            "account_id": 16826915,
            "reputation": 1,
            "user_id": 12165975,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDTCk4lyU2akLIy0APbvrWqKSTGi59QyQ6Sk1a63w=k-s256",
            "display_name": "David Salerno",
            "link": "https://stackoverflow.com/users/12165975/david-salerno"
        },
        "is_answered": false,
        "view_count": 40,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1724930606,
        "creation_date": 1724025593,
        "question_id": 78885947,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78885947/twig-error-unexpected-token-punctuation-of-value-end-of-statement-block",
        "title": "twig error: Unexpected token &quot;punctuation&quot; of value &quot;:&quot; (&quot;end of statement block&quot; expected)",
        "body": "<p>I am attempting to take all of the start dates of my coworkers and calculate a total # of years of experience.  However I am getting the following error</p>\n<p><code>Twig\\Error\\SyntaxError: Unexpected token &quot;punctuation&quot; of value &quot;:&quot; (&quot;end of statement block&quot; expected). in Twig\\TokenStream-&gt;expect() (line 44 </code></p>\n<pre><code>{% if title %}\n  &lt;h3&gt;{{ title }}&lt;/h3&gt;\n{% endif %}\n\n{% set total_seconds = 0 %} {# Initialize a variable to store the total seconds #}\n\n{% for row in rows %}\n  {%\n    set row_classes = [\n      default_row_class ? 'views-row',\n    ]\n  %}\n\n  {# Assuming 'row.content' contains a date field named 'field_start_date' #}\n  {% set date_str = row.content['#view'].style_plugin.getField(row_index, 'field_start_date') %}\n\n  {% if date_str %}\n    {% set today = date('now') %}\n    {% set date_object = date(date_str) %}\n\n    {# Calculate the difference in seconds using Drupal's date formatter service with createAttribute for options #}\n    {% set options = create_attribute() %}\n    {% set options = options.setAttribute('granularity', 1) %} \n    {% set diff_seconds = Drupal::service('date.formatter')-&gt;formatDiff(date_object.getTimestamp(), today.getTimestamp(), 'en', options) %}\n\n    {% set total_seconds = total_seconds + diff_seconds %} {# Add the calculated seconds to the total #}\n\n    &lt;div{{ row.attributes.addClass(row_classes) }}&gt;\n      {{- row.content -}}\n    &lt;/div&gt;\n  {% else %}\n    &lt;div{{ row.attributes.addClass(row_classes) }}&gt;\n      {{- row.content -}}\n    &lt;/div&gt;\n  {% endif %}\n\n{% endfor %}\n\n{% if total_seconds &gt; 0 %}\n  {% set total_years = (total_seconds / (365 * 24 * 60 * 60))|round(2) %} {# Convert seconds to years and round #}\n  &lt;p&gt;Total combined years since all dates: {{ total_years }}&lt;/p&gt; {# Display the final result #}\n{% endif %}\n</code></pre>\n<p>commenting out this line <code>  {#% set diff_seconds = Drupal::service('date.formatter')-&gt;formatDiff(date_object.getTimestamp(), today.getTimestamp(), 'en', options) %#}</code> removes any error, but doesn't return the single value that I am expecting.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 16826915,
                    "reputation": 1,
                    "user_id": 12165975,
                    "user_type": "registered",
                    "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDTCk4lyU2akLIy0APbvrWqKSTGi59QyQ6Sk1a63w=k-s256",
                    "display_name": "David Salerno",
                    "link": "https://stackoverflow.com/users/12165975/david-salerno"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1724930606,
                "last_edit_date": 1724930606,
                "creation_date": 1724026622,
                "answer_id": 78885967,
                "question_id": 78885947,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Got past the error by rewriting the offending line. Still not giving the results I want but that is another issue.</p>\n<pre><code>    {% if title %}\n  &lt;h3&gt;{{ title }}&lt;/h3&gt;\n{% endif %}\n\n\n{% set total_seconds = 0 %} {# Initialize a variable to store the total seconds #}\n\n{% for row in rows %}\n  {# ... (Code to set row_classes remains the same) ... #}\n\n  {# Assuming 'row.content' contains a date field named 'field_start_date' #}\n  {% set date_str = row.content['#view'].style_plugin.getField(row_index, 'field_start_date') %}\n\n  {% if date_str %}\n    {% set today = date('now') %}\n\n    {# Calculate the difference in seconds using Twig's date and diff functions #}\n    {% set diff_interval = date(date_str).diff(today) %}\n\n    {% if diff_interval %}\n      {% set diff_seconds = (diff_interval.y * 365 * 24 * 60 * 60) + \n                             (diff_interval.m * 30 * 24 * 60 * 60) +  \n                             (diff_interval.d * 24 * 60 * 60) + \n                             (diff_interval.h * 60 * 60) + \n                             (diff_interval.i * 60) + \n                             diff_interval.s %}\n\n      {% set total_seconds = total_seconds + diff_seconds %} {# Accumulate the total tenure in seconds #}\n    {% endif %}\n  {% endif %}\n\n  {# ... (Rendering the row content remains the same) ... #}\n\n{% endfor %}\n\n{# Calculate and display the total combined tenure #}\n{% if total_seconds &gt; 0 %}\n  {% set total_years = (total_seconds / (365 * 24 * 60 * 60))|round(2, 'floor') %} {# Convert to years and round down #}\n  &lt;p&gt;Total combined tenure of all employees: {{ total_years }} years&lt;/p&gt; \n{% else %}\n  &lt;p&gt;No employee start dates found.&lt;/p&gt; \n{% endif %}\n\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-7",
            "view",
            "drupal-views"
        ],
        "owner": {
            "account_id": 466702,
            "reputation": 524,
            "user_id": 871614,
            "user_type": "registered",
            "accept_rate": 49,
            "profile_image": "https://www.gravatar.com/avatar/b61eb00f0b9c71a1720f3190060490c8?s=256&d=identicon&r=PG",
            "display_name": "WebMW",
            "link": "https://stackoverflow.com/users/871614/webmw"
        },
        "is_answered": false,
        "view_count": 9386,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1724641365,
        "creation_date": 1339639977,
        "question_id": 11025797,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/11025797/drupal-7-using-views-relationships-with-filters",
        "title": "Drupal 7 - Using Views Relationships With Filters",
        "body": "<p>In Views, I have an exposed filter that looks at the UID (User ID / Author), but <strong>is there a way to limit this to \"ONLY\" the users who have posted in this content type?</strong></p>\n\n<p>I tried adding a \"Content: Author\" relationship and hit Apply. I'm not exactly sure why, but it wasn't until this point that I could go back into the relationships and see MORE options, like: \"User: Content authored\" (which must then be dependent on the first relationship?) so I selected that one too and set it up like so:\n<img src=\"https://i.sstatic.net/wBkH9.png\" alt=\"Relationship step 1\">\nNow I was able to go to the exposed filter and select the relationship:</p>\n\n<p><img src=\"https://i.sstatic.net/GwB9c.png\" alt=\"Relationship step 2\">\nBut this didn't work-- the exposed filter continues to show all the registered users.</p>\n\n<p>I also tried putting in a User Reference field (to this content type) and attaching that to a relationship, but it didn't allow anything to show and gave this SQL warning:</p>\n\n<p>SQLSTATE[42S22]: Column not found: 1054 Unknown column 'field_data_field_hidden_name.uid' in 'on clause'</p>\n\n<p>How can I limit this author exposed filter to \"ONLY\" the users who have posted in this content type?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 4731229,
                    "reputation": 308,
                    "user_id": 3826798,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/24be738613bff0fb16c8cc9f188e939c?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Dunot",
                    "link": "https://stackoverflow.com/users/3826798/dunot"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1473838202,
                "last_edit_date": 1492087614,
                "creation_date": 1473838202,
                "answer_id": 39484799,
                "question_id": 11025797,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>In <a href=\"https://drupal.stackexchange.com/questions/18229/how-do-i-control-the-available-options-for-an-exposed-filter\">Linked theme</a> there is answer about Views Selective Filters (aka \"Views Selective Exposed Filters\", aka views_filters_selective, aka views_selective_filters).</p>\n\n<p>This module adds filters that have suffix \"(selective)\" in their names â€“ add one you need instead of filter w/o the suffix.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1196289,
                    "reputation": 415,
                    "user_id": 1167954,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/Og73P.png?s=256",
                    "display_name": "heyomi",
                    "link": "https://stackoverflow.com/users/1167954/heyomi"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1340380989,
                "creation_date": 1340380989,
                "answer_id": 11159933,
                "question_id": 11025797,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>There are a few drupal modules that may help you out. Such as <a href=\"http://drupal.org/project/cnr\" rel=\"nofollow\">Corresponding node references</a></p>\n\n<p>However, if you are good with php code, you can create the logic to query the database and return the desired results (which would be the columns of the table). Create a contextual filter, then select a field (any field should work, but best select something in either content type). Then edit it, WHEN THE FILTER VALUE IS NOT AVAILABLE -> Provide default value -> PHP Code</p>\n\n<pre><code>$nid = arg(1);// current node id\n$query = \"SELECT &lt;desired_field_column_name&gt; FROM {&lt;field_data_table_name&gt;} c \nWHERE c.&lt;column_that_is_same_as_nid&gt; = :nid\";                                             \n$result = db_query($query, array(':nid' =&gt;$nid));\n$id = array();\nwhile ($row = $result-&gt;fetch())\n{\n                array_push($id, $row-&gt;field_curator_target_id);//put each node id that's referenced in array\n}\n\n$separated = implode(\"+\", $id); // separate them by + for AND , for OR\nreturn $separated; //eg.32 + 30 would represent nodes that you want.\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "caching",
            "drupal",
            "etags"
        ],
        "owner": {
            "account_id": 4012610,
            "reputation": 3134,
            "user_id": 3305586,
            "user_type": "registered",
            "accept_rate": 92,
            "profile_image": "https://i.sstatic.net/eTqRD.jpg?s=256",
            "display_name": "RoyB",
            "link": "https://stackoverflow.com/users/3305586/royb"
        },
        "is_answered": true,
        "view_count": 506,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1724555886,
        "creation_date": 1557304804,
        "question_id": 56036737,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/56036737/how-can-i-configure-drupal-to-send-out-last-modified-etag-headers",
        "title": "How can I configure Drupal to send out Last Modified/Etag headers",
        "body": "<p>I am trying to get our Drupal 8.x website to send out ETag headers and/or Last-Modified headers for our pages, so that client browsers (and CloudFlare's intermediary cache) will cache the page. \nHowever, when I manually set the ETag headers, they seem to be removed by drupal.\nI have enabled Drupal's caching mechanism and upped max age to 1 day. Still I never get Drupal to send out these ETag and Last-Modified headers.</p>\n\n<p>Anyone got a hint on where to look at? I cannot find proper documentation on this.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 413196,
                    "reputation": 903,
                    "user_id": 1832593,
                    "user_type": "registered",
                    "accept_rate": 56,
                    "profile_image": "https://i.sstatic.net/mJlq8.jpg?s=256",
                    "display_name": "bdereta",
                    "link": "https://stackoverflow.com/users/1832593/bdereta"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1724555886,
                "creation_date": 1724555886,
                "answer_id": 78910381,
                "question_id": 56036737,
                "content_license": "CC BY-SA 4.0",
                "body": "<ol>\n<li>Create a new module (etag)</li>\n<li>Add etag.services.yml</li>\n</ol>\n<pre><code>   services:\n      etag.response_subscriber:\n        class: Drupal\\etag\\EventSubscriber\\ResponseSubscriber\n        tags:\n          - { name: event_subscriber }\n</code></pre>\n<ol start=\"3\">\n<li>Create ResponseSubscriber class inside <code>modules/custom/etag/src/EventSubscriber/ResponseSubscriber.php</code></li>\n</ol>\n<pre><code>&lt;?php\n\nnamespace Drupal\\etag\\EventSubscriber;\n\nuse Symfony\\Component\\EventDispatcher\\EventSubscriberInterface;\nuse Symfony\\Component\\HttpKernel\\KernelEvents;\nuse Symfony\\Component\\HttpKernel\\Event\\ResponseEvent;\n\nclass ResponseSubscriber implements EventSubscriberInterface {\n\n  public static function getSubscribedEvents(): array {\n    return [\n      KernelEvents::RESPONSE =&gt; 'onResponse',\n    ];\n  }\n\n  /**\n   * This method is called whenever the KernelEvents::RESPONSE event is dispatched.\n   *\n   * @param ResponseEvent $event\n   */\n  public function onResponse(ResponseEvent $event): void {\n    $response = $event-&gt;getResponse();\n    $etag_value = '&quot;' . md5($response-&gt;getContent()) . '&quot;';\n\n    $response-&gt;headers-&gt;set('ETag', $etag_value);\n\n  }\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 3643596,
                    "reputation": 31,
                    "user_id": 3037179,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/b655c25953ad6fbfdf5c3fba319573b8?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "user3037179",
                    "link": "https://stackoverflow.com/users/3037179/user3037179"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1631887240,
                "creation_date": 1631887240,
                "answer_id": 69224708,
                "question_id": 56036737,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I know this is an old question, but I think it may still be relevant as I've come across this issue in both D7 and and D8.  In my investigation and research, I have found these two links addressing this issue in the DO community.  Hopefully, it may help someone else.</p>\n<p>D8 - <a href=\"https://www.drupal.org/project/lastmodified_since\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/lastmodified_since</a>\nD7 - <a href=\"https://www.drupal.org/project/drupal/issues/3055984\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/drupal/issues/3055984</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-7",
            "drupal-files"
        ],
        "owner": {
            "account_id": 3280914,
            "reputation": 347,
            "user_id": 2761546,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://i.sstatic.net/hEGQ5.jpg?s=256",
            "display_name": "Olli Bolli",
            "link": "https://stackoverflow.com/users/2761546/olli-bolli"
        },
        "is_answered": true,
        "view_count": 159,
        "accepted_answer_id": 30663972,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1724291943,
        "creation_date": 1432113232,
        "last_edit_date": 1724291943,
        "question_id": 30345283,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/30345283/custom-drupal-bootstrap-using-file-api",
        "title": "Custom Drupal bootstrap using file-API",
        "body": "<p>i am using a single php-file Drupal bootstrap to generate a standalone cronjob PHP file.</p>\n\n<p>Here is my setup (the file resides in a subfolder, thats why i have to build up the base path like this)</p>\n\n<pre><code>/**\n * Drupal bootstrap\n */\n$path = str_replace(\"sites/all/modules/custom/my_module/cron\", \n\"\", DIRNAME(__FILE__));\n\ndefine('DRUPAL_ROOT', $path);\n\nrequire_once DRUPAL_ROOT . '/includes/bootstrap.inc';\n//require_once DRUPAL_ROOT . '/includes/common.inc';\n//require_once DRUPAL_ROOT . '/includes/module.inc';\n//require_once DRUPAL_ROOT . '/includes/unicode.inc';\n//require_once DRUPAL_ROOT . '/includes/file.inc';\n\ndrupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);\n</code></pre>\n\n<p>Whenever i am trying to use filebased functions like</p>\n\n<pre><code>$wrapper = file_stream_wrapper_get_instance_by_uri('public://mypath');\n$wrapper-&gt;realpath();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>drupal_realpath('public://mypath');\n</code></pre>\n\n<p>the result is always</p>\n\n<pre><code>bool FALSE\n</code></pre>\n\n<p>Do you know what i am missing here on my custom bootstrap that file operations do not work?</p>\n\n<p>Thanks</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 3280914,
                    "reputation": 347,
                    "user_id": 2761546,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://i.sstatic.net/hEGQ5.jpg?s=256",
                    "display_name": "Olli Bolli",
                    "link": "https://stackoverflow.com/users/2761546/olli-bolli"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1433499218,
                "creation_date": 1433499218,
                "answer_id": 30663972,
                "question_id": 30345283,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>In the meantime i found the solution.</p>\n\n<p>All filepaths are handled relativley internally inside Drupal.</p>\n\n<p>Whenever you are using some Drupal bootstrap inside a file that is not located at the ROOT-directory, make sure to use a:</p>\n\n<pre><code>chdir(DRUPAL_ROOT);\n</code></pre>\n\n<p>right before your function calls.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "docker",
            "drupal",
            "ddev"
        ],
        "owner": {
            "account_id": 23756512,
            "reputation": 95,
            "user_id": 17772577,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/co30h.jpg?s=256",
            "display_name": "EvilArgest",
            "link": "https://stackoverflow.com/users/17772577/evilargest"
        },
        "is_answered": true,
        "view_count": 140,
        "accepted_answer_id": 78894270,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1724185037,
        "creation_date": 1724159063,
        "question_id": 78892616,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78892616/ddev-fails-to-start-after-update-failed-waiting-for-web-db-containers-to-become",
        "title": "DDEV fails to start after update (Failed waiting for web/db containers to become ready)",
        "body": "<p>After updating DDEV from 1.21.x to 1.23.4, I cannot start my local environment anymore. After launching <code>ddev start</code>, I get all the containers starting and I see the following in my console:</p>\n<pre><code>Starting Mutagen sync process... \n................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................Mutagen sync flush completed in 13m29s.\nFor details on sync status 'ddev mutagen st d9 -l' \nWaiting for containers to become ready: [web db] \nFailed waiting for web/db containers to become ready: web container failed: log=/var/www/html:OK mailpit:FAILED phpstatus:FAILED, err=ddev-d9-web container is unhealthy, log=/var/www/html:OK mailpit:FAILED phpstatus:FAILED\nTroubleshoot this with these commands: \n[\n     ddev logs -s web\n     docker logs ddev-d9-web\n     docker inspect --format &quot;{{ json .State.Health }}&quot; ddev-d9-web | docker run -i --rm ddev/ddev-utilities jq -r\n]\n</code></pre>\n<p>However, there is a temporary solution, that works only once. After I run dev <code>config --database=mariadb:10.4</code> (my current MariaDB version in the <em><strong>config.yml</strong></em> file) the local environment starts as if nothing happened, but after stopping it, the following start will be with an error again.</p>\n<p>Anybody got the same problem? Btw, tried on two different locals, which are completely different, same behaviour.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 23756512,
                    "reputation": 95,
                    "user_id": 17772577,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/co30h.jpg?s=256",
                    "display_name": "EvilArgest",
                    "link": "https://stackoverflow.com/users/17772577/evilargest"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1724185037,
                "creation_date": 1724185037,
                "answer_id": 78894270,
                "question_id": 78892616,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Disabling mutagen resolved my issue (but, probably, not the root of the problem):</p>\n<pre><code>ddev mutagen reset &amp;&amp; ddev config global --performance-mode=none &amp;&amp; ddev config --performance-mode=none\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-6",
            "drupal-theming"
        ],
        "owner": {
            "account_id": 6225,
            "reputation": 10354,
            "user_id": 10393,
            "user_type": "registered",
            "accept_rate": 95,
            "profile_image": "https://www.gravatar.com/avatar/179dd478f871d63cba9b6427eee28113?s=256&d=identicon&r=PG",
            "display_name": "Steven Noble",
            "link": "https://stackoverflow.com/users/10393/steven-noble"
        },
        "is_answered": true,
        "view_count": 59801,
        "accepted_answer_id": 306380,
        "answer_count": 9,
        "score": 29,
        "last_activity_date": 1724078660,
        "creation_date": 1227136488,
        "last_edit_date": 1521273828,
        "question_id": 303761,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/303761/how-do-i-get-the-path-of-the-current-drupal-theme",
        "title": "How do I get the path of the current drupal theme?",
        "body": "<p>The Drupal API has <a href=\"http://api.drupal.org/api/function/drupal_get_path/6\" rel=\"noreferrer\"><code>drupal_get_path($type, $name)</code></a> which will give the path of any particular theme or module.  What if I want the path of the current theme?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 6264985,
                    "reputation": 101,
                    "user_id": 4871012,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/0d09fc78f70bc69e7bac38dd0f96a5e4?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Arie",
                    "link": "https://stackoverflow.com/users/4871012/arie"
                },
                "is_accepted": false,
                "score": 10,
                "last_activity_date": 1724078660,
                "last_edit_date": 1724078660,
                "creation_date": 1573474643,
                "answer_id": 58801183,
                "question_id": 303761,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>In Drupal 8, if you need to get the active theme path when you have the admin theme active you can fetch the default theme path:</p>\n<pre class=\"lang-php prettyprint-override\"><code>/** @var \\Drupal\\Core\\Extension\\ThemeHandlerInterface $themeHandler */\n$themeHandler = \\Drupal::service('theme_handler');\n$themePath = $themeHandler-&gt;getTheme($themeHandler-&gt;getDefault())-&gt;getPath();\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 1750930,
                    "reputation": 975,
                    "user_id": 1600028,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://i.sstatic.net/oC7ob.png?s=256",
                    "display_name": "hugronaphor",
                    "link": "https://stackoverflow.com/users/1600028/hugronaphor"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1674119010,
                "last_edit_date": 1674119010,
                "creation_date": 1674118429,
                "answer_id": 75169712,
                "question_id": 303761,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you already know the theme name</p>\n<pre><code>$themePath = \\Drupal::service('extension.list.theme')-&gt;getPath('my_theme_name');\n</code></pre>\n<p>or</p>\n<pre><code> $themePath = \\Drupal::service('extension.path.resolver')-&gt;getPath('theme', 'my_theme_name');\n</code></pre>\n"
            },
            {
                "owner": {
                    "user_type": "does_not_exist",
                    "display_name": "user8842379"
                },
                "is_accepted": false,
                "score": 5,
                "last_activity_date": 1517218229,
                "creation_date": 1517218229,
                "answer_id": 48498060,
                "question_id": 303761,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>In Drupal 8    </p>\n\n<pre><code>global $base_url;\n$theme = \\Drupal::theme()-&gt;getActiveTheme();\n$image_url = $base_url.'/'. $theme-&gt;getPath() .'/images/image.jpg';\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 771012,
                    "reputation": 496,
                    "user_id": 906526,
                    "user_type": "registered",
                    "accept_rate": 0,
                    "profile_image": "https://www.gravatar.com/avatar/e09a1d8dae8f532f52be96d4208c8c53?s=256&d=identicon&r=PG",
                    "display_name": "s6712",
                    "link": "https://stackoverflow.com/users/906526/s6712"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1513788524,
                "creation_date": 1513788524,
                "answer_id": 47910811,
                "question_id": 303761,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>For D8, the theme folder is available in preprocess functions: </p>\n\n<pre><code>function hook_preprocess_page(&amp;$variables) {\n  $variables['some_logo_file'] = \"/{$variables['theme']['path']}/images/logo.png\";\n}\n</code></pre>\n\n<p>page.html.twig: </p>\n\n<pre><code>&lt;img src=\"{{ logo_src }}\"&gt;\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 530625,
                    "reputation": 23958,
                    "user_id": 1841760,
                    "user_type": "registered",
                    "accept_rate": 88,
                    "profile_image": "https://i.sstatic.net/5aEFY.jpg?s=256",
                    "display_name": "Pupil",
                    "link": "https://stackoverflow.com/users/1841760/pupil"
                },
                "is_accepted": false,
                "score": 5,
                "last_activity_date": 1418627733,
                "last_edit_date": 1418627733,
                "creation_date": 1328618673,
                "answer_id": 9176501,
                "question_id": 303761,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>In Drupal 7, for getting current theme's path, we can use:\n<a href=\"https://api.drupal.org/api/drupal/includes!theme.inc/function/path_to_theme/7\" rel=\"nofollow\">path_to_theme()</a> function.</p>\n"
            },
            {
                "owner": {
                    "account_id": 15874,
                    "reputation": 2861,
                    "user_id": 33991,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/9770614c66b56331b6947c79b622a7af?s=256&d=identicon&r=PG",
                    "display_name": "FGM",
                    "link": "https://stackoverflow.com/users/33991/fgm"
                },
                "is_accepted": true,
                "score": 27,
                "last_activity_date": 1341751147,
                "last_edit_date": 1341751147,
                "creation_date": 1227206282,
                "answer_id": 306380,
                "question_id": 303761,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Use the <a href=\"http://api.drupal.org/api/function/path_to_theme/6\" rel=\"noreferrer\"><code>path_to_theme</code></a> function.</p>\n"
            },
            {
                "owner": {
                    "account_id": 593674,
                    "reputation": 101,
                    "user_id": 285719,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/d2753d712e8571d853fdb550a263b9e5?s=256&d=identicon&r=PG",
                    "display_name": "Fruity functions",
                    "link": "https://stackoverflow.com/users/285719/fruity-functions"
                },
                "is_accepted": false,
                "score": 10,
                "last_activity_date": 1267648859,
                "creation_date": 1267648859,
                "answer_id": 2374765,
                "question_id": 303761,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>In D6 path_to_theme() may not behave in a way you expect depending on how you are using it.   If you are using it outside any theme preprocess functions, then it will probably give you what you want, but if it is being called within the context of a module's theming/preprocess hook function... it will be pointing to the module path that declared the theme.</p>\n\n<p>Ex.  If i have a theme \"my_theme\" and my module \"my_module\" which is overriding the forum themes using the preprocess hooks, calling path_to_theme() within my module: e.g. my_module_preprocess_forums()... will return \"forums\", and not \"my_theme\" as one might expect.</p>\n\n<p>Very fruity if you ask me.</p>\n"
            },
            {
                "owner": {
                    "account_id": 18281,
                    "reputation": 3125,
                    "user_id": 41752,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/23365b2ae97212e561fb82442857d8bb?s=256&d=identicon&r=PG",
                    "display_name": "CaseySoftware",
                    "link": "https://stackoverflow.com/users/41752/caseysoftware"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1229104006,
                "creation_date": 1229104006,
                "answer_id": 363588,
                "question_id": 303761,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>In Drupal 5, you can simply use: path_to_theme()</p>\n\n<p>This will give you a complete path from the root of Drupal to the specific theme directory.  Be aware, it does not include a trailing slash.</p>\n\n<p>In Drupal 6, this behaves just a bit differently.  If you call it from within your pages, it will call whatever is currently doing the theming... whether that is your theme, a module, etc.  Here's the key quote from the API docs:</p>\n\n<blockquote>\n  <p>It can point to the active theme or\n  the module handling a themed\n  implementation. For example, when\n  invoked within the scope of a theming\n  call it will depend on where the\n  theming function is handled. If\n  implemented from a module, it will\n  point to the module. If implemented\n  from the active theme, it will point\n  to the active theme. When called\n  outside the scope of a theming call,\n  it will always point to the active\n  theme.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://api.drupal.org/api/function/path_to_theme\" rel=\"nofollow noreferrer\">http://api.drupal.org/api/function/path_to_theme</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 3366,
                    "reputation": 84283,
                    "user_id": 4853,
                    "user_type": "registered",
                    "accept_rate": 86,
                    "profile_image": "https://www.gravatar.com/avatar/3917e94e0d4327971e67b446eb1a5000?s=256&d=identicon&r=PG",
                    "display_name": "Owen",
                    "link": "https://stackoverflow.com/users/4853/owen"
                },
                "is_accepted": false,
                "score": 20,
                "last_activity_date": 1227137154,
                "creation_date": 1227137154,
                "answer_id": 303792,
                "question_id": 303761,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>this should work (<a href=\"http://api.drupal.org/api/globals\" rel=\"noreferrer\">doc</a>):</p>\n\n<pre><code>global $theme;\n$path = drupal_get_path('theme', $theme);\n\n// there's also a $theme_path global\n\nglobal $theme_path;\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "google-chrome",
            "drupal",
            "dns",
            "cloudflare"
        ],
        "owner": {
            "account_id": 1573435,
            "reputation": 509,
            "user_id": 1633812,
            "user_type": "registered",
            "accept_rate": 56,
            "profile_image": "https://www.gravatar.com/avatar/a15072f133880c84af365580426a0124?s=256&d=identicon&r=PG",
            "display_name": "Sandesh Yadav",
            "link": "https://stackoverflow.com/users/1633812/sandesh-yadav"
        },
        "is_answered": false,
        "view_count": 3254,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1724002944,
        "creation_date": 1495510249,
        "last_edit_date": 1495518688,
        "question_id": 44125329,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/44125329/err-too-many-redirects-error-after-using-cloudflare",
        "title": "ERR_TOO_MANY_REDIRECTS error after using Cloudflare",
        "body": "<p>After I started using Cloudflare I started facing this error in my website(frequently in chrome and opera).</p>\n\n<p><a href=\"https://i.sstatic.net/BmQao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/BmQao.png\" alt=\"enter image description here\"></a></p>\n\n<p>Some of the points I have found out after testing multiple times are:</p>\n\n<ol>\n<li><p>So far I have faced this problem in Google Chrome, Chromium, and Opera. Chrome being the major one for my visitors.</p></li>\n<li><p>The inner pages are working fine. For example <code>example.com/about-us</code> is working fine but the error occurs when we visit <code>example.com</code> .</p></li>\n<li>I once thought this is because of too many links in my home page. So tried removing all the links on home page but the error continued.</li>\n<li>If I type <code>example.com/node</code> instead of <code>example.com</code> it works fine(<code>example.com/node</code> being the default home page of drupal website). But users generally type <code>example.com</code> so it can't be the solution.</li>\n</ol>\n\n<p>In cloudflare settings I have changed the SSL mode to \"Full Strict\" from \"Flexible\" as suggested in <a href=\"https://stackoverflow.com/questions/35143193/cloudflare-and-nginx-too-many-redirects\">this</a> answer. It's been more than 10 hours but it hasn't helped so far. </p>\n\n<p>I am using Godaddy's linux hosting. It's a Drupal Website.</p>\n\n<p>Any clue is appreciated. Thanks in advance.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1490448,
                    "reputation": 1385,
                    "user_id": 1397641,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/55c0fb73e73e3d95a0b0e26c8d76a48f?s=256&d=identicon&r=PG",
                    "display_name": "Sam Carlton",
                    "link": "https://stackoverflow.com/users/1397641/sam-carlton"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1700943213,
                "creation_date": 1700943213,
                "answer_id": 77549437,
                "question_id": 44125329,
                "content_license": "CC BY-SA 4.0",
                "body": "<p><strong>Try setting SSL/TLS -&gt; Overview from Flexible to Full</strong></p>\n<p>This happens to me a lot after migrating domains from Google Domains or Namecheap, especially if I turned on &quot;Always Use HTTPS.&quot;</p>\n<p>As I understand, it has to do with your browser getting confused that your origin server behind Cloudfare has a slightly different SSL Configuration than Cloudflare itself, which is now handling DNS.</p>\n<p>When you configure SSL/TLS to Full in the Cloudflare Dashboard, that basically tells Cloudflare to fully handle SSL for the Origin Server and ignore the Origin Server's certificate.</p>\n<p>If you still need the SSL from your Origin Server, this may not be an ideal solution, or you may need to create a special Cloudflare Rule for your certificate to pass through under certain conditions.</p>\n<p>Official Docs\n<br>\n<a href=\"https://developers.cloudflare.com/ssl/troubleshooting/too-many-redirects/#encryption-mode-misconfigurations\" rel=\"nofollow noreferrer\">https://developers.cloudflare.com/ssl/troubleshooting/too-many-redirects/#encryption-mode-misconfigurations</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 10960657,
                    "reputation": 31,
                    "user_id": 8054075,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/4e2dbddbd2139dda8cac25b385059625?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Ralitsa",
                    "link": "https://stackoverflow.com/users/8054075/ralitsa"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1495550105,
                "creation_date": 1495550105,
                "answer_id": 44137778,
                "question_id": 44125329,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Since you are using SSL the issue most likely is due to the fact that you have some redirects on your website ( .htaccess ) to the httpS version of the site . On top of that Cloudflare have features in their Crypto section that allow you to make redirects directly from there. Thus if you have set such rules both places, you will most likely get a redirect looop. </p>\n\n<p>My advice would be for you to check the Crypto section of your CloudFlare account and make sure that </p>\n\n<p><strong>Automatic HTTPS Rewrites</strong>\nand\n<strong>HTTP Strict Transport Security</strong></p>\n\n<p>are disabled. </p>\n\n<p>Then clear the Cloudflare cache and try accessing your website from a fresh browser.</p>\n\n<p>This should do the trick, if not , you should provide us with your .htaccess content so that the case can be resolved.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-7",
            "drupal-taxonomy"
        ],
        "owner": {
            "account_id": 261352,
            "reputation": 375,
            "user_id": 545473,
            "user_type": "registered",
            "accept_rate": 86,
            "profile_image": "https://www.gravatar.com/avatar/8e675ddf70dcb63d5f990fc5e007ae0d?s=256&d=identicon&r=PG",
            "display_name": "Dirk v B",
            "link": "https://stackoverflow.com/users/545473/dirk-v-b"
        },
        "is_answered": true,
        "view_count": 2266,
        "accepted_answer_id": 5687784,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1723782737,
        "creation_date": 1302962146,
        "last_edit_date": 1723782737,
        "question_id": 5686952,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/5686952/css-class-assigned-to-a-taxonomy-term",
        "title": "CSS class assigned to a taxonomy term",
        "body": "<p>Imagine a blog with 4 different taxonomy terms.<br>\nI want to display \"all blog items,\" but every blog item with the term \"design\" will have a different look. So what I'd want is to have a CSS class for rows within a node. Am I saying that right?</p>\n\n<p>I probably did this in a gross, really hacky way, but here it is:</p>\n\n<pre><code>if (isset($fields[\"tid\"]-&gt;content)) {\n  unset($classes);\n  unset($class);\n  unset($classarray);\n\n  $classarray = explode(\",\", $fields[\"tid\"]-&gt;content);\n  echo '&lt;div class=\"';\n\n  foreach ($classarray as $class) {\n    $class = str_replace('&lt;span class=\"field-content\"&gt;', \"\", $class);\n    $class = str_replace(\"&lt;/span&gt;\", \"\", $class);\n    $class = str_replace(\" \", \"\", $class);\n    echo strtolower($class) . \" \";\n    unset($class);\n  }\n\n  echo '\"&gt;';\n}\nelse {\n    echo \"&lt;div&gt;\";\n}\n</code></pre>\n\n<p>Then I had a <code>&lt;/div&gt;</code> tag at the end of the file.</p>\n\n<p>This does require you to add the taxonomy details as content when you define your content type, and hide it with some CSS.</p>\n\n<p>Well, I hope this might help someone, even though it's bad form.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 342327,
                    "reputation": 661,
                    "user_id": 673434,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/00e27fdfa7ffe0ce07f751bc7c8b6e19?s=256&d=identicon&r=PG",
                    "display_name": "James",
                    "link": "https://stackoverflow.com/users/673434/james"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1302970308,
                "creation_date": 1302970308,
                "answer_id": 5687784,
                "question_id": 5686952,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>To display \"all blog items,\" you'll need to create a view.</p>\n\n<p>You can then create a custom template for that view, altering it to insert the taxonomy term as a class name into the HTML.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "caching",
            "drupal",
            "varnish"
        ],
        "owner": {
            "account_id": 9047481,
            "reputation": 1411,
            "user_id": 6739131,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/D1VLj.png?s=256",
            "display_name": "berramou",
            "link": "https://stackoverflow.com/users/6739131/berramou"
        },
        "is_answered": true,
        "view_count": 42,
        "accepted_answer_id": 78875565,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1723732056,
        "creation_date": 1723456251,
        "last_edit_date": 1723620927,
        "question_id": 78861027,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78861027/why-is-varnish-not-caching-https-requests-in-this-configuration",
        "title": "Why is Varnish not caching https requests in this configuration?",
        "body": "<p>I'm trying to setup varnish with Drupal10 project, but it's always MISS on HTTPS request but HIT on HTTP requests.</p>\n<p>I'm using lando, here is my varnish service simple config.</p>\n<pre><code>name: d10-api\nrecipe: drupal10\nconfig:\n  webroot: ./web\n  config:\n    php: '.lando/php.ini'\n\nproxy:\n  varnish:\n    - varnish-d10.lndo.site\n\nservices:\n  appserver:\n  varnish:\n    type: varnish:6.0\n    ssl: true\n    backends:\n      - appserver\n    configs:\n      - vcl: /app/.lando/varnish/default.vcl\n\n</code></pre>\n<p>The vcl config used is the one by default come with varnish docker image.\nhere is the configuration i use <a href=\"https://github.com/BERRAMOU/lando-base-varnish-config\" rel=\"nofollow noreferrer\">https://github.com/BERRAMOU/lando-base-varnish-config</a></p>\n<p>Here is varnish log for an HTTPS request which is MISS</p>\n<pre><code>*   &lt;&lt; Request  &gt;&gt; 360459\n-   Begin          req 360452 rxreq\n-   Timestamp      Start: 1722803049.990947 0.000000 0.000000\n-   Timestamp      Req: 1722803049.990947 0.000000 0.000000\n-   ReqStart       172.19.0.2 53104 a0\n-   ReqMethod      GET\n-   ReqURL         /node/1\n-   ReqProtocol    HTTP/1.1\n-   ReqHeader      Host: varnish-d10.lndo.site\n-   ReqHeader      User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36\n-   ReqHeader      Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\n-   ReqHeader      Accept-Encoding: gzip, deflate, br, zstd\n-   ReqHeader      Accept-Language: en-GB,en-US;q=0.9,en;q=0.8,fr;q=0.7\n-   ReqHeader      Cache-Control: max-age=0\n-   ReqHeader      Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqHeader      Priority: u=0, i\n-   ReqHeader      Sec-Ch-Ua: &quot;Not)A;Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;127&quot;, &quot;Chromium&quot;;v=&quot;127&quot;\n-   ReqHeader      Sec-Ch-Ua-Mobile: ?0\n-   ReqHeader      Sec-Ch-Ua-Platform: &quot;macOS&quot;\n-   ReqHeader      Sec-Fetch-Dest: document\n-   ReqHeader      Sec-Fetch-Mode: navigate\n-   ReqHeader      Sec-Fetch-Site: none\n-   ReqHeader      Sec-Fetch-User: ?1\n-   ReqHeader      Upgrade-Insecure-Requests: 1\n-   ReqHeader      X-Forwarded-For: 172.19.0.1\n-   ReqHeader      X-Forwarded-Host: varnish-d10.lndo.site\n-   ReqHeader      X-Forwarded-Port: 443\n-   ReqHeader      X-Forwarded-Proto: https\n-   ReqHeader      X-Forwarded-Server: 58671badd9ab\n-   ReqHeader      X-Lando: on\n-   ReqHeader      X-Real-Ip: 172.19.0.1\n-   ReqUnset       X-Forwarded-For: 172.19.0.1\n-   ReqHeader      X-Forwarded-For: 172.19.0.1, 172.19.0.2\n-   VCL_call       RECV\n-   ReqHeader      X-VC-My-Purge-Key: bf79VN1ryQ9zhvomLOqoldCWv5w3xvyRJwIaRc2GKtmg4IpVDaA7IDF2X7W824JR\n-   ReqUnset       X-VC-My-Purge-Key: bf79VN1ryQ9zhvomLOqoldCWv5w3xvyRJwIaRc2GKtmg4IpVDaA7IDF2X7W824JR\n-   ReqHeader      vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqUnset       vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqHeader      vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D;datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjGp\n-   ReqUnset       vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D;datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjGp\n-   ReqHeader      vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D;datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjGp\n-   ReqUnset       vckey: ;iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D;datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjGp\n-   ReqHeader      vckey:\n-   ReqUnset       vckey:\n-   ReqHeader      vckey:\n-   ReqUnset       Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqHeader      Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqUnset       Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   ReqHeader      Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   VCL_return     pass\n-   VCL_call       HASH\n-   ReqHeader      hash: /node/1\n-   ReqUnset       hash: /node/1\n-   ReqHeader      hash: /node/1#varnish-d10.lndo.site\n-   ReqUnset       hash: /node/1#varnish-d10.lndo.site\n-   ReqHeader      hash: /node/1#varnish-d10.lndo.sitehttps\n-   ReqUnset       vckey:\n-   VCL_return     lookup\n-   VCL_call       PASS\n-   VCL_return     fetch\n-   Link           bereq 360460 pass\n-   Timestamp      Fetch: 1722803050.015579 0.024632 0.024632\n-   RespProtocol   HTTP/1.1\n-   RespStatus     200\n-   RespReason     OK\n-   RespHeader     Date: Sun, 04 Aug 2024 20:24:09 GMT\n-   RespHeader     Server: Apache/2.4.56 (Debian)\n-   RespHeader     X-Powered-By: PHP/8.1.28\n-   RespHeader     Cache-Control: max-age=31536000, public\n-   RespHeader     X-Drupal-Dynamic-Cache: MISS\n-   RespHeader     Content-language: en\n-   RespHeader     X-Content-Type-Options: nosniff\n-   RespHeader     X-Frame-Options: SAMEORIGIN\n-   RespHeader     X-Drupal-Cache-Tags: CACHE_MISS_IF_UNCACHEABLE_HTTP_METHOD:form block_view config:block.block.olivero_account_menu config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_main_m\n-   RespHeader     X-Drupal-Cache-Contexts: cookies:big_pipe_nojs languages:language_interface route session.exists theme timezone url.path.is_front url.path.parent url.query_args:_wrapper_format url.site user.permissions user.roles\n-   RespHeader     X-Drupal-Cache-Max-Age: -1 (Permanent)\n-   RespHeader     Expires: Sun, 19 Nov 1978 05:00:00 GMT\n-   RespHeader     Last-Modified: Sun, 04 Aug 2024 20:23:43 GMT\n-   RespHeader     ETag: &quot;1722803023-gzip&quot;\n-   RespHeader     Vary: Cookie,Accept-Encoding\n-   RespHeader     X-Generator: Drupal 10 (https://www.drupal.org)\n-   RespHeader     Purge-Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_p\n-   RespHeader     Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_page_ti\n-   RespHeader     X-Drupal-Cache: HIT\n-   RespHeader     Content-Encoding: gzip\n-   RespHeader     Content-Type: text/html; charset=UTF-8\n-   RespHeader     X-VC-Req-Host: varnish-d10.lndo.site\n-   RespHeader     X-VC-Req-URL: /node/1\n-   RespHeader     X-VC-Req-URL-Base: /node/1\n-   RespHeader     X-VC-Cacheable: NO:Not cacheable, ttl: 0.000\n-   RespHeader     X-Url: /node/1\n-   RespHeader     X-Host: varnish-d10.lndo.site\n-   RespHeader     X-Varnish: 360459\n-   RespHeader     Age: 0\n-   RespHeader     Via: 1.1 varnish (Varnish/6.0)\n-   VCL_call       DELIVER\n-   RespUnset      X-VC-Req-Host: varnish-d10.lndo.site\n-   RespUnset      X-VC-Req-URL: /node/1\n-   RespUnset      X-VC-Req-URL-Base: /node/1\n-   RespUnset      Via: 1.1 varnish (Varnish/6.0)\n-   RespUnset      X-Url: /node/1\n-   RespUnset      X-Host: varnish-d10.lndo.site\n-   RespUnset      Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_page_ti\n-   RespHeader     X-VC-Cache: MISS\n-   RespUnset      X-VC-Cacheable: NO:Not cacheable, ttl: 0.000\n-   VCL_return     deliver\n-   Timestamp      Process: 1722803050.015603 0.024656 0.000024\n-   RespHeader     Accept-Ranges: bytes\n-   RespHeader     Transfer-Encoding: chunked\n-   RespHeader     Connection: keep-alive\n-   Timestamp      Resp: 1722803050.019641 0.028694 0.004038\n-   ReqAcct        1210 0 1210 2733 4935 7668\n-   End\n</code></pre>\n<p>And here is a log with http request which is HIT</p>\n<pre><code>   &lt;&lt; Request  &gt;&gt; 393230\n-   Begin          req 393228 rxreq\n-   Timestamp      Start: 1722681295.423629 0.000000 0.000000\n-   Timestamp      Req: 1722681295.423629 0.000000 0.000000\n-   ReqStart       172.19.0.2 48756 a0\n-   ReqMethod      GET\n-   ReqURL         /node/1\n-   ReqProtocol    HTTP/1.1\n-   ReqHeader      Host: varnish-d10.lndo.site\n-   ReqHeader      User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36\n-   ReqHeader      Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\n-   ReqHeader      Accept-Encoding: gzip, deflate\n-   ReqHeader      Accept-Language: en-GB,en-US;q=0.9,en;q=0.8,fr;q=0.7\n-   ReqHeader      Cache-Control: max-age=0\n-   ReqHeader      If-Modified-Since: Fri, 02 Aug 2024 15:28:36 GMT\n-   ReqHeader      If-None-Match: &quot;1722612516-gzip&quot;\n-   ReqHeader      Upgrade-Insecure-Requests: 1\n-   ReqHeader      X-Forwarded-For: 172.19.0.1\n-   ReqHeader      X-Forwarded-Host: varnish-d10.lndo.site\n-   ReqHeader      X-Forwarded-Port: 80\n-   ReqHeader      X-Forwarded-Proto: http\n-   ReqHeader      X-Forwarded-Server: 58671badd9ab\n-   ReqHeader      X-Lando: on\n-   ReqHeader      X-Real-Ip: 172.19.0.1\n-   ReqUnset       X-Forwarded-For: 172.19.0.1\n-   ReqHeader      X-Forwarded-For: 172.19.0.1, 172.19.0.2\n-   VCL_call       RECV\n-   ReqHeader      X-VC-My-Purge-Key: lb6kUhxJyT1teZgbUm5pbG6MPK174cCUkuS1PLBNJgvN3xq5nMu2tY4AVvqFC0v5\n-   ReqUnset       X-VC-My-Purge-Key: lb6kUhxJyT1teZgbUm5pbG6MPK174cCUkuS1PLBNJgvN3xq5nMu2tY4AVvqFC0v5\n-   ReqHeader      vckey: ;\n-   ReqUnset       vckey: ;\n-   ReqHeader      vckey: ;\n-   ReqUnset       vckey: ;\n-   ReqHeader      vckey: ;\n-   ReqUnset       vckey: ;\n-   ReqHeader      vckey: ;\n-   ReqUnset       vckey: ;\n-   ReqHeader      vckey:\n-   ReqHeader      Cookie:\n-   ReqUnset       Cookie:\n-   ReqHeader      Cookie:\n-   ReqUnset       Cookie:\n-   VCL_return     hash\n-   ReqUnset       Accept-Encoding: gzip, deflate\n-   ReqHeader      Accept-Encoding: gzip\n-   VCL_call       HASH\n-   ReqHeader      hash: /node/1\n-   ReqUnset       hash: /node/1\n-   ReqHeader      hash: /node/1#varnish-d10.lndo.site\n-   ReqUnset       vckey:\n-   VCL_return     lookup\n-   Hit            425994 31535918.620684 120.000000 0.000000\n-   VCL_call       HIT\n-   VCL_return     deliver\n-   RespProtocol   HTTP/1.1\n-   RespStatus     200\n-   RespReason     OK\n-   RespHeader     Date: Sat, 03 Aug 2024 10:33:32 GMT\n-   RespHeader     Server: Apache/2.4.56 (Debian)\n-   RespHeader     X-Powered-By: PHP/8.1.28\n-   RespHeader     Cache-Control: max-age=31536000, public\n-   RespHeader     X-Drupal-Dynamic-Cache: MISS\n-   RespHeader     Content-language: en\n-   RespHeader     X-Content-Type-Options: nosniff\n-   RespHeader     X-Frame-Options: SAMEORIGIN\n-   RespHeader     X-Drupal-Cache-Tags: CACHE_MISS_IF_UNCACHEABLE_HTTP_METHOD:form block_view config:block.block.olivero_account_menu config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_main_m\n-   RespHeader     X-Drupal-Cache-Contexts: cookies:big_pipe_nojs languages:language_interface route session.exists theme timezone url.path.is_front url.path.parent url.query_args:_wrapper_format url.site user.permissions user.roles\n-   RespHeader     X-Drupal-Cache-Max-Age: -1 (Permanent)\n-   RespHeader     Expires: Sun, 19 Nov 1978 05:00:00 GMT\n-   RespHeader     Last-Modified: Fri, 02 Aug 2024 15:28:36 GMT\n-   RespHeader     ETag: &quot;1722612516-gzip&quot;\n-   RespHeader     Vary: Cookie,Accept-Encoding\n-   RespHeader     X-Generator: Drupal 10 (https://www.drupal.org)\n-   RespHeader     Purge-Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_p\n-   RespHeader     Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_page_ti\n-   RespHeader     X-Drupal-Cache: HIT\n-   RespHeader     Content-Encoding: gzip\n-   RespHeader     Content-Type: text/html; charset=UTF-8\n-   RespHeader     X-VC-Req-Host: varnish-d10.lndo.site\n-   RespHeader     X-VC-Req-URL: /node/1\n-   RespHeader     X-VC-Req-URL-Base: /node/1\n-   RespHeader     X-Url: /node/1\n-   RespHeader     X-Host: varnish-d10.lndo.site\n-   RespHeader     X-Varnish: 393230 425994\n-   RespHeader     Age: 81\n-   RespHeader     Via: 1.1 varnish (Varnish/6.0)\n-   VCL_call       DELIVER\n-   RespUnset      X-VC-Req-Host: varnish-d10.lndo.site\n-   RespUnset      X-VC-Req-URL: /node/1\n-   RespUnset      X-VC-Req-URL-Base: /node/1\n-   RespUnset      Via: 1.1 varnish (Varnish/6.0)\n-   RespUnset      X-Url: /node/1\n-   RespUnset      X-Host: varnish-d10.lndo.site\n-   RespUnset      Cache-Tags: config:block_list config:block.block.olivero_account_menu config:block.block.olivero_search_form_wide config:block.block.olivero_breadcrumbs config:block.block.olivero_content config:block.block.olivero_help config:block.block.olivero_page_ti\n-   RespHeader     X-VC-Cache: HIT\n-   VCL_return     deliver\n-   Timestamp      Process: 1722681295.423819 0.000190 0.000190\n-   RespProtocol   HTTP/1.1\n-   RespStatus     304\n-   RespReason     Not Modified\n-   RespHeader     Connection: keep-alive\n-   Timestamp      Resp: 1722681295.423894 0.000265 0.000075\n-   ReqAcct        742 0 742 2700 0 2700\n-   End\n</code></pre>\n<p>Did anyone have this issue with Drupal and varnish ?\nI have tried to set <code>X-Forwarded-Proto</code> in the vcl_deliver like this</p>\n<pre><code>    if (req.http.X-Forwarded-Proto == &quot;https&quot;) {\n        set resp.http.X-Forwarded-Proto = &quot;https&quot;;\n    }\n</code></pre>\n<p>I doubt it's a reverse_proxy issue, i have tried <a href=\"https://www.drupal.org/project/reverse_proxy_header\" rel=\"nofollow noreferrer\">reverse_proxy_header</a>  to set reverse_proxy_header to X_FORWARDED_PROTO and also i tried to add hitch TLS proxy also\nbut nothing seems to work, any help would be appreciated.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 17755486,
                    "reputation": 4653,
                    "user_id": 12892695,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/DzYl9.jpg?s=256",
                    "display_name": "Thijs Feryn",
                    "link": "https://stackoverflow.com/users/12892695/thijs-feryn"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1723732056,
                "creation_date": 1723732056,
                "answer_id": 78875565,
                "question_id": 78861027,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Based on what I'm seeing in the logs, the following Cookie is triggering a cache bypass:</p>\n<pre><code>-   ReqHeader      Cookie: iadvize-6912-vuid=%7B%22vuid%22%3A%22d4a2d9485db84d9f90dfa67bb2fa22350fd39c91bbd54%22%2C%22deviceId%22%3A%22b50aa778-6908-40e9-914f-f6415ae6e473%22%7D; datadome=WHOXlev3TenxhfPKnQ4F_L7hWMnVqjGZ7aYJvMA9qkwVZZ5eZwxoKCHtnTlLRt3xTME4Ep1nhSt~45GoUhsjG\n-   VCL_return     pass\n</code></pre>\n<p>If I look at <a href=\"https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37\" rel=\"nofollow noreferrer\">https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37</a>, which has the following code:</p>\n<pre><code>set req.http.Cookie = regsuball(req.http.Cookie, &quot;(^|;\\s*)(__[a-z]+|wooTracker|VCKEY-[a-zA-Z0-9-_]+)=[^;]*&quot;, &quot;&quot;);\nset req.http.Cookie = regsub(req.http.Cookie, &quot;^;\\s*&quot;, &quot;&quot;);\nif (req.http.Cookie ~ &quot;^\\s*$&quot;) {\n    unset req.http.Cookie;\n}\n</code></pre>\n<p>I can conclude that the following cookies, that are part of your request, are not automatically removed using the VCL <code>regsuball()</code> function:</p>\n<ul>\n<li><code>iadvize-6912-vuid</code></li>\n<li><code>datadome</code></li>\n</ul>\n<p>So if these cookies are part of the request, Varnish is going to fall back on its default behavior and a cache bypass will take place, as described in the <a href=\"https://www.varnish-software.com/developers/tutorials/varnish-builtin-vcl/#authorization-headers-and-cookies-are-not-cacheable\" rel=\"nofollow noreferrer\">built-in VCL</a>.</p>\n<h2>What about the cache hit?</h2>\n<p>If you look at the cache hit transactions, you see the following log items:</p>\n<pre><code>-   ReqHeader      Cookie:\n-   ReqUnset       Cookie:\n-   ReqHeader      Cookie:\n-   ReqUnset       Cookie:\n</code></pre>\n<p>This means your VCL code on line 37 &amp; 38 of <a href=\"https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37-L38\" rel=\"nofollow noreferrer\">https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37-L38</a> has tried to remove some tracking cookies, but didn't find any.</p>\n<p>In the end, the <code>Cookie</code> header is stripped off, which means the default behavior of bypassing the cache for cookies is not triggered. That's why this request is handled by the cache and the first one isn't.</p>\n<h2>Next steps?</h2>\n<p>You need to figure out if the <code>iadvize-6912-vuid</code> &amp; <code>datadome</code> cookies are tracking cookies or not? If they're tracking cookies that are handled by some client-side Javascript logic, you can strip them off by adding their pattern to <a href=\"https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37\" rel=\"nofollow noreferrer\">https://github.com/BERRAMOU/lando-base-varnish-config/blob/main/defaults/vcl_recv.vcl#L37</a>.</p>\n<p>If these are server-side cookies, you need to figure out why they are needed on that page and how they are set. Worst case: the page cannot be cached.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 6114856,
            "reputation": 1504,
            "user_id": 4770218,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-F0-sE_yHv8A/AAAAAAAAAAI/AAAAAAAAAls/W53tl6XIPyM/photo.jpg?sz=256",
            "display_name": "Kevin Wenger",
            "link": "https://stackoverflow.com/users/4770218/kevin-wenger"
        },
        "is_answered": true,
        "view_count": 60677,
        "accepted_answer_id": 39246555,
        "answer_count": 12,
        "score": 22,
        "last_activity_date": 1723333877,
        "creation_date": 1451331153,
        "last_edit_date": 1486213870,
        "question_id": 34499554,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/34499554/extract-url-title-from-link-field-in-drupal-8",
        "title": "Extract Url &amp; Title from link field in Drupal 8?",
        "body": "<p>I'm trying to retrieve the <em>URL</em> and the <em>Title</em> values of a <a href=\"https://www.drupal.org/project/link\" rel=\"noreferrer\">Link field</a> in <strong>Drupal 8</strong>.</p>\n\n<p>In my custom controller, I retrieve the nodes with:</p>\n\n<pre><code>$storage = \\Drupal::entityManager()-&gt;getStorage('node');\n$nids = $storage-&gt;getQuery()\n    -&gt;condition('type', 'partners')\n    -&gt;condition('status', 1)\n    -&gt;execute();\n\n$partners = $storage-&gt;loadMultiple($nids);\n</code></pre>\n\n<p>When I loop throught all my nodes, to preprocess vars I'll give to my view, I would like to retrieve the <em>URL</em> and the <em>Title</em>.</p>\n\n<pre><code>foreach ($partners as $key =&gt; $partner) {\n    $variables['partners'][] = array(\n        'image' =&gt; $partner-&gt;field_logo-&gt;entity-&gt;url(),\n        'url'   =&gt; $partner-&gt;field_link-&gt;value, // Can't retrieve values of link field\n    );\n}\n</code></pre>\n\n<p>Unfortunately, I don't found how to retrieve the <em>URL</em> and the <em>Title</em> of <strong>field_link</strong>.</p>\n\n<p>Thanks for your help.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 22460095,
                    "reputation": 1,
                    "user_id": 17128279,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/e1f21853ea177b04562200d24d411b97?s=256&d=identicon&r=PG",
                    "display_name": "Nikola",
                    "link": "https://stackoverflow.com/users/17128279/nikola"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1723333877,
                "creation_date": 1723333877,
                "answer_id": 78857235,
                "question_id": 34499554,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you need customized link in drupal twig:\ncreate file\nfrom</p>\n<pre><code>field.html.twig\n</code></pre>\n<p>to</p>\n<pre><code>field--{{{WHERE}}}--field-link--{{{NAME_TEMPLATE}}}.html.twig\n</code></pre>\n<p>In file changed:</p>\n<pre><code>{{ item.content }}\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;a href=&quot;{{ item.content['#url'] }}&quot; target=&quot;_blank&quot;&gt;{{ item.content['#title'] }}&lt;/a&gt;\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 3838809,
                    "reputation": 575,
                    "user_id": 3183069,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/enc5o.jpg?s=256",
                    "display_name": "JFC",
                    "link": "https://stackoverflow.com/users/3183069/jfc"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1589481293,
                "creation_date": 1589481293,
                "answer_id": 61804873,
                "question_id": 34499554,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you're doing it in a preprocess, I'd suggest to base your code on LinkSeparateFormatter.php. It shows the idea on how to get the title from the link field. Here's a way to do it.</p>\n\n<pre><code>use Drupal\\Component\\Utility\\Unicode;\n\n//...\n\n$field_link = $entity-&gt;field_link-&gt;first();\n$link_url = $field_link-&gt;getUrl();\n$link_data = $field_link-&gt;toArray();\n// If you want to truncate the url\n$link_title = Unicode::truncate($link_url-&gt;toString(), 40, FALSE, TRUE);\nif(!empty($link_data['title'])){\n  // You could truncate here as well\n  $link_title = $link_data['title'];\n}\n$variables['content'] = [\n  '#type' =&gt; 'link',\n  '#url' =&gt; $link_url,\n  '#title' =&gt; $link_title,\n];\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 1803101,
                    "reputation": 41,
                    "user_id": 9227059,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/75ca2e178d19caa4f876377f343234db?s=256&d=identicon&r=PG",
                    "display_name": "mel-miller",
                    "link": "https://stackoverflow.com/users/9227059/mel-miller"
                },
                "is_accepted": false,
                "score": 4,
                "last_activity_date": 1579620353,
                "last_edit_date": 1579620353,
                "creation_date": 1579556330,
                "answer_id": 59831215,
                "question_id": 34499554,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you want to do this in a field template instead of a node template do this:</p>\n\n<pre><code>{% for item in items %}\n  {{ item.content['#url'] }}\n  {{ item.content['#title'] }}\n{% endfor %}\n</code></pre>\n\n<p>Alternately, if this is not a multi-value field you can just do this instead:</p>\n\n<pre><code>{{ items|first.content['#url'] }}\n{{ items|first.content['#title'] }}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 3326671,
                    "reputation": 549,
                    "user_id": 2796597,
                    "user_type": "registered",
                    "accept_rate": 17,
                    "profile_image": "https://www.gravatar.com/avatar/5da84c2e6da351dff43e73b8ca259b6b?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Jignesh Rawal",
                    "link": "https://stackoverflow.com/users/2796597/jignesh-rawal"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1542112280,
                "creation_date": 1542112280,
                "answer_id": 53281066,
                "question_id": 34499554,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>One more way is to add another field Path:Content if you are trying to fetch the URL in Views Fields</p>\n"
            },
            {
                "owner": {
                    "account_id": 1540262,
                    "reputation": 61,
                    "user_id": 1496250,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/e7a5ecfc0aca7958f1105cf529415955?s=256&d=identicon&r=PG",
                    "display_name": "Debasish",
                    "link": "https://stackoverflow.com/users/1496250/debasish"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1540641515,
                "creation_date": 1540641515,
                "answer_id": 53021675,
                "question_id": 34499554,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>After rendering a block if you want to access the link field used in it then you can use like this  $render['field_target_url']['#items']->uri  inside node preprocess hook.</p>\n"
            },
            {
                "owner": {
                    "account_id": 317148,
                    "reputation": 2895,
                    "user_id": 1043012,
                    "user_type": "registered",
                    "accept_rate": 59,
                    "profile_image": "https://www.gravatar.com/avatar/76101f0cf8bf4c0996f23bccbd50de9c?s=256&d=identicon&r=PG",
                    "display_name": "Benjen",
                    "link": "https://stackoverflow.com/users/1043012/benjen"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1514894614,
                "last_edit_date": 1514894614,
                "creation_date": 1514894270,
                "answer_id": 48060575,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>You can render either the uri or text of a link field directly in the twig template. In the case of a node you can use either of the following within the twig template file (assumes the machine name of your link field is <code>field_link</code>): </p>\n\n<pre><code>{{ node.field_link.uri }}\n\n{{ node.field_link.title }} \n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 6708304,
                    "reputation": 91,
                    "user_id": 5533224,
                    "user_type": "registered",
                    "profile_image": "https://lh5.googleusercontent.com/-OC5ea5ejzFc/AAAAAAAAAAI/AAAAAAAAAFo/kd6SDXZXbo4/photo.jpg?sz=256",
                    "display_name": "Arti Prasad",
                    "link": "https://stackoverflow.com/users/5533224/arti-prasad"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1499932266,
                "creation_date": 1499932266,
                "answer_id": 45074558,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I am doing this link separation for ECK fields and this solution really helped me. I have updated the code for ECK fields for apply inline style in twig file like this:</p>\n\n<p><code>&lt;a style=\"color: {{ entity.field_link_color[0] }};\" href=\"{{ entity.field_link[0]['#url'] }}\"&gt; {{ entity.field_link[0]['#title'] }}   &lt;/a&gt;</code></p>\n\n<p>To get url:<br />\n<code>{{ entity.field_link[0]['#url'] }}</code></p>\n\n<p>To get link title: <br />\n<code>{{ entity.field_link[0]['#title'] }}</code></p>\n"
            },
            {
                "owner": {
                    "account_id": 6632214,
                    "reputation": 912,
                    "user_id": 5120560,
                    "user_type": "registered",
                    "accept_rate": 80,
                    "profile_image": "https://lh6.googleusercontent.com/-cCXHy1OeP4w/AAAAAAAAAAI/AAAAAAAAANg/6RHjhn5j-oI/photo.jpg?sz=256",
                    "display_name": "Vishal Rao",
                    "link": "https://stackoverflow.com/users/5120560/vishal-rao"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1493841158,
                "last_edit_date": 1493841158,
                "creation_date": 1493838857,
                "answer_id": 43768232,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Updated for Drupal 8</p>\n\n<p>To get the url all you need to do is:</p>\n\n<pre><code>{{ content.field_link_name[0]['#url'] }}\n</code></pre>\n\n<p>To get the link text:</p>\n\n<pre><code>{{ content.field_link_name[0]['#title'] }}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 2310483,
                    "reputation": 699,
                    "user_id": 2631670,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/WE1qe.jpg?s=256",
                    "display_name": "Mark Conroy",
                    "link": "https://stackoverflow.com/users/2631670/mark-conroy"
                },
                "is_accepted": true,
                "score": 43,
                "last_activity_date": 1491312729,
                "last_edit_date": 1491312729,
                "creation_date": 1472637737,
                "answer_id": 39246555,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>At the node level, inside your Twig template you can use:</p>\n\n<p><code>{{ content.field_link.0['#url'] }}</code> &amp; <code>{{ content.field_link.0['#title'] }}</code></p>\n\n<p><strong>For example:</strong></p>\n\n<p><code>&lt;a href=\"{{ content.field_link.0['#url'] }}\"&gt;{{ content.field_link.0['#title'] }}&lt;/a&gt;</code></p>\n\n<p><code>field_link</code> being the name of the link field in question.</p>\n"
            },
            {
                "owner": {
                    "account_id": 8954239,
                    "reputation": 401,
                    "user_id": 6679225,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/yqBXo.jpg?s=256",
                    "display_name": "zanvidmar",
                    "link": "https://stackoverflow.com/users/6679225/zanvidmar"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1483538784,
                "last_edit_date": 1483538784,
                "creation_date": 1481290552,
                "answer_id": 41061709,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>This one works for me in twig:</p>\n\n<pre><code>content.field_link_name.0['#title']        // title\ncontent.field_link_name.0['#url_title']    // url value\n</code></pre>\n\n<p>*you should use: \"Separate link text and URL\" widget in display</p>\n"
            },
            {
                "owner": {
                    "account_id": 8282584,
                    "reputation": 121,
                    "user_id": 6226759,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/42ec273faebfb2a4c8bdb75d94e552e5?s=256&d=identicon&r=PG",
                    "display_name": "Greg",
                    "link": "https://stackoverflow.com/users/6226759/greg"
                },
                "is_accepted": false,
                "score": 12,
                "last_activity_date": 1461094066,
                "creation_date": 1461094066,
                "answer_id": 36727685,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Just to piggyback on the above, if you have an external link,</p>\n\n<pre><code>$node-&gt;field_name-&gt;uri\n</code></pre>\n\n<p>Will give you the URL, but if it's an internal you may need to tweak a bit more:</p>\n\n<pre><code>use Drupal\\Core\\Url;\n\n$mylink = Url::fromUri($node-&gt;field_name[0]-&gt;uri);\n$mylink-&gt;toString();\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 6114856,
                    "reputation": 1504,
                    "user_id": 4770218,
                    "user_type": "registered",
                    "profile_image": "https://lh3.googleusercontent.com/-F0-sE_yHv8A/AAAAAAAAAAI/AAAAAAAAAls/W53tl6XIPyM/photo.jpg?sz=256",
                    "display_name": "Kevin Wenger",
                    "link": "https://stackoverflow.com/users/4770218/kevin-wenger"
                },
                "is_accepted": false,
                "score": 15,
                "last_activity_date": 1451331890,
                "creation_date": 1451331890,
                "answer_id": 34499729,
                "question_id": 34499554,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I just found the solution ... </p>\n\n<pre><code>$partner-&gt;field_lien-&gt;uri // The url\n$partner-&gt;field_lien-&gt;title // The title\n</code></pre>\n\n<p>My bad, hope it could help someone.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "twig",
            "drupal-8"
        ],
        "owner": {
            "account_id": 4458939,
            "reputation": 1744,
            "user_id": 3628383,
            "user_type": "registered",
            "accept_rate": 70,
            "profile_image": "https://i.sstatic.net/ZZsDD.png?s=256",
            "display_name": "Jaeger",
            "link": "https://stackoverflow.com/users/3628383/jaeger"
        },
        "is_answered": false,
        "view_count": 612,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1723188998,
        "creation_date": 1493822200,
        "question_id": 43763115,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/43763115/issues-with-passing-a-variable-to-a-macro",
        "title": "Issues with passing a variable to a macro",
        "body": "<p>I have a menu block that shows 4 links. I'd like to remove the last one if the user has a specific role.</p>\n\n<p>The menu block is created in a specific twig file, and inside a macro, as follows:</p>\n\n<pre><code>{% import _self as menus %}\n\n{#\n  We call a macro which calls itself to render the full tree.\n  @see http://twig.sensiolabs.org/doc/tags/macro.html\n#}\n{{ menus.menu_links(items, attributes, 0) }}\n\n{% set role = user.role %}\n\n{% macro menu_links(items, attributes, menu_level, elements) %}\n\n    {% import _self as menus %}\n\n    {% if items %}\n\n        &lt;span class='arrow-down'&gt;&lt;/span&gt;\n        &lt;ul{{ attributes.setAttribute('id', 'edit-profil-nav') }}&gt;\n            {% for item in items %}\n\n                {% set item_classes = [\n                    'col-xs-12',\n                    'col-sm-12',\n                    items|length == 3 ? 'col-md-4' : 'col-md-3',\n                    item.in_active_trail ? 'active' : 'notactive',\n                ] %}\n\n                &lt;li{{ item.attributes.addClass(item_classes) }}&gt;\n                    {{ link(item.title, item.url) }}\n                &lt;/li&gt;\n            {% endfor %}\n        &lt;/ul&gt;\n        {{ attach_library('cnas/responsive-navigation') }}\n    {% endif %}\n{% endmacro %}\n</code></pre>\n\n<p>The major issue I have is that I can't interfere with the macro: I'd like to be able to make comparisons with the <code>user</code> variable, but when I dump it while being in the macro, <code>user</code> shows null.</p>\n\n<p>I found a lot of stuff while looking for an answer, but I've seen everything and its opposite, so I'd like to know if I can do that, and how</p>\n\n<p>Thank you a lot!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 200632,
                    "reputation": 16126,
                    "user_id": 446594,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://www.gravatar.com/avatar/265aa3b3b575f011c853fc00f41eccfb?s=256&d=identicon&r=PG",
                    "display_name": "DarkBee",
                    "link": "https://stackoverflow.com/users/446594/darkbee"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1723188998,
                "last_edit_date": 1723188998,
                "creation_date": 1493824049,
                "answer_id": 43763841,
                "question_id": 43763115,
                "content_license": "CC BY-SA 4.0",
                "body": "<p><code>macro's</code> in <code>twig</code> have their own scope. You will need to pass the variable <code>user</code> as an argument towards the macro in order to access it.</p>\n<pre><code>{% macro menu_links(user, items, attributes, menu_level, elements) %}\n    {# .... #}\n    {{ dump(user) }}\n{% endmacro %}\n</code></pre>\n<p>You could also pass the special variable <a href=\"https://twig.symfony.com/doc/3.x/templates.html#global-variables\" rel=\"nofollow noreferrer\"><code>_context</code></a> to the macro.\nThis variables holds all the variables you passed towards the template.</p>\n<pre><code>{% macro foo(variables) %}\n   {{ variables.foo }}\n{% endmacro %}\n\n{% import _self as macros %}\n\n{{ macros.foo(_context) }}\n</code></pre>\n<p><a href=\"https://fiddle.nette.org/twig/#d64888f637\" rel=\"nofollow noreferrer\">demo</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "module",
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 29669545,
            "reputation": 41,
            "user_id": 22739138,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/15b0bb5353ae6074d88fca6b871e3ea1?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "svenjaleo",
            "link": "https://stackoverflow.com/users/22739138/svenjaleo"
        },
        "is_answered": false,
        "view_count": 25,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1723102218,
        "creation_date": 1722872978,
        "last_edit_date": 1723102218,
        "question_id": 78835307,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78835307/alternative-title-not-showing-in-module-drupal-10",
        "title": "Alternative Title not showing in Module Drupal 10",
        "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?php\n\nuse Drupal\\node\\Entity\\Node;\n\n/**\n * Implements hook_preprocess_page().\n */\nfunction alternative_title_preprocess_page(&amp;$variables) {\n  // Check if the current route contains a node.\n  if ($node = \\Drupal::routeMatch()-&gt;getParameter('node')) {\n    // Check if the node type is 'info'.\n    if ($node-&gt;getType() == 'info') {\n      \\Drupal::messenger()-&gt;addMessage('Node type is Info');\n\n      \n      $node_title = $node-&gt;getTitle();\n      // Get the alternative title field value.\n      $alternative_title = $node-&gt;get('field_titel')-&gt;value;\n\n      // If an alternative title exists, use it.\n      if (!empty($alternative_title)) {\n      $variables['#title'] = $alternative_title;\n        \\Drupal::messenger()-&gt;addMessage($variables['#title']);\n      } \n    } else {\n      \\Drupal::messenger()-&gt;addMessage('Node type is not Info, node type is \"' . $node-&gt;getType() . '\"');\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My goal is to write a module which shows an alternative title instead of the real title if the alternative title is not empty. Somehow the $variables['#title'] gets the change of the title in the Messenger but on the actual page it's still showing the old title.</p>\n<p>Maybe I have to change the title in a different way, but I am not sure how.</p>\n<p>Thanks for the help!</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "drupal",
            "pdf",
            "dompdf"
        ],
        "owner": {
            "account_id": 111788,
            "reputation": 13216,
            "user_id": 295112,
            "user_type": "registered",
            "accept_rate": 83,
            "profile_image": "https://i.sstatic.net/qNAKS.jpg?s=256",
            "display_name": "Kevin",
            "link": "https://stackoverflow.com/users/295112/kevin"
        },
        "is_answered": true,
        "view_count": 24564,
        "accepted_answer_id": 4328680,
        "answer_count": 3,
        "score": 7,
        "last_activity_date": 1723054388,
        "creation_date": 1291229439,
        "question_id": 4327915,
        "content_license": "CC BY-SA 2.5",
        "link": "https://stackoverflow.com/questions/4327915/dompdf-and-img-tag-image-wont-show",
        "title": "dompdf and img tag, image wont show",
        "body": "<p>Here is the HTML just before $dompdf->render() and $dompdf->output() are called:</p>\n\n<pre><code>&lt;img src=\"http://www.example.com/images/Logo.png\" /&gt;\n</code></pre>\n\n<p>All other invoices display the image fine when viewing in the browser, or printing it, or emailing it as HTML. When I click 'Generate PDF' inside of our application, it renders the invoice in PDF, except the logo is missing. I have put a debugging line in to email me the raw HTML it sends to the render(), and it looks fine to me.</p>\n\n<p>Does anyone have any idea why dompdf won't display this image?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1036758,
                    "reputation": 287,
                    "user_id": 1043810,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/4d4eb268d3689eb209b72c375c12d949?s=256&d=identicon&r=PG",
                    "display_name": "user24601",
                    "link": "https://stackoverflow.com/users/1043810/user24601"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1723054388,
                "last_edit_date": 1723054388,
                "creation_date": 1650385827,
                "answer_id": 71928309,
                "question_id": 4327915,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>My .png image would not load mysteriously but it would display when I outputted the html before rendering.</p>\n<p>I was able to debug using this</p>\n<pre><code>global $_dompdf_show_warnings;\n$_dompdf_show_warnings = true;      \n\\Dompdf\\Image\\Cache::clear(true);\n$options = new \\Dompdf\\Options([\n    'debugPng' =&gt; true,\n    'isRemoteEnabled'=&gt;true\n ]);\n$dompdf-&gt;setOptions($options);\n</code></pre>\n<p>The output file was located at <code>C:/Users/USERNAME/AppData/Local/Temp/log.htm</code></p>\n<p>But the error showed there was a permissions error.</p>\n<p>The true cause of my grief was a simple whitespace at the beginning of the <code>src=&quot;&quot;</code></p>\n"
            },
            {
                "owner": {
                    "account_id": 94832,
                    "reputation": 29412,
                    "user_id": 258674,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/b4e8521656065d6f86ef3f35e7bfc964?s=256&d=identicon&r=PG",
                    "display_name": "dev-null-dweller",
                    "link": "https://stackoverflow.com/users/258674/dev-null-dweller"
                },
                "is_accepted": true,
                "score": 16,
                "last_activity_date": 1291234690,
                "creation_date": 1291234690,
                "answer_id": 4328680,
                "question_id": 4327915,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>An idea: if you are providing full URI to the image it is treated as external, so defined costant <code>DOMPDF_ENABLE_REMOTE</code> must be set to true.</p>\n"
            },
            {
                "owner": {
                    "account_id": 143519,
                    "reputation": 10274,
                    "user_id": 351903,
                    "user_type": "registered",
                    "accept_rate": 58,
                    "profile_image": "https://i.sstatic.net/01yQM.png?s=256",
                    "display_name": "Sandeepan Nath",
                    "link": "https://stackoverflow.com/users/351903/sandeepan-nath"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1291234404,
                "creation_date": 1291234404,
                "answer_id": 4328635,
                "question_id": 4327915,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Looks like you have to pass the <code>server path</code> and not the <code>server url</code> in the <code>src</code> param</p>\n\n<p><a href=\"http://www.flashnutz.com/2009/08/images-not-working-in-dompdf/\" rel=\"nofollow\">http://www.flashnutz.com/2009/08/images-not-working-in-dompdf/</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "entity",
            "drupal-modules",
            "drupal-feeds"
        ],
        "owner": {
            "account_id": 2395789,
            "reputation": 71,
            "user_id": 2094612,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c49d9332845aeae7c9bef74f82380941?s=256&d=identicon&r=PG",
            "display_name": "mooru",
            "link": "https://stackoverflow.com/users/2094612/mooru"
        },
        "is_answered": false,
        "view_count": 1744,
        "answer_count": 4,
        "score": 0,
        "last_activity_date": 1723003014,
        "creation_date": 1481031564,
        "last_edit_date": 1723003014,
        "question_id": 40996765,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/40996765/remove-duplicate-values-from-entity-reference-fields",
        "title": "remove duplicate values from entity reference fields",
        "body": "<p>When i import feeds into an entity reference field, it creates duplicate values that look like the code below (using devel module)</p>\n\n<pre><code>$field_tags_people['und'][0]['target_id'] = 578\n$field_tags_people['und'][1]['target_id'] = 578\n$field_tags_people['und'][2]['target_id'] = 594\n</code></pre>\n\n<p>each of the target_id should have different values but turns out some are duplicates. I have tried this code </p>\n\n<pre><code>$field_tags_people['und'] = array_unique($field_tags_people['und'])\n</code></pre>\n\n<p>but it removes all terms except the first one. This seems strange due to the target_id key. How can I make this work?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 5538762,
                    "reputation": 211,
                    "user_id": 4657279,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://www.gravatar.com/avatar/b1fc6c57aa9ef1fb97ebcbdd678bd07b?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Justme",
                    "link": "https://stackoverflow.com/users/4657279/justme"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1717126303,
                "creation_date": 1717126303,
                "answer_id": 78557991,
                "question_id": 40996765,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>In order to make the array unique you can easily use</p>\n<p>$field_tags_people=  array_unique($field_tags_people, SORT_REGULAR);</p>\n"
            },
            {
                "owner": {
                    "account_id": 11374106,
                    "reputation": 121,
                    "user_id": 8338922,
                    "user_type": "registered",
                    "profile_image": "https://graph.facebook.com/905940556233839/picture?type=large",
                    "display_name": "Denis Viunyk",
                    "link": "https://stackoverflow.com/users/8338922/denis-viunyk"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1589272669,
                "creation_date": 1589272669,
                "answer_id": 61747274,
                "question_id": 40996765,
                "content_license": "CC BY-SA 4.0",
                "body": "<pre><code>  /**\n   * Delete duplicate values.\n   *\n   * @param \\Drupal\\Core\\Entity\\ContentEntityInterface $entity\n   *   Entity.\n   * @param string $field_name\n   *   Field name.\n   * @param bool $need_save\n   *   Save entity or not.\n   *\n   * @throws \\Drupal\\Core\\Entity\\EntityStorageException\n   */\n  public static function deleteDuplicateValues(ContentEntityInterface $entity, string $field_name, $need_save = FALSE) {\n    $result = [];\n    /** @var \\Drupal\\Core\\Field\\EntityReferenceFieldItemListInterface $reference_field */\n    $reference_field = $entity-&gt;get($field_name);\n    $referenced_entities = $reference_field-&gt;referencedEntities();\n    /** @var \\Drupal\\Core\\Entity\\ContentEntityInterface $item */\n    foreach ($referenced_entities as $item) {\n      $result[$item-&gt;id()] = $item;\n    }\n    $entity-&gt;set($field_name, $result);\n    if ($need_save) {\n      $entity-&gt;save();\n    }\n  }\n</code></pre>\n\n<p>And use this like :</p>\n\n<pre><code>CLASS_NAME::deleteDuplicateValues($entity, 'tags_people');\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 14344265,
                    "reputation": 1,
                    "user_id": 10361531,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/61fcd1a4f540c31a90dd37d7a9ae1207?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "LucasHodge",
                    "link": "https://stackoverflow.com/users/10361531/lucashodge"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1536895141,
                "last_edit_date": 1536895141,
                "creation_date": 1536893994,
                "answer_id": 52324382,
                "question_id": 40996765,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I solved this with by implementing <code>hook_feeds_presave</code> in a custom module.</p>\n\n<p>The following checks <code>field_my_field_name</code> for duplicates in the array by key <code>value</code> and removes them before the node is imported/saved.</p>\n\n<pre><code>&lt;?php\nfunction my_module_feeds_presave(FeedsSource $source, $entity, $item) {\n  $items_array = $entity-&gt;field_my_field_name[LANGUAGE_NONE];\n  $entity-&gt;field_my_field_name[LANGUAGE_NONE] = unique_multidim_array($items_array,'value');\n}\n\nfunction unique_multidim_array($array, $key) {\n  $temp_array = array();\n  $i = 0;\n  $key_array = array();\n\n  foreach($array as $val) {\n    if (!in_array($val[$key], $key_array)) {\n      $key_array[$i] = $val[$key];\n      $temp_array[$i] = $val;\n    }\n    $i++;\n  }\n  return $temp_array;\n}\n?&gt;\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 7905660,
                    "reputation": 597,
                    "user_id": 5971266,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/a3015205dc20cbbc91776a9d30dee0d3?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Josh S.",
                    "link": "https://stackoverflow.com/users/5971266/josh-s"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1481577294,
                "last_edit_date": 1481577294,
                "creation_date": 1481569670,
                "answer_id": 41107807,
                "question_id": 40996765,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>There's probably better ways to accomplish this but here's a solution.</p>\n\n<pre><code>$unique = [];\n\n$field_tags_people['und'] = array_filter($field_tags_people['und'],\n    function ($val) use (&amp;$unique) {\n        if (!in_array($val['target_id'],$unique)) {\n            $unique[] = $val['target_id'];\n            return true;\n        }\n        return false; \n    }\n);\n\nunset($unique);\n</code></pre>\n\n<p>This'll trim the duplicates out for you. but be reminded that the key structure will not be reset so you could have keys going in the order like 0, 1, 6, 7, 10</p>\n\n<p>Cheers</p>\n\n<p>EDIT: Online Example: <a href=\"http://sandbox.onlinephpfunctions.com/code/9b4323a0b07ab8cd46b34a3715ea030f83e0b100\" rel=\"nofollow noreferrer\">http://sandbox.onlinephpfunctions.com/code/9b4323a0b07ab8cd46b34a3715ea030f83e0b100</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-views"
        ],
        "owner": {
            "account_id": 6274347,
            "reputation": 51,
            "user_id": 4877482,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c0bec0516f6f308285c22c3c1686908a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Rekha",
            "link": "https://stackoverflow.com/users/4877482/rekha"
        },
        "is_answered": true,
        "view_count": 8949,
        "answer_count": 4,
        "score": 3,
        "last_activity_date": 1722925289,
        "creation_date": 1493890763,
        "last_edit_date": 1499326149,
        "question_id": 43779241,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/43779241/how-to-create-a-drupal-8-view-programmatically",
        "title": "How to create a Drupal 8 view programmatically",
        "body": "<p>I am trying to create a view programmatically in Drupal 8. Something similar to the crud log module in Drupal 7. I couldn't find any references on the internet either.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 65838,
                    "reputation": 595,
                    "user_id": 2108644,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/0be88b931076bb735437856cffc84b9a?s=256&d=identicon&r=PG",
                    "display_name": "develCuy",
                    "link": "https://stackoverflow.com/users/2108644/develcuy"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1722925289,
                "creation_date": 1722925289,
                "answer_id": 78837489,
                "question_id": 43779241,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Based on Tim's 2020, this works for Drupal 10:</p>\n<pre><code>/**\n * Add my_view as default view.\n */\nfunction my_module_update_8001() {\n  $dir = \\Drupal::service('extension.path.resolver')-&gt;getPath('module', 'my_module') . '/config/install/';\n  $fileStorage = new \\Drupal\\Core\\Config\\FileStorage($dir);\n  $config = $fileStorage-&gt;read('views.view.my_view');\n\n  /** @var \\Drupal\\Core\\Config\\Entity\\ConfigEntityStorage $storage */\n  $storage = \\Drupal::entityTypeManager()\n    -&gt;getStorage('view');\n\n  /** @var \\Drupal\\views\\Entity\\View $view */\n  $view = $storage-&gt;create($config);\n\n  $view-&gt;save();\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 358005,
                    "reputation": 6401,
                    "user_id": 698511,
                    "user_type": "registered",
                    "accept_rate": 87,
                    "profile_image": "https://www.gravatar.com/avatar/0d65aa59fefac21e27e6ecd2f9b3b324?s=256&d=identicon&r=PG",
                    "display_name": "Tim",
                    "link": "https://stackoverflow.com/users/698511/tim"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1676044512,
                "last_edit_date": 1676044512,
                "creation_date": 1597913424,
                "answer_id": 63501527,
                "question_id": 43779241,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can create a new View through the ConfigEntityStorage.</p>\n<p>Create the View in the UI. Export the View's YAML config file to a path in your module, removing the UUID.</p>\n<pre><code>// view config is in `my_module/config/install/views.view.my_view.yml`\n// (uuid removed!)\n\n$dir = drupal_get_path('module', 'my_module');\n$fileStorage = new FileStorage($dir);\n$config = $fileStorage-&gt;read('views.view.my_view');\n\n/** @var \\Drupal\\Core\\Config\\Entity\\ConfigEntityStorage $storage */\n$storage = \\Drupal::entityTypeManager()\n  -&gt;getStorage('view');\n\n/** @var \\Drupal\\views\\Entity\\View $view */\n$view = $storage-&gt;create($config);\n\n$view-&gt;save();\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 1510316,
                    "reputation": 7209,
                    "user_id": 1412620,
                    "user_type": "registered",
                    "accept_rate": 58,
                    "profile_image": "https://i.sstatic.net/f8hg1.jpg?s=256",
                    "display_name": "Matoeil",
                    "link": "https://stackoverflow.com/users/1412620/matoeil"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1582817894,
                "creation_date": 1582817894,
                "answer_id": 60436763,
                "question_id": 43779241,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Although it is not created from scratch programatically, here is a simple method:</p>\n\n<ul>\n<li>create a view using the back office</li>\n<li>export that single view using the configuration manager module</li>\n<li>copy that yml file and place it in a basic custom module /config/install folder</li>\n<li>remove the first line containing the uuid</li>\n<li>(optional )modify the file manually if needed and if understood how it work</li>\n<li>activating your custom module will import the view</li>\n</ul>\n"
            },
            {
                "owner": {
                    "account_id": 6274347,
                    "reputation": 51,
                    "user_id": 4877482,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/c0bec0516f6f308285c22c3c1686908a?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Rekha",
                    "link": "https://stackoverflow.com/users/4877482/rekha"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1494574726,
                "creation_date": 1494574726,
                "answer_id": 43932049,
                "question_id": 43779241,
                "content_license": "CC BY-SA 3.0",
                "body": "<p><strong>I was successful in creating a view programatically----I did the following--\n1. Create a folder--C:\\xampp\\htdocs\\Drupal Instance\\modules\n2. Create a YML info file --first_view.info and add the following code to it----\nname: First View\ntype: module\ndescription: My First Drupal 8 View\npackage: Custom\ncore: 8.x\n3. Create an install file---first_view.install\n   And add the following code to it</strong></p>\n\n<pre><code>    &lt;?php\n\n/**\n * @file\n * Install, schema, and uninstall functions for the First View module.\n */\n\nuse Drupal\\field\\Entity\\FieldStorageConfig;\nuse Drupal\\taxonomy\\Entity\\Term;\n\n/**\n * Implements hook_install().\n */\nfunction first_view_install() {\n\n}\n\n/**\n * Implements hook_uninstall().\n */\nfunction first_view_uninstall() {\n\n}\n\n/**\n * Implements hook_schema().\n */\nfunction first_view_schema() {\n $schema['first_view_table'] = [\n    // Example (partial) specification for table \"node\".\n    'description' =&gt; 'The base table for first_view.',\n    'fields' =&gt; [\n      'id' =&gt; [\n        'description' =&gt; 'The primary identifier for a node.',\n        'type' =&gt; 'serial',\n        'unsigned' =&gt; TRUE,\n        'not null' =&gt; TRUE,\n      ],\n      'name' =&gt; [\n        'description' =&gt; 'The name of Employee.',\n        'type' =&gt; 'varchar',\n        'length' =&gt; 32,\n        'not null' =&gt; TRUE,\n        'default' =&gt; '',\n      ],\n      'age' =&gt; [\n        'description' =&gt; 'The age of employee.',\n        'type' =&gt; 'int',\n        'unsigned' =&gt; TRUE,\n        'not null' =&gt; TRUE,\n        'default' =&gt; 0,\n      ],\n      'is_active' =&gt; [\n        'description' =&gt; 'The activity of employee.',\n        'type' =&gt; 'int',\n        'not null' =&gt; TRUE,\n        'default' =&gt; 0,\n      ],\n      'timestamp' =&gt; [\n        'description' =&gt; 'The timestamp of employee.',\n        'type' =&gt; 'int',\n        'unsigned' =&gt; TRUE,\n        'not null' =&gt; TRUE,\n        'default' =&gt; 0,\n      ],\n      'project_code' =&gt; [\n        'description' =&gt; 'The project code of employee.',\n        'type' =&gt; 'varchar',\n        'length' =&gt; 32,\n        'not null' =&gt; TRUE,\n        'default' =&gt; 0,\n      ],\n    ],\n\n    'unique keys' =&gt; [\n      'id' =&gt; ['id'],\n    ],\n    // For documentation purposes only; foreign keys are not created in the\n    // database.\n\n    'primary key' =&gt; ['id'],\n  ];\n  return $schema;\n}\n</code></pre>\n\n<p><strong>4. Create a file---first_view.views.inc\nAnd add the following code to it--</strong></p>\n\n<pre><code>  &lt;?php\n\n/**\n * Implements hook_views_data().\n */\nfunction first_view_views_data() {\n\n\n\n\n  $data = [];\n\n\n  $data['first_view_table'] = []; \n  $data['first_view_table']['table'] = []; \n  $data['first_view_table']['table']['group'] = t('First View table');\n  $data['first_view_table']['table']['provider'] = 'first_view_module';\n\n  $data['first_view_table']['table']['base'] = [\n\n    'field' =&gt; 'id',\n    'title' =&gt; t('First View table'),\n    'help' =&gt; t('First View table contains example content and can be related to nodes.'),\n    'weight' =&gt; -10,\n  ];\n\n\n  $data['first_view']['table']['join'] = [\n\n    'node_field_data' =&gt; [\n      'left_field' =&gt; 'id',\n      'field' =&gt; 'id',\n      'extra' =&gt; [\n        0 =&gt; [\n          'field' =&gt; 'published',\n          'value' =&gt; TRUE,\n        ],\n        1 =&gt; [\n          'left_field' =&gt; 'age',\n          'value' =&gt; 1,\n          'numeric' =&gt; TRUE,\n        ],\n        2 =&gt; [\n          'field' =&gt; 'published',\n          'left_field' =&gt; 'is_active',\n          'operator' =&gt; '!=',\n        ],\n      ],\n    ],\n  ];\n\n\n  $data['first_view_table']['table']['join']['node_field_data'] = [\n\n    'left_table' =&gt; 'foo',\n    'left_field' =&gt; 'id',\n    'field' =&gt; 'id',\n    'extra' =&gt; [\n      ['left_field' =&gt; 'project_code', 'field' =&gt; 'project_code'],\n      ['field' =&gt; 'age', 'value' =&gt; 0, 'numeric' =&gt; TRUE, 'operator' =&gt; '&gt;'],\n    ],\n  ];\n\n\n  $data['first_view_table']['id'] = [\n    'title' =&gt; t('Example content'),\n    'help' =&gt; t('Relate example content to the node content'),\n\n    'relationship' =&gt; [\n      'base' =&gt; 'node_field_data',\n      'base field' =&gt; 'id',\n      'id' =&gt; 'standard',\n      'label' =&gt; t('Example node'),\n    ],\n  ];\n\n\n  $data['first_view_table']['name'] = [\n    'title' =&gt; t('Name'),\n    'help' =&gt; t('Just a Name field.'),\n    'field' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'sort' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'filter' =&gt; [\n      'id' =&gt; 'string',\n    ],\n\n    'argument' =&gt; [\n      'id' =&gt; 'string',\n    ],\n  ];\n\n\n  $data['first_view_table']['project_code'] = [\n    'title' =&gt; t('Project Code'),\n    'help' =&gt; t('Just a Project code field.'),\n    'field' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'sort' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'filter' =&gt; [\n      'id' =&gt; 'string',\n    ],\n\n    'argument' =&gt; [\n      'id' =&gt; 'string',\n    ],\n  ];\n\n  $data['first_view_table']['age'] = [\n    'title' =&gt; t('Age'),\n    'help' =&gt; t('Just a numeric field.'),\n\n    'field' =&gt; [\n      'id' =&gt; 'numeric',\n    ],\n\n    'sort' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'filter' =&gt; [\n      'id' =&gt; 'numeric',\n    ],\n\n    'argument' =&gt; [\n      'id' =&gt; 'numeric',\n    ],\n  ];\n\n\n  $data['first_view_table']['is_active'] = [\n    'title' =&gt; t('Is Active'),\n    'help' =&gt; t('Just an on/off field.'),\n\n    'field' =&gt; [\n      'id' =&gt; 'boolean',\n    ],\n\n    'sort' =&gt; [\n      'id' =&gt; 'standard',\n    ],\n\n    'filter' =&gt; [\n      'id' =&gt; 'boolean',\n      'label' =&gt; t('Published'),\n      'type' =&gt; 'yes-no',\n      'use_equal' =&gt; TRUE,\n    ],\n  ];\n\n\n  $data['first_view_table']['timestamp'] = [\n    'title' =&gt; t('Timestamp'),\n    'help' =&gt; t('Just a timestamp field.'),\n\n    'field' =&gt; [\n      'id' =&gt; 'date',\n    ],\n\n    'sort' =&gt; [\n      'id' =&gt; 'date',\n    ],\n\n    'filter' =&gt; [\n      'id' =&gt; 'date',\n    ],\n  ];\n\n\n  $data['views']['area'] = [\n    'title' =&gt; t('Text area'),\n    'help' =&gt; t('Provide markup text for the area.'),\n    'area' =&gt; [\n      'id' =&gt; 'text',\n    ],\n  ];\n\n  return $data;\n}\n</code></pre>\n\n<p><strong>By following the above steps....when we install and enable the module a table gets created in the database...You will have to populate it in order to see some data in the view...don't forget to add dummy data in the table.....After that go to Structure/views--- And click on \"Add View\"----Give a name to your View---and then you will be able to see the table name in \"Show\" Drop Down box---In this case the table name is \"First View Table\"...I hope this article would be helpful....</strong></p>\n"
            }
        ]
    },
    {
        "tags": [
            "deployment",
            "drupal",
            "multisite",
            "acquia",
            "drupal-10"
        ],
        "owner": {
            "account_id": 34419741,
            "reputation": 11,
            "user_id": 26558881,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/72e20f2a4c4a9bc81bc0f69b3ca9f2ef?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Ram Sharma",
            "link": "https://stackoverflow.com/users/26558881/ram-sharma"
        },
        "is_answered": false,
        "view_count": 91,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1722923626,
        "creation_date": 1722262395,
        "question_id": 78807607,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78807607/how-to-remove-blt-dependency-from-a-drupal-site-on-acquia-cloud-before-support-e",
        "title": "How to Remove BLT Dependency from a Drupal Site on Acquia Cloud Before Support Ends?",
        "body": "<p>Our Drupal website has been hosted on Acquia Cloud for a while, but with BLT support ending by the end of 2024, we need to eliminate our reliance on BLT.</p>\n<p>How can we achieve this transition?</p>\n<p>Use Cases: Are there any examples or use cases where others have successfully removed BLT from their Drupal projects on Acquia Cloud?\nSolutions: Has anyone faced a similar issue and implemented a solution? What steps or best practices were followed?\nAny guidance or shared experiences would be greatly appreciated!</p>\n<p>I have follow the instructions given on the following link - <a href=\"https://dev.acquia.com/tutorial/you-dont-need-blt-acquia-cloud\" rel=\"nofollow noreferrer\">https://dev.acquia.com/tutorial/you-dont-need-blt-acquia-cloud</a>\nbut after the changes, the deployment pipeline has not been executed on the cloud.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 13173451,
                    "reputation": 1,
                    "user_id": 9514988,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/e1cbf6472efd24d9493d0b73cf46f337?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Sakshi Sharma",
                    "link": "https://stackoverflow.com/users/9514988/sakshi-sharma"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1722923626,
                "last_edit_date": 1722923626,
                "creation_date": 1722923175,
                "answer_id": 78837403,
                "question_id": 78807607,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you are on Acquia cloud next environment. Then the <a href=\"https://dev.acquia.com/tutorial/you-dont-need-blt-acquia-cloud\" rel=\"nofollow noreferrer\">tutorial</a> you mentioned says that you do not need the hooks in your code.</p>\n<p>But if you are on multisite environment, then make sure that you add &quot;Post code update&quot; script in the <strong>hooks</strong> folder in your code. Create a script file post-code-update.sh  and place in your /hooks/common/post-code-update folder.</p>\n<p>You script file should contains the post deployment actions:</p>\n<pre><code>site=&quot;$1&quot;\ntarget_env=&quot;$2&quot;\nsource_branch=&quot;$3&quot;\ndeployed_tag=&quot;$4&quot;\nrepo_url=&quot;$5&quot;\nrepo_type=&quot;$6&quot;\nif [ &quot;$target_env&quot; != 'prod' ]; then\n    echo &quot;$site.$target_env: The $source_branch branch has been updated on $target_env. Clearing the cache.&quot;\n    drush @$site.$target_env cr\nelse\n    echo &quot;$site.$target_env: The $source_branch branch has been updated on $target_env.&quot;\nfi\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 1399494,
            "reputation": 75,
            "user_id": 1328532,
            "user_type": "registered",
            "accept_rate": 86,
            "profile_image": "https://www.gravatar.com/avatar/26807ec9a0c165db6d634f050a323ddd?s=256&d=identicon&r=PG",
            "display_name": "George Salukvadze",
            "link": "https://stackoverflow.com/users/1328532/george-salukvadze"
        },
        "is_answered": true,
        "view_count": 183,
        "accepted_answer_id": 78833120,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1722841282,
        "creation_date": 1713167849,
        "question_id": 78326881,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78326881/drupal-10-image-upload-ajax-error-with-status-code-200",
        "title": "Drupal 10 image upload AJAX error with status code 200",
        "body": "<p>Weirdly, I'm getting an AJAX HTTP Error with Drupal 10 when trying to upload an image into a custom node type via Edit functionality.\nHere's the error:</p>\n<pre><code>[\n    {\n        &quot;command&quot;: &quot;settings&quot;,\n        &quot;settings&quot;: {\n            &quot;ajaxPageState&quot;: {\n                &quot;theme&quot;: &quot;claro&quot;,\n                &quot;theme_token&quot;: &quot;M3TQBj9mOsosDYzhHjcCpfd0JwNhnzGrWTiGFD_EG7s&quot;,\n                &quot;libraries&quot;: &quot;eJyNVNGS2yAM_CECT_2A9ubuqTP9BI-MZZsEgw-JXHJfX-E4ThynnbzYYncRIC1AM7hQcYy-hmTmv-aEqOCflO7jEZMLjIHXsooQku3N5ffAlT8tiZyNQdWuq0Y3orkGyh6wcRzTD1PypwBeL5D2ELoM3VNVk_J4L35Fo21s8JeP9vCSGoexB3L0krjnwb-HzoWXdqvd8OK5NEPtRekhRSNforNu3YLM8gDHnQhpRjsfa_A74rN3oZvBIIfftTENSlrBeOIM_jr_huxkxoH-L5l7KqKE5rZT8K4LQzHJI5E5loVhw9SlGZ85Mj4yfUzuW5YE_3uq6Zp1oXmyTtn6FqONbgRi_Ehx-NO2zm6SJxzE8B9PN0x9_JocRBsm5mTxXUZTyR_IEa0D_9ZDAiud3szmBIE8sIuBNIYLPVdeZrgj7m6nWzriPYyEK7CRZWKnYQ-nFU4MjLSCJmc1CbotmpBG2Ykse-EWe-4_MyZx4MVGwoRSJu--UYk5yhaveeahah36pupSzKMpM1bAxRWSW08oIati7muOyejyEcEdJCPV-gil0NXkILMeqrKw41t5lTBizp7reDJ3sSp3YrlDEqsRAnqqxMXZ3MV6T_dU5eEcM5N5gmlLRcv9NW-JJ6BcA_Plmk5OOWIaHFFpd1WfKznSMF3Q4jolJktsMy-9m8eqXMClTxKrh-f6cayRLIz4s7zLKtOtiiWenmT6C0xUV2M&quot;\n            },\n            &quot;ajax&quot;: {\n                &quot;edit-field-image-0-remove-button--XUSHtLBPI6U&quot;: {\n                    &quot;callback&quot;: [\n                        &quot;Drupal\\\\file\\\\Element\\\\ManagedFile&quot;,\n                        &quot;uploadAjaxCallback&quot;\n                    ],\n                    &quot;wrapper&quot;: &quot;ajax-wrapper--ZinswkrYwh4&quot;,\n                    &quot;effect&quot;: &quot;none&quot;,\n                    &quot;progress&quot;: {\n                        &quot;type&quot;: &quot;throbber&quot;,\n                        &quot;message&quot;: null\n                    },\n                    &quot;event&quot;: &quot;mousedown&quot;,\n                    &quot;keypress&quot;: true,\n                    &quot;prevent&quot;: &quot;click&quot;,\n                    &quot;url&quot;: &quot;\\/en\\/node\\/600\\/edit?element_parents=field_image\\/widget\\/0\\u0026destination=\\/en\\/admin\\/content\\u0026ajax_form=1\\u0026_wrapper_format=drupal_ajax&quot;,\n                    &quot;httpMethod&quot;: &quot;POST&quot;,\n                    &quot;dialogType&quot;: &quot;ajax&quot;,\n                    &quot;submit&quot;: {\n                        &quot;_triggering_element_name&quot;: &quot;field_image_0_remove_button&quot;,\n                        &quot;_triggering_element_value&quot;: &quot;Remove&quot;\n                    }\n                }\n            },\n            &quot;ajaxTrustedUrl&quot;: {\n                &quot;\\/en\\/node\\/600\\/edit?element_parents=field_image\\/widget\\/0\\u0026destination=\\/en\\/admin\\/content\\u0026ajax_form=1\\u0026_wrapper_format=drupal_ajax&quot;: true\n            },\n            &quot;pluralDelimiter&quot;: &quot;\\u0003&quot;,\n            &quot;user&quot;: {\n                &quot;uid&quot;: &quot;1&quot;,\n                &quot;permissionsHash&quot;: &quot;fe66cae0a3f59fc98d64b4cb35554c298ed4428a82ecef9b060b4d1806947018&quot;\n            }\n        },\n        &quot;merge&quot;: true\n    },\n    {\n        &quot;command&quot;: &quot;add_css&quot;,\n        &quot;data&quot;: [\n            {\n                &quot;rel&quot;: &quot;stylesheet&quot;,\n                &quot;media&quot;: &quot;all&quot;,\n                &quot;href&quot;: &quot;\\/sites\\/default\\/files\\/css\\/css_o2TKLd_uBO46SALOh09xozXkX50NHET_xxSiTsljnQs.css?delta=0\\u0026language=en\\u0026theme=claro\\u0026include=eJxLzkksytdPzkksLq7US8vMSQUAO5EGng\\u0026exclude=eJyNVFGS2yAMvRCBrx6g3dn96kyP4JGxYpNg8CKRTfb0FY7jxHbayRfiPSEJ6QE0vQsVx-hrSGZaNSdEBf-kdBdPmFxgDLx0qwgh2c5clxVXVpoDORuDql1bDW5AczOUPWLjOKYfpsRPAbyeIe0htBnap15NysOj8ys-2sYGf_lojy95Yz90QI5ecu649--hdeGlarXrX7yXZqi9eHpI0UxkgNNOYJrQ1sca_I744l1oJzDIVXf7mHoljWc8cwZ_O39HdnLiSP93mSYoTgnNvS7wrg19kcSayBxLYtgwdWn9Z46Ma6aLyX1LSvC_xw4uWReaJ3lK6VuMNn4DEONHiv2f_d7ZTfCEvcj742nB1MWvUS-0YWJOFt9lN7Z8RQ5oHfi3DhJYmevmNCcI5IFdDKQxXOmp83LCnXB3v908Ee9hIFyAjaSJrYYDnBc4MTDSAhp11CRot2hCGqQSSXvlZjEePjOmi55kJEwobfLuG5WIo5R4izNt1d6hb6o2xTyYcmIBXFUhsfWIErLQfq6l2AUQhwdIdmrvI5RGV6OCzHKrSmLH9_YqYUScHdfxbB5sVd7E_IbEVgME9FSJirN5sPWBHqnKwyVmJvME05aKL3e3uMUegfIMzJdrWrnlgKl3RGXcVX2p5Er9-ECL6pSILLHNPM9u2qvyAOc5ia1Wn_N6r5EsDPiz_MIq072LxR4_YPoLGwtQmg&quot;\n            }\n        ]\n    },\n    {\n        &quot;command&quot;: &quot;update_build_id&quot;,\n        &quot;old&quot;: &quot;form-jq0fzIj2z48WjPSsRfkJeoTmGDaYjqvXhuyg8jXX_Ic&quot;,\n        &quot;new&quot;: &quot;form-EdRrdxlgzesrZCG1dOXsKQH3pzRaKBCqECoPv4CXaRw&quot;\n    },\n    {\n        &quot;command&quot;: &quot;insert&quot;,\n        &quot;method&quot;: &quot;replaceWith&quot;,\n        &quot;selector&quot;: null,\n        &quot;data&quot;: &quot;\\u003Cdiv id=\\u0022ajax-wrapper--ZinswkrYwh4\\u0022\\u003E\\u003Cdetails open class=\\u0022claro-details\\u0022\\u003E    \\u003Csummary role=\\u0022button\\u0022 aria-expanded=\\u0022true\\u0022 class=\\u0022claro-details__summary\\u0022\\u003EPartner Image\\u003C\\/summary\\u003E\\u003Cdiv class=\\u0022claro-details__wrapper details-wrapper\\u0022\\u003E\\n    \\n      \\u003Cdiv class=\\u0022js-form-item form-item js-form-type-managed-file form-type--managed-file js-form-item-field-image-0 form-item--field-image-0 form-item--no-label\\u0022\\u003E\\n      \\u003Clabel for=\\u0022edit-field-image-0-upload--aoS4kiGILDo\\u0022 id=\\u0022edit-field-image-0--TKYCNmAezUk--label\\u0022 class=\\u0022form-item__label visually-hidden\\u0022\\u003EPartner Image\\u003C\\/label\\u003E\\n        \\u003Cdiv class=\\u0022image-widget js-form-managed-file form-managed-file form-managed-file--image is-single no-upload has-value has-meta\\u0022\\u003E\\n  \\u003Cdiv class=\\u0022form-managed-file__main\\u0022\\u003E\\n    \\n\\u003Cspan data-drupal-selector=\\u0022edit-field-image-0-file-470-filename\\u0022 class=\\u0022file file--mime-image-png file--image\\u0022\\u003E\\u003Ca href=\\u0022\\/sites\\/default\\/files\\/2024-04\\/Dentons-Logo-RGB-Dentons-Purple-300_3.png\\u0022 type=\\u0022image\\/png\\u0022\\u003EDentons-Logo-RGB-Dentons-Purple-300_3.png\\u003C\\/a\\u003E \\u003Cspan class=\\u0022file__size\\u0022\\u003E(23.11 KB)\\u003C\\/span\\u003E\\u003C\\/span\\u003E\\n\\n    \\u003Cinput data-drupal-selector=\\u0022edit-field-image-0-remove-button\\u0022 formnovalidate=\\u0022formnovalidate\\u0022 class=\\u0022button--extrasmall remove-button button js-form-submit form-submit\\u0022 type=\\u0022submit\\u0022 id=\\u0022edit-field-image-0-remove-button--XUSHtLBPI6U\\u0022 name=\\u0022field_image_0_remove_button\\u0022 value=\\u0022Remove\\u0022\\/\\u003E\\n  \\u003C\\/div\\u003E\\n\\n    \\u003Cdiv class=\\u0022form-managed-file__meta-wrapper\\u0022\\u003E\\n    \\u003Cdiv class=\\u0022form-managed-file__meta\\u0022\\u003E\\n              \\u003Cdiv class=\\u0022form-managed-file__image-preview image-preview\\u0022\\u003E\\n          \\u003Cdiv class=\\u0022image-preview__img-wrapper\\u0022\\u003E\\n            \\u003Cimg data-drupal-selector=\\u0022edit-field-image-0-preview\\u0022 src=\\u0022\\/sites\\/default\\/files\\/styles\\/thumbnail\\/public\\/2024-04\\/Dentons-Logo-RGB-Dentons-Purple-300_3.png?itok=2KpHfTn3\\u0022 width=\\u0022100\\u0022 height=\\u002226\\u0022 alt=\\u0022\\u0022 loading=\\u0022lazy\\u0022 typeof=\\u0022foaf:Image\\u0022 class=\\u0022image-style-thumbnail\\u0022 \\/\\u003E\\n\\n\\n          \\u003C\\/div\\u003E\\n        \\u003C\\/div\\u003E\\n      \\n              \\u003Cdiv class=\\u0022form-managed-file__meta-items\\u0022\\u003E\\n          \\n                    \\u003Cdiv class=\\u0022js-form-item form-item js-form-type-textfield form-type--textfield js-form-item-field-image-0-alt form-item--field-image-0-alt\\u0022\\u003E\\n      \\u003Clabel for=\\u0022edit-field-image-0-alt--mb1G4bns59U\\u0022 class=\\u0022form-item__label js-form-required form-required\\u0022\\u003EAlternative text\\u003C\\/label\\u003E\\n        \\u003Cinput data-drupal-selector=\\u0022edit-field-image-0-alt\\u0022 aria-describedby=\\u0022edit-field-image-0-alt--mb1G4bns59U--description\\u0022 type=\\u0022text\\u0022 id=\\u0022edit-field-image-0-alt--mb1G4bns59U\\u0022 name=\\u0022field_image[0][alt]\\u0022 value=\\u0022\\u0022 size=\\u002260\\u0022 maxlength=\\u0022512\\u0022 class=\\u0022form-text required form-element form-element--type-text form-element--api-textfield\\u0022 required=\\u0022required\\u0022 aria-required=\\u0022true\\u0022\\/\\u003E\\n            \\u003Cdiv id=\\u0022edit-field-image-0-alt--mb1G4bns59U--description\\u0022 class=\\u0022form-item__description\\u0022\\u003E\\n      Short description of the image used by screen readers and displayed when the image is not loaded. This is important for accessibility.\\n    \\u003C\\/div\\u003E\\n  \\u003C\\/div\\u003E\\n\\n          \\n        \\u003C\\/div\\u003E\\n          \\u003C\\/div\\u003E\\n  \\u003C\\/div\\u003E\\n  \\n    \\u003Cinput data-drupal-selector=\\u0022edit-field-image-0-fids\\u0022 type=\\u0022hidden\\u0022 name=\\u0022field_image[0][fids]\\u0022 value=\\u0022470\\u0022\\/\\u003E\\n\\u003C\\/div\\u003E\\n\\n        \\u003C\\/div\\u003E\\n  \\u003C\\/div\\u003E\\n\\u003C\\/details\\u003E\\n\\u003C\\/div\\u003E&quot;,\n        &quot;settings&quot;: nul\n</code></pre>\n<p>I have no idea how to debug this or how to fix the error.\nIt only happens on the dev server environment, and not on local Docksal environment</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1399494,
                    "reputation": 75,
                    "user_id": 1328532,
                    "user_type": "registered",
                    "accept_rate": 86,
                    "profile_image": "https://www.gravatar.com/avatar/26807ec9a0c165db6d634f050a323ddd?s=256&d=identicon&r=PG",
                    "display_name": "George Salukvadze",
                    "link": "https://stackoverflow.com/users/1328532/george-salukvadze"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1722841282,
                "creation_date": 1722841282,
                "answer_id": 78833120,
                "question_id": 78326881,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>For those who encounter the similar problem, this was finally resolved by upgrading the server from Debian 8 to Debian 11. Really strange...</p>\n"
            }
        ]
    },
    {
        "tags": [
            "facebook",
            "facebook-graph-api",
            "drupal",
            "drupal-7",
            "hybridauth"
        ],
        "owner": {
            "account_id": 3360069,
            "reputation": 19,
            "user_id": 2822049,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/100002913852834/picture?type=large",
            "display_name": "Siti Mardiah",
            "link": "https://stackoverflow.com/users/2822049/siti-mardiah"
        },
        "is_answered": false,
        "view_count": 14006,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1722819820,
        "creation_date": 1430988783,
        "last_edit_date": 1430989169,
        "question_id": 30096263,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/30096263/how-to-remove-permissions-offline-access-and-publish-stream-in-scope-variable",
        "title": "How to remove permissions offline_access and publish_stream in scope variable",
        "body": "<p>I have error when I want login drupal 7 with facebook account and I use module hybridauth.</p>\n\n<p>like this:</p>\n\n<blockquote>\n  <p>Invalid Scopes: offline_access, publish_stream. This message is only shown to developers. Users of your app will ignore these permissions if present. Please read the documentation for valid permissions at: <a href=\"https://developers.facebook.com/docs/facebook-login/permissions\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/permissions</a></p>\n</blockquote>\n\n<p>From same question I found the answer and it is to remove permissions offline_access and publish_stream in scope variable but I don't understand how to do that?</p>\n\n<p>anyone can help me?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1514607,
                    "reputation": 1124,
                    "user_id": 1415927,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/JWpEH.jpg?s=256",
                    "display_name": "Muhammad Bilal",
                    "link": "https://stackoverflow.com/users/1415927/muhammad-bilal"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1470115908,
                "creation_date": 1470115908,
                "answer_id": 38712399,
                "question_id": 30096263,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>If you have following Url request while login with Facebook authentication (1). Then you have to remove last parameter you are sending and try following url (2) request hope it will works.</p>\n\n<pre><code>https://www.facebook.com/dialog/oauth?client_id=113006002193070&amp;redirect_uri=http%3A%2F%2Fyougagged.com%2Findex&amp;scope=email%2C+offline_access (1)\nhttps://www.facebook.com/dialog/oauth?client_id=113006002193070&amp;redirect_uri=http%3A%2F%2Fyougagged.com%2Findex (2)\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 2787651,
                    "reputation": 1044,
                    "user_id": 2398620,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/AyUZN.jpg?s=256",
                    "display_name": "Stephen Ngethe",
                    "link": "https://stackoverflow.com/users/2398620/stephen-ngethe"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1467391859,
                "creation_date": 1467391859,
                "answer_id": 38150446,
                "question_id": 30096263,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>The permissions offline_access and publish_stream are deprecated, thus cannot be requested anymore.</p>\n\n<p>publish_stream can be replaced by publish_actions, offline_access is gone.</p>\n\n<p>See</p>\n\n<p><a href=\"https://developers.facebook.com/docs/facebook-login/permissions/v2.4#reference\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/permissions/v2.4#reference</a>\n<a href=\"https://developers.facebook.com/docs/apps/changelog\" rel=\"nofollow\">https://developers.facebook.com/docs/apps/changelog</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "apache",
            "mod-rewrite",
            "server",
            "drupal",
            "openlitespeed"
        ],
        "owner": {
            "account_id": 8398813,
            "reputation": 136,
            "user_id": 7943703,
            "user_type": "registered",
            "accept_rate": 83,
            "profile_image": "https://lh6.googleusercontent.com/-B6FhGRPVTug/AAAAAAAAAAI/AAAAAAAACFM/NnNiPnsoroE/photo.jpg?sz=256",
            "display_name": "danplaton4",
            "link": "https://stackoverflow.com/users/7943703/danplaton4"
        },
        "is_answered": false,
        "view_count": 1505,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1722619692,
        "creation_date": 1654681948,
        "question_id": 72543602,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/72543602/images-styles-are-not-created-in-public-directory-in-drupal-9-with-openlitespeed",
        "title": "Images Styles are not created in public directory in Drupal 9 with openlitespeed server",
        "body": "<p>I've moved recently my drupal 9 website from nginx webserver to openlitespeed.</p>\n<p>The website was working as expected, but now it is not. I've defined a rule when uploading a new image, it should be converted to webp.</p>\n<p>When you try to select an image, it doesn't display in the preview as it should (See the screenshot below). The image even doesn't get uploaded in the <code>sites/default/files/styles</code> folder. I've made sure that the permission for the styles folder is set to <em>755</em> and everything works well.</p>\n<p><a href=\"https://i.sstatic.net/qvHkm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/qvHkm.png\" alt=\"1\" /></a></p>\n<p>The strange thing is that this is happening only with the images that have rules set in the responsive image styles, the ones that don't, are working as expected (the ones which go to the <code>sites/default/files</code>, see screenshot above)</p>\n<p><a href=\"https://i.sstatic.net/vVco3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/vVco3.png\" alt=\"enter image description here\" /></a></p>\n<p>For example:\nThe URL of the image = <a href=\"https://example.com/sites/default/files/styles/thumbnail/public/products/samsung-tv-1_0.png.webp?itok=b7z4aF-X\" rel=\"nofollow noreferrer\">https://example.com/sites/default/files/styles/thumbnail/public/products/samsung-tv-1_0.png.webp?itok=b7z4aF-X</a> - the server doesn't load it.</p>\n<p>Once I add index.php after the domain name, and access manually this URL - <a href=\"https://example.com/index.php/sites/default/files/styles/thumbnail/public/products/samsung-tv-1_0.png.webp?itok=b7z4aF-X\" rel=\"nofollow noreferrer\">https://example.com/index.php/sites/default/files/styles/thumbnail/public/products/samsung-tv-1_0.png.webp?itok=b7z4aF-X</a> -  the server puts this image to the right directory (in this case <code>sites/default/files/styles/thumbnail/public/products/</code>) and it loads automatically every time, even if refresh the page or clear the cache.</p>\n<p>See screenshot: <a href=\"https://i.sstatic.net/b1ZtV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/b1ZtV.png\" alt=\"3\" /></a></p>\n<p>I use an openliteserver standard virtual host configuration</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>docRoot                   /home/example.com/public_html/web\nvhDomain                  $VH_NAME\nvhAliases                 www.$VH_NAME\nadminEmails               admin@example.com\nenableGzip                1\nenableIpGeo               1\n\nerrorlog $VH_ROOT/logs/example.com.error_log {\n  useServer               0\n  logLevel                WARN\n  rollingSize             10M\n}\n\naccesslog $VH_ROOT/logs/example.com.access_log {\n  useServer               0\n  logFormat               \"%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"\"\n  logHeaders              5\n  rollingSize             10M\n  keepDays                10\n  compressArchive         1\n}\n\nindex  {\n  useServer               0\n  indexFiles              index.php, index.html\n}\n\nerrorpage 403 {\n  url                     403.html\n}\n\nerrorpage 404 {\n  url                     404.html\n}\n\nerrorpage 500 {\n  url                     500.html\n}\n\nscripthandler  {\n  add                     lsapi:elect55477846 php\n}\n\nphpIniOverride  {\n\n}\n\nextprocessor elect55477846 {\n  type                    lsapi\n  address                 UDS://tmp/lshttpd/elect55477846.sock\n  maxConns                10\n  env                     LSAPI_CHILDREN=10\n  initTimeout             60\n  retryTimeout            0\n  persistConn             1\n  pcKeepAliveTimeout      1\n  respBuffer              0\n  autoStart               1\n  path                    /usr/local/lsws/lsphp80/bin/lsphp\n  extUser                 elect5547\n  extGroup                elect5547\n  memSoftLimit            2047M\n  memHardLimit            2047M\n  procSoftLimit           400\n  procHardLimit           500\n}\n\ncontext /.well-known/acme-challenge {\n  location                /usr/local/lsws/Example/html/.well-known/acme-challenge\n  allowBrowse             1\n\n  rewrite  {\n\n  }\n  addDefaultCharset       off\n\n  phpIniOverride  {\n\n  }\n}\n\nrewrite  {\n  enable                  1\n  autoLoadHtaccess        1\n}\n\nvhssl  {\n  keyFile                 /etc/letsencrypt/live/example.com/privkey.pem\n  certFile                /etc/letsencrypt/live/example.com/fullchain.pem\n  certChain               1\n  enableECDHE             1\n  renegProtection         1\n  sslSessionCache         1\n  enableSpdy              15\n  enableStapling          1\n  ocspRespMaxAge          86400\n}\n\nmodule cache {\nstoragePath /usr/local/lsws/cachedata/$VH_NAME</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>which points to the drupal root directory and from there loads rewrite rules from <code>.htaccess</code> file which is also standard. (provided by drupal)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#\n# Apache/PHP/Drupal settings:\n#\n\n# Protect files and directories from prying eyes.\n&lt;FilesMatch \"\\.(engine|inc|install|make|module|profile|po|sh|.*sql|theme|twig|tpl(\\.php)?|xtmpl|yml)(~|\\.sw[op]|\\.bak|\\.orig|\\.save)?$|^(\\.(?!well-known).*|Entries.*|Repository|Root|Tag|Template|composer\\.(json|lock)|web\\.config)$|^#.*#$|\\.php(~|\\.sw[op]|\\.bak|\\.orig|\\.save)$\"&gt;\n  &lt;IfModule mod_authz_core.c&gt;\n    Require all denied\n  &lt;/IfModule&gt;\n  &lt;IfModule !mod_authz_core.c&gt;\n    Order allow,deny\n  &lt;/IfModule&gt;\n&lt;/FilesMatch&gt;\n\n# Don't show directory listings for URLs which map to a directory.\nOptions -Indexes\n\n# Set the default handler.\nDirectoryIndex index.php index.html index.htm\n\n# Add correct encoding for SVGZ.\nAddType image/svg+xml svg svgz\nAddEncoding gzip svgz\n\n# Most of the following PHP settings cannot be changed at runtime. See\n# sites/default/default.settings.php and\n# Drupal\\Core\\DrupalKernel::bootEnvironment() for settings that can be\n# changed at runtime.\n\n# PHP 7, Apache 1 and 2.\n&lt;IfModule mod_php7.c&gt;\n  php_value assert.active                   0\n&lt;/IfModule&gt;\n\n# Requires mod_expires to be enabled.\n&lt;IfModule mod_expires.c&gt;\n  # Enable expirations.\n  ExpiresActive On\n\n  # Cache all files for 2 weeks after access (A).\n  ExpiresDefault A1209600\n\n  &lt;FilesMatch \\.php$&gt;\n    # Do not allow PHP scripts to be cached unless they explicitly send cache\n    # headers themselves. Otherwise all scripts would have to overwrite the\n    # headers set by mod_expires if they want another caching behavior. This may\n    # fail if an error occurs early in the bootstrap process, and it may cause\n    # problems if a non-Drupal PHP file is installed in a subdirectory.\n    ExpiresActive Off\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n# Set a fallback resource if mod_rewrite is not enabled. This allows Drupal to\n# work without clean URLs. This requires Apache version &gt;= 2.2.16. If Drupal is\n# not accessed by the top level URL (i.e.: http://example.com/drupal/ instead of\n# http://example.com/), the path to index.php will need to be adjusted.\n&lt;IfModule !mod_rewrite.c&gt;\n  FallbackResource /index.php\n&lt;/IfModule&gt;\n\n# Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # Set \"protossl\" to \"s\" if we were accessed via https://.  This is used later\n  # if you enable \"www.\" stripping or enforcement, in order to ensure that\n  # you don't bounce between http and https.\n  RewriteRule ^ - [E=protossl]\n  RewriteCond %{HTTPS} on\n  RewriteRule ^ - [E=protossl:s]\n\n  # Make sure Authorization HTTP header is available to PHP\n  # even when running as CGI or FastCGI.\n  RewriteRule ^ - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n\n  # Block access to \"hidden\" directories whose names begin with a period. This\n  # includes directories used by version control systems such as Subversion or\n  # Git to store control files. Files whose names begin with a period, as well\n  # as the control files used by CVS, are protected by the FilesMatch directive\n  # above.\n  #\n  # NOTE: This only works when mod_rewrite is loaded. Without mod_rewrite, it is\n  # not possible to block access to entire directories from .htaccess because\n  # &lt;DirectoryMatch&gt; is not allowed here.\n  #\n  # If you do not have mod_rewrite installed, you should remove these\n  # directories from your webroot or otherwise protect them from being\n  # downloaded.\n  RewriteRule \"/\\.|^\\.(?!well-known/)\" - [F]\n\n  # If your site can be accessed both with and without the 'www.' prefix, you\n  # can use one of the following settings to redirect users to your preferred\n  # URL, either WITH or WITHOUT the 'www.' prefix. Choose ONLY one option:\n  #\n  # To redirect all users to access the site WITH the 'www.' prefix,\n  # (http://example.com/foo will be redirected to http://www.example.com/foo)\n  # uncomment the following:\n  # RewriteCond %{HTTP_HOST} .\n  # RewriteCond %{HTTP_HOST} !^www\\. [NC]\n  # RewriteRule ^ http%{ENV:protossl}://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n  #\n  # To redirect all users to access the site WITHOUT the 'www.' prefix,\n  # (http://www.example.com/foo will be redirected to http://example.com/foo)\n  # uncomment the following:\n  # RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  # RewriteRule ^ http%{ENV:protossl}://%1%{REQUEST_URI} [L,R=301]\n\n  # Modify the RewriteBase if you are using Drupal in a subdirectory or in a\n  # VirtualDocumentRoot and the rewrite rules are not working properly.\n  # For example if your site is at http://example.com/drupal uncomment and\n  # modify the following line:\n  # RewriteBase /drupal\n  #\n  # If your site is running in a VirtualDocumentRoot at http://example.com/,\n  # uncomment the following line:\n  # RewriteBase /\n\n  # Redirect common PHP files to their new locations.\n  RewriteCond %{REQUEST_URI} ^(.*)?/(install\\.php) [OR]\n  RewriteCond %{REQUEST_URI} ^(.*)?/(rebuild\\.php)\n  RewriteCond %{REQUEST_URI} !core\n  RewriteRule ^ %1/core/%2 [L,QSA,R=301]\n\n  # Rewrite install.php during installation to see if mod_rewrite is working\n  RewriteRule ^core/install\\.php core/install.php?rewrite=ok [QSA,L]\n\n  # Rewrite sites/default/files/styles\n  # RewriteCond %{REQUEST_URI} ^(.+)/files/styles/(.+)$\n  # RewriteRule ^(.+)/files/styles/(.+)$ index.php/$1/files/styles/$2 [R=302,L]\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php.\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^ index.php [L]\n\n  &lt;IfModule LiteSpeed&gt;\n  CacheLookup on\n  &lt;/IfModule&gt;\n\n  # For security reasons, deny access to other PHP files on public sites.\n  # Note: The following URI conditions are not anchored at the start (^),\n  # because Drupal may be located in a subdirectory. To further improve\n  # security, you can replace '!/' with '!^/'.\n  # Allow access to PHP files in /core (like authorize.php or install.php):\n  RewriteCond %{REQUEST_URI} !/core/[^/]*\\.php$\n  # Allow access to test-specific PHP files:\n  RewriteCond %{REQUEST_URI} !/core/modules/system/tests/https?\\.php\n  # Allow access to Statistics module's custom front controller.\n  # Copy and adapt this rule to directly execute PHP files in contributed or\n  # custom modules or to run another PHP application in the same directory.\n  RewriteCond %{REQUEST_URI} !/core/modules/statistics/statistics\\.php$\n  # Deny access to any other PHP files that do not match the rules above.\n  # Specifically, disallow autoload.php from being served directly.\n  RewriteRule \"^(.+/.*|autoload)\\.php($|/)\" - [F]\n\n  # Rules to correctly serve gzip compressed CSS and JS files.\n  # Requires both mod_rewrite and mod_headers to be enabled.\n  &lt;IfModule mod_headers.c&gt;\n    # Serve gzip compressed CSS files if they exist and the client accepts gzip.\n    RewriteCond %{HTTP:Accept-encoding} gzip\n    RewriteCond %{REQUEST_FILENAME}\\.gz -s\n    RewriteRule ^(.*)\\.css $1\\.css\\.gz [QSA]\n\n    # Serve gzip compressed JS files if they exist and the client accepts gzip.\n    RewriteCond %{HTTP:Accept-encoding} gzip\n    RewriteCond %{REQUEST_FILENAME}\\.gz -s\n    RewriteRule ^(.*)\\.js $1\\.js\\.gz [QSA]\n\n    # Serve correct content types, and prevent double compression.\n    RewriteRule \\.css\\.gz$ - [T=text/css,E=no-gzip:1,E=no-brotli:1]\n    RewriteRule \\.js\\.gz$ - [T=text/javascript,E=no-gzip:1,E=no-brotli:1]\n\n    &lt;FilesMatch \"(\\.js\\.gz|\\.css\\.gz)$\"&gt;\n      # Serve correct encoding type.\n      Header set Content-Encoding gzip\n      # Force proxies to cache gzipped &amp; non-gzipped css/js files separately.\n      Header append Vary Accept-Encoding\n    &lt;/FilesMatch&gt;\n  &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n\n# Various header fixes.\n&lt;IfModule mod_headers.c&gt;\n  # Disable content sniffing, since it's an attack vector.\n  Header always set X-Content-Type-Options nosniff\n  # Disable Proxy header, since it's an attack vector.\n  RequestHeader unset Proxy\n&lt;/IfModule&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any idea what this would happen and how I can get this working?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "jquery",
            "drupal",
            "ckeditor4"
        ],
        "owner": {
            "account_id": 33247256,
            "reputation": 1,
            "user_id": 25747699,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/cbf2dc2d881a830612e2475f889be629?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Gaurav",
            "link": "https://stackoverflow.com/users/25747699/gaurav"
        },
        "is_answered": false,
        "view_count": 9,
        "closed_date": 1722499476,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1722499322,
        "creation_date": 1722497287,
        "last_edit_date": 1722499322,
        "question_id": 78819641,
        "link": "https://stackoverflow.com/questions/78819641/how-can-i-change-dynamically-background-color-of-body-having-iframe-ckeditor-4",
        "closed_reason": "Duplicate",
        "title": "How can I change dynamically background color of body having iframe ckeditor 4",
        "body": "<p>I'm unable to figure out how to modify the CKEditor 4 iframe's body background color. I've tried multiple solution but unable to figure out how can i achieve.</p>\n<p>Expectation is that cell background color should be dynamically changed based on selected color</p>\n<pre class=\"lang-js prettyprint-override\"><code>(function($, Drupal, CKEDITOR) {\n  CKEDITOR.plugins.add('cellbackgroundcolorplugin', {\n    icons: 'backgroundIcon',\n    init: function(editor) {\n\n      // Adding/Creating command.\n      editor.addCommand('cellBackground', {\n        exec: function(editor) {\n          if (style.checkActive(editor.elementPath(), editor)) {\n            editor.removeStyle(style);\n          } else {\n            editor.applyStyle(style);\n          }\n        }\n      });\n\n      // Register the button, when the button plugin is enabled\n      if (editor.ui.addButton) {\n        editor.ui.addButton('CellBackgroungColorPlugin', {\n          label: editor.config.backgroundIconLabel,\n          command: 'cellBackground',\n          toolbar: 'basicstyles',\n          icon: editor.config.backgroundIcon\n        })\n      }\n    },\n  });\n})(jQuery, Drupal, CKEDITOR);\n</code></pre>\n\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "s3fs"
        ],
        "owner": {
            "account_id": 8800295,
            "reputation": 51,
            "user_id": 6576733,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/46bc9b8417d810c791cf4612e9e12587?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Sunil Kansodiya",
            "link": "https://stackoverflow.com/users/6576733/sunil-kansodiya"
        },
        "is_answered": false,
        "view_count": 10,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1722483617,
        "creation_date": 1722483617,
        "question_id": 78819046,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78819046/drupal-s3fs-plugin-issue-replace-path-to-publicnos3-css-optimized-with-the-act",
        "title": "Drupal S3fs plugin issue: Replace /path/to/publicnos3/css/optimized with the actual path to your directory",
        "body": "<p>When we are upgrading Drupal from 8.9 to 9.5.11 then getting below error.</p>\n<p>Drupal\\Core\\File\\Exception\\DirectoryNotReadyException: The specified file 'temporary://file70D54q' could not be copied because the destination directory 'publicnos3://css/optimized' is not properly configured.</p>\n<p>noS3writeFile() issue</p>\n<p>Seems like permission error if any one can help please?\nWe are also looking into it.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "ocr"
        ],
        "owner": {
            "account_id": 4485725,
            "reputation": 1,
            "user_id": 7331915,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/26a050ef4af0a3e0c21a19bf8c30399d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user282623",
            "link": "https://stackoverflow.com/users/7331915/user282623"
        },
        "is_answered": false,
        "view_count": 11,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1722262028,
        "creation_date": 1722262028,
        "question_id": 78807580,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78807580/trying-to-use-the-document-ocr-drupal-module-to-process-heic-image-files",
        "title": "Trying to use the document_ocr Drupal module to process HEIC image files",
        "body": "<p>Right now I am thinking that the Google Document AI processor can process iPhone images. If I select this processor, does the document_ocr Drupal module convert HEIC image files to JPeg before it feeds it to the processor?</p>\n<p>Thanks ahead!</p>\n<p>I tried tesseract and was unimpressed with accuracy.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "drupal",
            "location"
        ],
        "owner": {
            "account_id": 1831393,
            "reputation": 1,
            "user_id": 1662719,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d34436589a4f057f65742b0f8b8cea61?s=256&d=identicon&r=PG",
            "display_name": "Rick Harington",
            "link": "https://stackoverflow.com/users/1662719/rick-harington"
        },
        "is_answered": false,
        "view_count": 156,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1722233144,
        "creation_date": 1347363656,
        "last_edit_date": 1722233144,
        "question_id": 12368898,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/12368898/inherit-node-location-from-user-location",
        "title": "Inherit node location from User location",
        "body": "<p>What I want to do is using Drupal 7 and the Location module is to inherit or default the nodes location to the users location. The reason being I just want the user to edit one location (on their profile) and it to show on all nodes created by that user. Can anyone help?</p>\n\n<p><a href=\"http://drupal.org/node/1357614\" rel=\"nofollow\">http://drupal.org/node/1357614</a></p>\n\n<p><a href=\"http://drupal.org/node/377600\" rel=\"nofollow\">http://drupal.org/node/377600</a></p>\n\n<p>Edit:</p>\n\n<p>I found this module and I'm trying to get the Latitide and Longitude working (as the rest do) but the parent case 'locpick' is confusing the hell out of me and I just cannot get this going. </p>\n\n<pre><code>&lt;?php\n\nfunction location_alter($argument){\n$location_alter = array();\nglobal $user;\n$uid = $user-&gt;uid;\n$location_alter = user_load($uid);\n$location_alter = $location_alter-&gt;location;\nreturn $location_alter[$argument];\n}\n\n/**\n* Implementation of hook_locationapi().\n*/\nfunction locnodeauthor_locationapi(&amp;$obj, $op, $a3 = NULL, $a4 = NULL, $a5 = NULL) {\nswitch ($op) {\n case 'field_expand':\n  switch ($a3) {\n    case 'name':\n      return array(\n        '#type'           =&gt; 'textfield',\n        '#title'          =&gt; t('Location name'),\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('name'),\n        '#size'           =&gt; 64,\n        '#maxlength'      =&gt; 64,\n        '#description'    =&gt; t('e.g. a place of business, venue, meeting point'),\n        '#attributes'     =&gt; NULL,\n        '#required'       =&gt; ($a4 == 2),\n      );\n\n    case 'street':\n      return array(\n        '#type'           =&gt; 'textfield',\n        '#title'          =&gt; t('Street'),\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('street'),\n        '#size'           =&gt; 64,\n        '#maxlength'      =&gt; 64,\n        '#required'       =&gt; ($a4 == 2),\n      );\n\n    // Additional is linked to street.\n    case 'additional':\n      return array(\n        '#type'           =&gt; 'textfield',\n        '#title'          =&gt; t('Additional'),\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('additional'),\n        '#size'           =&gt; 64,\n        '#maxlength'      =&gt; 64,\n        // Required is forced OFF because this is technically part of street.\n      );\n\n    case 'city':\n      return array(\n        '#type'           =&gt; 'textfield',\n        '#title'          =&gt; t('City'),\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('city'),\n        '#size'           =&gt; 64,\n        '#maxlength'      =&gt; 64,\n        '#description'    =&gt; NULL,\n        '#attributes'     =&gt; NULL,\n        '#required'       =&gt; ($a4 == 2),\n      );\n\n    case 'province':\n      drupal_add_js(drupal_get_path('module', 'location') .'/location_autocomplete.js');\n      $country = $a5['country'] ? $a5['country'] : variable_get('location_default_country', 'us');\n      return array(\n        '#type' =&gt; 'textfield',\n        '#title' =&gt; t('State/Province'),\n        '#autocomplete_path' =&gt; 'location/autocomplete/'. $country,\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('province'),\n        '#size' =&gt; 64,\n        '#maxlength' =&gt; 64,\n        '#description' =&gt; NULL,\n        // Used by province autocompletion js.\n        '#attributes' =&gt; array('class' =&gt; array('location_auto_province')),\n        '#required' =&gt; ($a4 == 2),\n      );\n\n    case 'country':\n      // Force default.\n      if ($a4 == 4) {\n        return array(\n          '#type' =&gt; 'value',\n          '#value' =&gt; variable_get('location_default_country', 'us'),\n        );\n      }\n      else {\n        $options = array_merge(array('' =&gt; t('Please select'), 'xx' =&gt; 'NOT LISTED'), location_get_iso3166_list());\n        return array(\n          '#type'           =&gt; 'select',\n          '#title'          =&gt; t('Country'),\n          '#default_value'  =&gt; $obj,\n          '#options'        =&gt; $options,\n          '#description'    =&gt; NULL,\n          '#required'       =&gt; ($a4 == 2),\n          // Used by province autocompletion js.\n          '#attributes'     =&gt; array('class' =&gt; array('location_auto_country')),\n        );\n      }\n      break;\n\n    case 'postal_code':\n      return array(\n        '#type'           =&gt; 'textfield',\n        '#title'          =&gt; t('Postal code'),\n        '#default_value'  =&gt; $obj != '' ? $obj : location_alter('postal_code'),//$location_alter['postal_code'],//location_alter('postal_code'),\n        '#size'           =&gt; 16,\n        '#maxlength'      =&gt; 16,\n        '#required'       =&gt; ($a4 == 2),\n      );\n  }\n  break;\n\n\ncase 'isunchanged':\n  switch ($a3) {\n    case 'lid':\n      // Consider 0, NULL, and FALSE to be equivilent.\n      if (empty($obj[$a3]) &amp;&amp; empty($a4)) {\n        return TRUE;\n      }\n      break;\n\n    case 'country':\n      // Consider '  ' and '' to be equivilent, due to us storing country\n      // as char(2) in the database.\n      if (trim($obj[$a3]) == trim($a4)) {\n        return TRUE;\n      }\n      break;\n\n    case 'province_name':\n    case 'country_name':\n    case 'map_link':\n    case 'coords':\n      // Always considered unchanged.\n      return TRUE;\n  }\n  break;\n\n}\n</code></pre>\n\n<p>}</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 56562,
                    "reputation": 857,
                    "user_id": 169450,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/ef0b6fd581490fa89b4d1be964d53237?s=256&d=identicon&r=PG",
                    "display_name": "HaleFx",
                    "link": "https://stackoverflow.com/users/169450/halefx"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1347376411,
                "creation_date": 1347376411,
                "answer_id": 12372889,
                "question_id": 12368898,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Depending on how you intend to use the results of this, you may not even need to save the location of a node. I.e., if you want to access the Location data in Views, you can use a relationship to access the Location data of a node's author even though the Location data may not be saved on the node at all. However, doing this would mean that your nodes in views will always be associated with their authors' current locations, not the locations they had set when they created the nodes.</p>\n\n<p>If you do want to save this on the node, you'll need to create a custom module. You'll probably want to call <a href=\"http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_form_alter/7\" rel=\"nofollow\">hook_form_alter</a> to hide the Location field on the node edit form, and <a href=\"http://api.drupal.org/api/drupal/modules!node!node.api.php/function/hook_node_presave/7\" rel=\"nofollow\">hook_node_presave</a> to copy the user's Location value over to the node's Location value.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 28043082,
            "reputation": 11,
            "user_id": 21420317,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxa_Q1pEy5denUV5f626ebV6GvQbatBBBIheqvW4=k-s256",
            "display_name": "Cheshta Pal",
            "link": "https://stackoverflow.com/users/21420317/cheshta-pal"
        },
        "is_answered": false,
        "view_count": 845,
        "answer_count": 4,
        "score": 1,
        "last_activity_date": 1722129424,
        "creation_date": 1679066627,
        "last_edit_date": 1722129424,
        "question_id": 75769367,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/75769367/drupal-8the-website-encountered-an-unexpected-error-please-try-again-later",
        "title": "Drupal 8:The website encountered an unexpected error. Please try again later",
        "body": "<p>Drupal 8:The website encountered an unexpected error. Please try again later. i am getting this error while installing the drupal 8</p>\n<p>(<a href=\"https://i.sstatic.net/uIBeh.png\" rel=\"nofollow noreferrer\">https://i.sstatic.net/uIBeh.png</a>)</p>\n<p>I have already installed the XAMPP.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 157882,
                    "reputation": 823,
                    "user_id": 376129,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/27c6378a6af7fb301347caab36e9ca33?s=256&d=identicon&r=PG",
                    "display_name": "dxvargas",
                    "link": "https://stackoverflow.com/users/376129/dxvargas"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1722111496,
                "creation_date": 1722111496,
                "answer_id": 78802375,
                "question_id": 75769367,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>When other options fail:</p>\n<p>Go to the file &quot;core/includes/errors.inc&quot; and edit it.\nIn the method &quot;_drupal_log_error&quot; write at the begining:</p>\n<pre><code>var_dump($error); die;\n</code></pre>\n<p>Check again the error, it should give you more information.</p>\n<p>Tested in Drupal 9.1.0.\nDon't do this in production.</p>\n"
            },
            {
                "owner": {
                    "account_id": 14581335,
                    "reputation": 1014,
                    "user_id": 10531665,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/16cb8b0fabb4aca7b5804f6e2d417b8d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Susobhan Das",
                    "link": "https://stackoverflow.com/users/10531665/susobhan-das"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1685750320,
                "creation_date": 1685750320,
                "answer_id": 76394056,
                "question_id": 75769367,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If this is newly installed Drupal, maybe there is some issues on <code>settings.php</code>. wrong database credentials, or database not present etc. Check it.</p>\n<p>Drupal will install no matter what. Can you add more details to it. Or, can you open xampp logs, and find for clues.</p>\n"
            },
            {
                "owner": {
                    "account_id": 10411446,
                    "reputation": 1,
                    "user_id": 22001187,
                    "user_type": "registered",
                    "profile_image": "https://lh4.googleusercontent.com/-BHqUNj_Nvy4/AAAAAAAAAAI/AAAAAAAAAD0/LbRQsXP8PMU/photo.jpg?sz=256",
                    "display_name": "shreyal mandot",
                    "link": "https://stackoverflow.com/users/22001187/shreyal-mandot"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1685637240,
                "creation_date": 1685637240,
                "answer_id": 76383999,
                "question_id": 75769367,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>This is a generic message that drupal floats when things don't go right. You can also use the following steps to find the actual issue :</p>\n<ol>\n<li>Add dblog module if not already present on the site and drush setup.</li>\n<li>Now enable this module using drush <code>drush en dblog</code></li>\n<li>Now just execute <code>drush ws</code> , this will show you the complete error message on console that your site is throwing.</li>\n</ol>\n"
            },
            {
                "owner": {
                    "account_id": 14847040,
                    "reputation": 528,
                    "user_id": 10722100,
                    "user_type": "registered",
                    "profile_image": "https://lh4.googleusercontent.com/-hXa1pjXPAjM/AAAAAAAAAAI/AAAAAAAABII/lHIKOAYJfbo/photo.jpg?sz=256",
                    "display_name": "Civette",
                    "link": "https://stackoverflow.com/users/10722100/civette"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1679308817,
                "creation_date": 1679308817,
                "answer_id": 75789276,
                "question_id": 75769367,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Difficult to answer your question but first step is to find out why it casts an error. By default Drupal isn't very verbose in such a case.</p>\n<p>Add following at the end of your settings.php file and you will see more output and hopefully something obvious to track</p>\n<pre><code>$config['system.logging']['error_level']='verbose';\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "ocr",
            "document"
        ],
        "owner": {
            "account_id": 4485725,
            "reputation": 1,
            "user_id": 7331915,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/26a050ef4af0a3e0c21a19bf8c30399d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user282623",
            "link": "https://stackoverflow.com/users/7331915/user282623"
        },
        "is_answered": false,
        "view_count": 28,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1722020277,
        "creation_date": 1720796130,
        "question_id": 78741029,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78741029/can-i-integrate-drupal-document-ocr-with-tesseract",
        "title": "Can I integrate Drupal document_ocr with tesseract?",
        "body": "<p>I would like to use an open source image to text converter to populate text fields with in Drupal.</p>\n<p>I tried setting the tesseract executable path in settings.php and thought that the document_ocr module would pick it up and add it to the processor selection.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 94945,
                    "reputation": 3290,
                    "user_id": 258899,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/6ce1dc967dbca76b089b85d2d0828116?s=256&d=identicon&r=PG",
                    "display_name": "minnur",
                    "link": "https://stackoverflow.com/users/258899/minnur"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1722020277,
                "creation_date": 1722020277,
                "answer_id": 78799573,
                "question_id": 78741029,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>The module supports Tesseract OCR starting with version 1.0.9</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "ddev"
        ],
        "owner": {
            "account_id": 376530,
            "reputation": 460,
            "user_id": 728053,
            "user_type": "registered",
            "accept_rate": 57,
            "profile_image": "https://www.gravatar.com/avatar/17b78eddab2d6570d4843896f1c94ecc?s=256&d=identicon&r=PG",
            "display_name": "Vagari",
            "link": "https://stackoverflow.com/users/728053/vagari"
        },
        "is_answered": true,
        "view_count": 901,
        "accepted_answer_id": 57613302,
        "answer_count": 3,
        "score": 1,
        "last_activity_date": 1721847101,
        "creation_date": 1566489456,
        "question_id": 57613168,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/57613168/how-to-pass-a-database-prefix-to-ddev",
        "title": "How to pass a database prefix to DDEV?",
        "body": "<p>One of the DDEV sites I manage uses a database that includes a prefix. The default behavior for DDEV is to recreate the <code>settings.ddev.php</code> on every start. But that obviously overwrites anything added, purging any manual addition of the prefix.</p>\n\n<p>Is the assumed solution to stop DDEV from overwriting the file? Or to create another settings file (like <code>settings.local.php</code>) to override what's been overridden? Or am I missing something? </p>\n\n<p>This just seems like something that would exist as a simple variable in the config to generate a more accurate <code>settings.ddev.php</code> file. Thanks!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 143358,
                    "reputation": 571,
                    "user_id": 351646,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/6a1ad338e0a3b3df815e9984383ed86b?s=256&d=identicon&r=PG",
                    "display_name": "Raj",
                    "link": "https://stackoverflow.com/users/351646/raj"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1721847101,
                "creation_date": 1721847101,
                "answer_id": 78790092,
                "question_id": 57613168,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>When it comes to installing a new <strong>Drupal</strong> site from scratch with DDEV, I'd leave config.yaml alone unless you want to set your <code>upload_dirs</code> there <em>(but that's a different topic)</em>. I've found that changing the type to php when using Drupal causes some havoc as the installer won't appreciate having files in your project directory already. In any case, I would suggest leaving the type as drupal. If you're using WordPress, that's a different story.</p>\n<p>Assuming you're using DDEV with Composer and Drush, once you've run:</p>\n<pre><code>ddev composer require --dev drush/drush\n</code></pre>\n<p>Set the db prefix (and the Private File Path if needed) in <code>web/sites/default/settings.php</code>, found around line 93 for Drupal 10:</p>\n<pre><code>$databases = [];\n</code></pre>\n<p>Replace that line with:</p>\n<pre><code>$databases['default']['default'] = [\n  'prefix' =&gt; 'myprefix_',\n];\n// Set the private file path \n$settings['file_private_path'] = '../private';\n</code></pre>\n<p>Then finish the installation with</p>\n<pre><code>ddev drush site:install --account-name=myaccount --account-pass=mypass -y\n</code></pre>\n<p>For complete instructions, see <a href=\"https://purewebmedia.biz/article/2024/07/23/how-use-ddev-install-drupal-site-locally\" rel=\"nofollow noreferrer\">this article by PureWebMedia.biz</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 3545135,
                    "reputation": 5082,
                    "user_id": 3130080,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/63ABb.jpg?s=256",
                    "display_name": "benjifisher",
                    "link": "https://stackoverflow.com/users/3130080/benjifisher"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1655327071,
                "creation_date": 1655327071,
                "answer_id": 72637815,
                "question_id": 57613168,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I decided to use a version of the second suggestion:</p>\n<pre class=\"lang-php prettyprint-override\"><code>// Automatically generated include for settings managed by ddev.\n$ddev_settings = dirname(__FILE__) . '/settings.ddev.php';\nif (getenv('IS_DDEV_PROJECT') == 'true' &amp;&amp; is_readable($ddev_settings)) {\n  require $ddev_settings;\n  $databases['default']['default']['prefix'] = &quot;drupal_&quot;;\n}\n</code></pre>\n<p>I just added  the <code>$databases</code> line. The rest was already there.</p>\n"
            },
            {
                "owner": {
                    "account_id": 75176,
                    "reputation": 12110,
                    "user_id": 215713,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/eaa4a82dca6b5d2d0b58e784231caf3a?s=256&d=identicon&r=PG",
                    "display_name": "rfay",
                    "link": "https://stackoverflow.com/users/215713/rfay"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1566490041,
                "creation_date": 1566490041,
                "answer_id": 57613302,
                "question_id": 57613168,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>There are a few straightforward answers:</p>\n\n<ul>\n<li>Don't let ddev fiddle with settings at all. Change the project type to 'php' and ddev won't mess with it.</li>\n<li>Make the changes you want to db settings in settings.php <em>after</em> the inclusion of settings.ddev.php. That should work no matter what. And it should work on your prod site as well.</li>\n<li>Do the work in settings.local.php, but include it after settings.ddev.php in your settings.php file</li>\n<li>Take over settings.ddev.php and do whatever you want with it. This just means deleting the line that contains #ddev-generated in settings.ddev.php. After that, ddev won't muck with it at all.</li>\n</ul>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "organic-groups"
        ],
        "owner": {
            "account_id": 95171,
            "reputation": 927,
            "user_id": 259358,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://www.gravatar.com/avatar/f8e72cdb8cd3a138a3be7ccae248d4c0?s=256&d=identicon&r=PG",
            "display_name": "Ben",
            "link": "https://stackoverflow.com/users/259358/ben"
        },
        "is_answered": true,
        "view_count": 626,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1721775413,
        "creation_date": 1286806979,
        "last_edit_date": 1721775413,
        "question_id": 3907067,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/3907067/updating-organic-groups-module-in-drupal",
        "title": "Updating organic groups module in Drupal",
        "body": "<p>I've taken over a Drupal website. I'm trying to update the og module. It is currently version 1. I tried to upgrade it to the latest version but when I ran update.php it failed. So I thought I'd just try updating it to version 1.4. However, when I did this I then got the following errors when I ran update.php:</p>\n\n<pre><code># user warning: Table 'og_ancestry' already exists query: CREATE TABLE og_ancestry ( nid int(11) NOT NULL, group_nid int(11) NOT NULL, is_public int(1) NULL, KEY (nid), KEY (group_nid) ) /*!40100 DEFAULT CHARACTER SET utf8 */; in /homepages/0/d309344694/htdocs/openup6/sites/default/modules/ogr/og.install on line 218.\n# user warning: Unknown column 'is_public' in 'field list' query: INSERT INTO og_ancestry (nid, group_nid, is_public) SELECT nid, gid, is_public FROM og_migrate in /homepages/0/d309344694/htdocs/openup6/sites/default/modules/ogr/og.install on line 239.\n# warning: array_merge() [function.array-merge]: Argument #2 is not an array in /homepages/0/d309344694/htdocs/openup6/update.php on line 174.\n# user warning: Duplicate entry 'openup-og_views-1' for key 2 query: UPDATE blocks SET module = 'og_views', delta = '1' WHERE module = 'og' AND delta = '5' in /homepages/0/d309344694/htdocs/openup6/sites/default/modules/ogr/og.install on line 377.\n# user warning: Unknown column 'selective' in 'og' query: ALTER TABLE og CHANGE `selective` `og_selective` INT NOT NULL DEFAULT 0 in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'register' in 'og' query: ALTER TABLE og CHANGE `register` `og_register` TINYINT NOT NULL DEFAULT 0 in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'theme' in 'og' query: ALTER TABLE og CHANGE `theme` `og_theme` VARCHAR(255) DEFAULT NULL in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'directory' in 'og' query: ALTER TABLE og CHANGE `directory` `og_directory` TINYINT NOT NULL DEFAULT 0 in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'description' in 'og' query: ALTER TABLE og CHANGE `description` `og_description` VARCHAR(255) DEFAULT NULL in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'notification' in 'og' query: ALTER TABLE og CHANGE `notification` `og_notification` TINYINT NOT NULL DEFAULT 0 in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Unknown column 'language' in 'og' query: ALTER TABLE og CHANGE `language` `og_language` VARCHAR(12) NOT NULL DEFAULT '' in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# user warning: Duplicate column name 'og_private' query: ALTER TABLE og CHANGE `private` `og_private` TINYINT NOT NULL DEFAULT 0 in /homepages/0/d309344694/htdocs/openup6/includes/database.mysql-common.inc on line 520.\n# warning: Missing argument 1 for og_notifications_menu() in /homepages/0/d309344694/htdocs/openup6/sites/default/modules/ogr/og_notifications/og_notifications.module on line 15.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Update #6002\n\n    * Failed: ALTER TABLE {og} CHANGE `selective` `og_selective` INT NOT NULL DEFAULT 0\n    * Failed: ALTER TABLE {og} CHANGE `register` `og_register` TINYINT NOT NULL DEFAULT 0\n    * Failed: ALTER TABLE {og} CHANGE `theme` `og_theme` VARCHAR(255) DEFAULT NULL\n    * Failed: ALTER TABLE {og} CHANGE `directory` `og_directory` TINYINT NOT NULL DEFAULT 0\n    * Failed: ALTER TABLE {og} CHANGE `description` `og_description` VARCHAR(255) DEFAULT NULL\n    * Failed: ALTER TABLE {og} CHANGE `notification` `og_notification` TINYINT NOT NULL DEFAULT 0\n    * Failed: ALTER TABLE {og} CHANGE `language` `og_language` VARCHAR(12) NOT NULL DEFAULT ''\n    * Failed: ALTER TABLE {og} CHANGE `private` `og_private` TINYINT NOT NULL DEFAULT 0\n</code></pre>\n\n<p>Can anyone help? </p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 52008,
                    "reputation": 5005,
                    "user_id": 155389,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/6198f7dd6beaa1bbbfccee5e287f3532?s=256&d=identicon&r=PG",
                    "display_name": "Sid Kshatriya",
                    "link": "https://stackoverflow.com/users/155389/sid-kshatriya"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1286822192,
                "creation_date": 1286822192,
                "answer_id": 3908976,
                "question_id": 3907067,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>If I understand you correctly:</p>\n\n<ol>\n<li>You were running OG version 1</li>\n<li>You tried to update it to the latest version i.e. version 2.1 -- that update failed</li>\n<li>So now you tried to update it to version 1.4 -- That has failed too.</li>\n</ol>\n\n<p>Unfortunately, what has happened is that the database tables have been changed to correspond to the \"schema\" for version 2.1. That upgrade did not succeed completely for an unknown reason (difficult to say.. could be so many things).</p>\n\n<p>Now you cannot upgrade to 1.4. Actually that would mean \"downgrading\". Thats not possible in Drupal. </p>\n\n<p>You should always take a database dump before performing an upgrade. So many things can go wrong.  </p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "ddev",
            "visual-regression-testing"
        ],
        "owner": {
            "account_id": 1975240,
            "reputation": 133,
            "user_id": 1773165,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/42d7cb4fbe19a308cfd9d67303aeaa57?s=256&d=identicon&r=PG",
            "display_name": "Yuriy Gerasimov",
            "link": "https://stackoverflow.com/users/1773165/yuriy-gerasimov"
        },
        "is_answered": true,
        "view_count": 32,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1721756321,
        "creation_date": 1721746531,
        "last_edit_date": 1721756321,
        "question_id": 78784191,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78784191/with-ddev-add-ons-how-can-i-install-a-custom-command",
        "title": "With DDEV add-ons, how can I install a custom command?",
        "body": "<p>I am building a &quot;ddev get&quot; service for <a href=\"https://diffy.website\" rel=\"nofollow noreferrer\">https://diffy.website</a> so it is easy to take screenshots from local website.</p>\n<p>I would like to provide a command &quot;ddev screenshot&quot; for this.</p>\n<p>What would be recommended way of copying the command (I assume in install.yaml file somewhere)? Code is already available in <a href=\"https://github.com/DiffyWebsite/ddev-diffy\" rel=\"nofollow noreferrer\">https://github.com/DiffyWebsite/ddev-diffy</a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 75176,
                    "reputation": 12110,
                    "user_id": 215713,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/eaa4a82dca6b5d2d0b58e784231caf3a?s=256&d=identicon&r=PG",
                    "display_name": "rfay",
                    "link": "https://stackoverflow.com/users/215713/rfay"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1721747316,
                "last_edit_date": 1721747316,
                "creation_date": 1721746854,
                "answer_id": 78784219,
                "question_id": 78784191,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Yes, it's super easy to do, and lots of add-ons already do it. See <a href=\"https://ddev.com/blog/advanced-add-on-contributor-training/\" rel=\"nofollow noreferrer\">Contributor Training blog about add-on techniques</a>, &quot;Adding project (or global) custom commands&quot;:</p>\n<p>An add-on can easily add a project custom command. People have made add-ons specifically to add just one project custom command. It seems like a waste, but it's not. It gives your custom command(s) a home, an issue queue, and an upgrade path.</p>\n<p>An example of a project that does lots of this is <a href=\"https://github.com/ddev/ddev-drupal-contrib\" rel=\"nofollow noreferrer\"><code>ddev-drupal-contrib</code></a>, which installs several specialized web custom commands, see <a href=\"https://github.com/ddev/ddev-drupal-contrib/blob/b5c14f339d46cfd8f7631d3701f597bcd3eba6d9/install.yaml#L2-L11\" rel=\"nofollow noreferrer\">install.yaml</a>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>project_files:\n  - commands/web/eslint\n  - commands/web/expand-composer-json\n  - commands/web/nightwatch\n  - commands/web/phpcbf\n  - commands/web/phpcs\n  - commands/web/phpunit\n  - commands/web/poser\n  - commands/web/stylelint\n  - commands/web/symlink-project\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal"
        ],
        "owner": {
            "account_id": 1168516,
            "reputation": 24956,
            "user_id": 1146248,
            "user_type": "registered",
            "accept_rate": 54,
            "profile_image": "https://i.sstatic.net/i4vFX.jpg?s=256",
            "display_name": "Nathan",
            "link": "https://stackoverflow.com/users/1146248/nathan"
        },
        "is_answered": true,
        "view_count": 3102,
        "answer_count": 5,
        "score": 2,
        "last_activity_date": 1721750645,
        "creation_date": 1476726507,
        "last_edit_date": 1476731442,
        "question_id": 40092641,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/40092641/exporting-a-menu-in-drupal",
        "title": "Exporting a Menu in Drupal",
        "body": "<p>I'm new to Drupal. I created a menu that I placed inside the Sidebar First Region.</p>\n\n<p>I was able to place my menu in the Sidebar First Region by going to the blocks page \"admin/structure/block\". Is a menu seen as a block, since I am able to assign a region for a menu inside the BLOCKS page? or is just the name of the page misleading, since it can take care of both blocks and menus?</p>\n\n<p>How can I import/export a menu that has a bunch of links inside it ? I want to export it from local to staging and prod. Features doesn't seem to work? I found menu Block and menu_import to say to be able to do that, but is there another easier or better way?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 3088211,
                    "reputation": 17,
                    "user_id": 2614943,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/QsxMRLAn.png?s=256",
                    "display_name": "bbu23",
                    "link": "https://stackoverflow.com/users/2614943/bbu23"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1721750645,
                "creation_date": 1721750645,
                "answer_id": 78784518,
                "question_id": 40092641,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>There is the <a href=\"https://www.drupal.org/project/menu_migration\" rel=\"nofollow noreferrer\">Menu Migration (Import &amp; Export)</a> module available for Drupal 10.2 and above.</p>\n<p>The module handles hierarchies, translations and other extra fields and it provides two ways of importing and exporting menu items:</p>\n<ol>\n<li>Through code (menus are exported/imported to/from a directory in the Drupal Project)</li>\n<li>Through File Download/Upload</li>\n</ol>\n<p>The download/upload option would match your requirements of being able to easily export menus from a local instance to a staging/prod instance.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1305670,
                    "reputation": 8852,
                    "user_id": 1254718,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/73bee9d490dcd60c6e517c9c49d27c90?s=256&d=identicon&r=PG",
                    "display_name": "milkovsky",
                    "link": "https://stackoverflow.com/users/1254718/milkovsky"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1704988797,
                "creation_date": 1704988797,
                "answer_id": 77801426,
                "question_id": 40092641,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you need a one time export/import of your menus, here is a simple script to export/import menus, that you can re-use in <code>drush php</code> on a remote server (You can optionally export the menus content to some file in the <code>tmp</code> folder):</p>\n<pre><code>function menus_export() {\n  $data = [];\n  // The menus to export.\n  $menus = ['footer-menu', 'main-menu'];\n  foreach ($menus as $menu) {\n    $menuLinkIds = \\Drupal::entityQuery('menu_link_content')\n      -&gt;accessCheck(FALSE)\n      -&gt;condition('menu_name', $menu)\n      -&gt;execute();\n    $menuLinks = \\Drupal\\menu_link_content\\Entity\\MenuLinkContent::loadMultiple($menuLinkIds);\n    foreach ($menuLinks as $link) {\n      if (!empty($link)) {\n        $linkArray = $link-&gt;toArray();\n        foreach ($linkArray as $key =&gt; $linkArrayItem) {\n          $linkData[$key] = reset($linkArrayItem);\n        }\n        $data[$menu][$link-&gt;id()] = $linkData;\n        unset($linkData);\n      }\n    }\n  }\n  \n  // You can optionally export the menus content to some file.\n  file_put_contents( 'public://tmp/menu_export.txt', '&lt;?php return '.var_export($data, true ).&quot;;\\n&quot; );\n\n  return $data;\n}\n</code></pre>\n<p>Afterwards import the menus:</p>\n<pre><code>function menus_import($data) {\n  foreach ($data as $menu =&gt; $links) {\n    foreach ($links as $link) {\n      unset($link['id'], $link['revision_id']);\n      $menuLinkEntity = \\Drupal::entityQuery('menu_link_content')\n        -&gt;accessCheck(FALSE)\n        -&gt;condition('uuid', $link['uuid'])\n        -&gt;execute();\n      if (!$menuLinkEntity) {\n        $menuLinkEntity = \\Drupal\\menu_link_content\\Entity\\MenuLinkContent::create();\n      }\n      else {\n        $menuLinkEntity = \\Drupal\\menu_link_content\\Entity\\MenuLinkContent::load(reset($menuLinkEntity));\n      }\n      foreach ($link as $key =&gt; $items) {\n        $menuLinkEntity-&gt;set($key, $items);\n      }\n      $menuLinkEntity-&gt;save();\n    }\n  }\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 12728858,
                    "reputation": 4607,
                    "user_id": 9246297,
                    "user_type": "registered",
                    "accept_rate": 50,
                    "profile_image": "https://lh3.googleusercontent.com/-9Nbpv1It20s/AAAAAAAAAAI/AAAAAAAAAHs/nMwMNHlo_yA/photo.jpg?sz=256",
                    "display_name": "Nasser Ali Karimi",
                    "link": "https://stackoverflow.com/users/9246297/nasser-ali-karimi"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1567317950,
                "last_edit_date": 1592644375,
                "creation_date": 1567317950,
                "answer_id": 57743613,
                "question_id": 40092641,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>My experience with Drupal 8 step by step</p>\n<p>First of all, you need to install <a href=\"https://www.drupal.org/project/menu_export\" rel=\"nofollow noreferrer\">Menu Export</a> module and activate it. After that, you will have Export Menu in the Structure part.</p>\n<blockquote>\n<p><strong>Steps to Export &amp; Import</strong></p>\n</blockquote>\n<p>1- In the Export Menu page <code>domain.com/admin/config/development/menu_export</code>, you have three option, at <strong>Menu list</strong> select which menus you want to export.</p>\n<p>2- On the Export section, export your menus.</p>\n<p><strong>(In this step menu setting will not be exported on YML file then you need to continue.)</strong></p>\n<p>3- Now you need to export system configuration from <code>domain.com/admin/config/development/configuration/full/export</code> or <code>drush cex</code></p>\n<p><strong>Note: after export, you will have <code>menu_export.export_data.yml</code> file that contains your menu settings</strong></p>\n<p>4- Transfer configuration anywhere you want, then you need to import them from <code>domain.com/admin/config/development/configuration/full/import</code> or <code>drush cim</code></p>\n<p>5- Then you need to import menus to your system from UI <code>domain.com/admin/config/development/menu_export/import</code></p>\n<blockquote>\n<p><strong>Important Note</strong></p>\n<p>Clear your cache</p>\n<p>In some cases, mostly with <strong>Administration</strong> menu you need do and <strong>extra step</strong>. That you need to just open the edit Administration menu page and just saving it without any changes after this you should see your updated menu on administration as well.</p>\n</blockquote>\n"
            },
            {
                "owner": {
                    "account_id": 1466312,
                    "reputation": 8481,
                    "user_id": 1381737,
                    "user_type": "registered",
                    "accept_rate": 81,
                    "profile_image": "https://i.sstatic.net/H1epM.png?s=256",
                    "display_name": "Yuseferi",
                    "link": "https://stackoverflow.com/users/1381737/yuseferi"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1554208417,
                "creation_date": 1554208417,
                "answer_id": 55474904,
                "question_id": 40092641,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>There are two modules for doing that:</p>\n\n<ol>\n<li>There's also <a href=\"https://www.drupal.org/project/menu_export\" rel=\"nofollow noreferrer\">Menu Import and Export</a>:</li>\n</ol>\n\n<blockquote>\n  <p>This module helps in exporting and importing Menu Items among\n  cloned sites which is not possible using CMI.</p>\n  \n  <p>This module exports the menu entity as config YAML and will be\n  imported on subsequent instances.</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>another one is <a href=\"https://www.drupal.org/project/menu_link_config\" rel=\"nofollow noreferrer\">Config Menu Link</a> module.</li>\n</ol>\n"
            },
            {
                "owner": {
                    "user_type": "does_not_exist",
                    "display_name": "user2486435"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1477587460,
                "creation_date": 1477587460,
                "answer_id": 40290326,
                "question_id": 40092641,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Menus are made available as blocks. Thats's why they are available in the blocks admin area. Yes, Features does not export menu items themselves as that is content and their links might have different node id's to stage or production sites.</p>\n\n<p><a href=\"https://www.drupal.org/project/menu_import\" rel=\"nofollow\">https://www.drupal.org/project/menu_import</a> seems to be the best solution to me for the job. You could also see if <a href=\"https://www.drupal.org/project/uuid_features\" rel=\"nofollow\">https://www.drupal.org/project/uuid_features</a> module will do the job, but not sur</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 10245307,
            "reputation": 33,
            "user_id": 7561278,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/a61da05ec2dbc340690cc3806fdb275d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Vamsi",
            "link": "https://stackoverflow.com/users/7561278/vamsi"
        },
        "is_answered": false,
        "view_count": 231,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1721719223,
        "creation_date": 1507899342,
        "last_edit_date": 1507927292,
        "question_id": 46730464,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/46730464/drupal-8-separate-domain-for-admin-and-web-site",
        "title": "Drupal 8 separate domain for admin and web site",
        "body": "<p>I want to use separate domain names for drupal 8 admin CMS and front end.\nI will be hosting my admin CMS in one instance and front end in another instance and would like to create different domains for each instance.</p>\n\n<p>How can I achieve this?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2162424,
                    "reputation": 86,
                    "user_id": 1916294,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/4edb9c8f2fab77ee877248056762101d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "John Wong",
                    "link": "https://stackoverflow.com/users/1916294/john-wong"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1721719223,
                "creation_date": 1721719223,
                "answer_id": 78782088,
                "question_id": 46730464,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>For Drupal 10, you can utilize <code>trusted_host_patterns</code> to achieve this.</p>\n<p>In <code>web/sites/default/settings.php</code>, add</p>\n<pre class=\"lang-php prettyprint-override\"><code>$settings['trusted_host_patterns'] = [\n  '^www\\.yourdomain\\.com$',\n];\nif(str_starts_with($_SERVER['REQUEST_URI'], '/admin')){\n  $settings['trusted_host_patterns'] = [\n    '^cms\\.yourdomain\\.com$',\n  ];\n}\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "reactjs",
            "typescript",
            "axios",
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 25766590,
            "reputation": 1,
            "user_id": 26455750,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AItbvmkKn1gH6yqj8vP8zWR6RDmmkIWmeQMyd_MZcDqH=k-s256",
            "display_name": "Oleg Afanasiev",
            "link": "https://stackoverflow.com/users/26455750/oleg-afanasiev"
        },
        "is_answered": false,
        "view_count": 14,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1721576104,
        "creation_date": 1721576104,
        "question_id": 78775618,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78775618/react-ts-and-drupal-login-cookie-request",
        "title": "React-TS and drupal Login-cookie request",
        "body": "<p>I have a Drupal website. There is a list of entries on the site. It is required to have a Drupal site and a separate React-TS site that manipulates entities on the Drupal site. The site and site requests work perfectly outside the context of the React application. However, there is a caveat. I have a code that I use to manipulate the site.</p>\n<pre><code>\nexport const LoginOnDrupal = async () =&gt; {\n    try {\n\n        const session = axios.create()\n        session.defaults.withCredentials = true\n        session.defaults.xsrfCookieName = &quot;Cookie&quot;\n        config_file.SetSession(session)\n        const url = config_file.host_link + &quot;/user/login&quot;;\n        const response = await session.post((url),\n            {\n                name: 'Oleg',\n                pass: '12099021qQ!!!'\n            },\n            {\n                \n                params: {\n                    _format: 'json'\n                },\n                headers: {\n                    'Content-Type': 'application/vnd.api+json',\n                    \n                },\n            }\n        );\n\n        if (response.status === 200) {\n            const data = response.data;\n            console.log(data);\n            const csrfToken = data.csrf_token;\n            config_file.SetCsrf_Token(csrfToken);\n\n        } else {\n            console.error('Error executing LOGIN request:');\n            console.error(&quot;Error status code: &quot; + String(response.status));\n            console.error(&quot;Error text: &quot; + String(response.data));\n        }\n    }\n    catch (error) {\n        console.error('An error LOGIN occurred:', error);\n    }\n\n    return null;\n};\n\n\nexport const PostNewWorker = async (newWorker: NewWorker): Promise&lt;void&gt; =&gt; {\n    const session = config_file.GetSession()\n    if (session != null)\n    {\n        const url = config_file.host_link + &quot;/jsonapi/node/rabotnik&quot;;\n        const body = newWorker.DeserializeJSON();\n        const headers = {\n            'Content-Type': 'application/vnd.api+json',\n            'X-CSRF-Token':config_file.GetCsrf_Token(),\n                    withCredentials: true\n        };\n\n        try {\n            const response = await session.post(url, body, { headers });\n\n            if (response.status === 201) {\n                const newPost = response.data;\n                console.log(&quot;New Worker Create&quot;);\n                console.log(newPost);\n            } else {\n                console.error('Error executing POST request:');\n                console.error(&quot;Error status code: &quot; + String(response.status));\n                console.error(&quot;Error text: &quot; + String(response.data));\n            }\n        } catch (error) {\n            console.error('An error POST occurred:', error);\n        }\n    }\n};\n</code></pre>\n<p>First, I log into the site using Login and get the necessary information for subsequent requests, then I use the information from Login to send a POST request to the site. The requests are strictly consistent. I use session.defaults.withCredentials = true in order to save a token with information. However, a nuance arose. After a single successful login to the site with <code>session.defaults.withCredentials = true</code>, I can no longer log in to the site, as Drupal issues:This route can only be accessed by anonymous users, Because it thinks I'm logged in.\nAnd accordingly, I cannot get the X-CSRF Token for subsequent POST requests.</p>\n<p>Initially, I tried experimenting with Logout user. However, in Drupal, this is not implemented obviously and is not easy without getting the Logout code, which, of course, is not available. I tried changing the session.defaults settings.Tell me, what am I doing wrong?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "drupal",
            "php-5.3",
            "watchdog"
        ],
        "owner": {
            "account_id": 40775,
            "reputation": 7759,
            "user_id": 118234,
            "user_type": "registered",
            "accept_rate": 84,
            "profile_image": "https://i.sstatic.net/UvxqP.png?s=256",
            "display_name": "JoBu1324",
            "link": "https://stackoverflow.com/users/118234/jobu1324"
        },
        "is_answered": true,
        "view_count": 912,
        "accepted_answer_id": 26876653,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1721487056,
        "creation_date": 1415748048,
        "last_edit_date": 1721487056,
        "question_id": 26876467,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/26876467/drupal-watchdog-script-generating-notice-array-to-string-conversion",
        "title": "Drupal Watchdog script generating Notice: Array to string conversion",
        "body": "<p>We're running <code>PHP 5.3.10-1ubuntu3.15 with Suhosin-Patch</code>, and I just ran across the weirdest thing. I keep getting an Array to string conversion error.</p>\n\n<p>Here is some code with line numbers:</p>\n\n<pre><code>115 $report['report'][$key]['report'] = array();\n116 watchdog('ranking_report_field', 'key is a: ' . gettype($key), array(), WATCHDOG_NOTICE);\n117 $report['report'][$key]['report'] = array(\n    '#markup' =&gt; \"&lt;p&gt;No information available.&lt;/p&gt;&lt;p&gt;For questions, &lt;a href='mailto:$emailAddr'&gt;email&lt;/a&gt; your account executive ($emailAddr).&lt;/p&gt;\",\n);\n</code></pre>\n\n<p>Here are Drupal's (sequential) logs for those line numbers:</p>\n\n<pre><code>Notice: Array to string conversion in foo() (line 115 of /var/www/...\nkey is a: string\nNotice: Array to string conversion in foo() (line 117 of /var/www/...\n</code></pre>\n\n<p>So far as I can tell there's no array to string conversion that should be taking place. Someone help me out with a second pair of eyes, please - or is this some kind of bug that just hit PHP?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2437138,
                    "reputation": 16495,
                    "user_id": 2126755,
                    "user_type": "registered",
                    "accept_rate": 79,
                    "profile_image": "https://i.sstatic.net/8QFus.jpg?s=256",
                    "display_name": "robbmj",
                    "link": "https://stackoverflow.com/users/2126755/robbmj"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1415751299,
                "last_edit_date": 1415751299,
                "creation_date": 1415749053,
                "answer_id": 26876653,
                "question_id": 26876467,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>One of the array keys is mapped to a string not an array. Here is a program for how such an error could occur. </p>\n\n<pre><code>&lt;?php\n\n$key = 0;\n\n$report = array();\n$report['report'] = array();\n$report['report'][$key] = 'report';\n\n// Array to string conversion error\n$report['report'][$key]['report'] = array();\n\n// what I assume you are expecting is\n$report['report'][$key] = array();\n$report['report'][$key]['report'] = array(); // no more notices\n</code></pre>\n\n<p><em>NOTE: at his time the OP has not included info for how the array is created</em></p>\n"
            }
        ]
    },
    {
        "tags": [
            "docker",
            "drupal"
        ],
        "owner": {
            "account_id": 19921985,
            "reputation": 21,
            "user_id": 14597595,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/bf4fe02ea2251aac93424bd9dcdcf998?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "devaper",
            "link": "https://stackoverflow.com/users/14597595/devaper"
        },
        "is_answered": true,
        "view_count": 47,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1721156534,
        "creation_date": 1721079387,
        "question_id": 78751966,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78751966/where-are-the-files-located-in-a-drupal-docker-installation",
        "title": "Where are the files located in a Drupal Docker installation?",
        "body": "<p>Someone assisted me in installing Drupal with Docker on my Mac.  (I am new to Drupal and it has been years since I last coded.)  The site works fine.  I would like to set up a custom theme, but when I open VS Code in the installation directory, there are only the following files: .env, .gitignore, docker-compose.yaml.  I don't see a theme directory or anything that I expected.  The docker-compose.yaml file has this in it:</p>\n<p>volumes:</p>\n<pre><code>- drupal-data: /var/www/html\n</code></pre>\n<p>It looks like all the files should be in /var/www/html.  The problem is that this directory doesn't exist on my machine.  Can someone point me to where the files should be?</p>\n<p>Tried:</p>\n<ul>\n<li>Looking for /var/www folder on machine.  Does not exist.</li>\n</ul>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 19921985,
                    "reputation": 21,
                    "user_id": 14597595,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/bf4fe02ea2251aac93424bd9dcdcf998?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "devaper",
                    "link": "https://stackoverflow.com/users/14597595/devaper"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1721156534,
                "creation_date": 1721156534,
                "answer_id": 78756314,
                "question_id": 78751966,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I figured it out -- at least to my own satisfaction -- and am adding this note to hopefully help other users.  The code resides in the Docker container of course and you can access it by doing the following:</p>\n<p>(A) From the command line run this command:</p>\n<p>% docker exec -it drupal bash</p>\n<p>Where &quot;drupal&quot; is replaced with the name of your container.  You may have to use &quot;/bin/bash&quot; instead of &quot;bash&quot;.  You will then be able to see the files, open them with nano or vi, etc.</p>\n<p>(B) Use the Docker extension in VS Code:</p>\n<p>Install the docker extension in VS Code (<a href=\"https://code.visualstudio.com/docs/editor/extension-marketplace\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/editor/extension-marketplace</a>).  If docker is running it will automatically pick up the containers and allow you to navigate in the folder structure, add files, etc.</p>\n<p>HTH.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "forms",
            "drupal"
        ],
        "owner": {
            "account_id": 46081,
            "reputation": 1010,
            "user_id": 136055,
            "user_type": "registered",
            "accept_rate": 82,
            "profile_image": "https://www.gravatar.com/avatar/d9037c808c7093c2fdf1b8c63ba4bfe9?s=256&d=identicon&r=PG",
            "display_name": "henrijs",
            "link": "https://stackoverflow.com/users/136055/henrijs"
        },
        "is_answered": true,
        "view_count": 4891,
        "accepted_answer_id": 1729698,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1721140571,
        "creation_date": 1257890635,
        "last_edit_date": 1721140571,
        "question_id": 1711557,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/1711557/drupal-multiple-node-forms-on-one-page",
        "title": "drupal multiple node forms on one page",
        "body": "<p>I have a view that displays several nodes. I want to place node form below each displayed node. Both <code>node_add</code> and <code>drupal_get_form</code> directly in template.php works fine, but I get forms with same form ID of <code>NODETYPE_node_form</code> and validation and submitting does not work as expected.</p>\n\n<p>If you had to put several node forms on one page, what would be your general approach?</p>\n\n<h2>Progress so far...</h2>\n\n<p><strong>in template.php while preprocessing node</strong>\n<em>$author_profile and $content is set before.</em></p>\n\n<pre><code>$unique = $vars['node']-&gt;nid;\n\n$node = new StdClass();\n$node-&gt;uid = $vars['user']-&gt;uid;\n$node-&gt;name = $vars['user']-&gt;name;\n$node-&gt;type = 'review';\n$node-&gt;language = '';\n$node-&gt;title = t('Review of ') . $vars['node']-&gt;realname . t(' by ') . $vars['user']-&gt;realname . t(' on ') . $content-&gt;title;\n$node-&gt;field_review_to_A[0]['nid'] = $nodeA-&gt;nid;\n$node-&gt;field_review_to_B[0]['nid'] = $vars['node']-&gt;nid;\n$node-&gt;field_review_to_profile[0]['nid'] = $author_profile-&gt;nid;\n\nif(!function_exists(\"node_object_prepare\")) {\n    include_once(drupal_get_path('module', 'node') . '/node.pages.inc');\n}\n\n//$vars['A_review_form'] = drupal_get_form('review_node_form', $node);\n$vars['A_review_form'] = mymodule_view($node, $unique);\n</code></pre>\n\n<p><strong>in mymodule module</strong></p>\n\n<pre><code>function mymodule_view($node, $unique) {\n    if(!function_exists(\"node_object_prepare\")) {\n        include_once(drupal_get_path('module', 'node') . '/node.pages.inc');\n    }\n    $output = drupal_get_form('review_node_form_' . $unique, $node);\n    return $output;\n}\n\nfunction mymodule_forms($form_id, $args) {\n    $forms = array();\n    if (strpos($form_id, \"review_node_form_\") === 0) {\n        $forms[$form_id] = array('callback' =&gt; 'node_form');\n    }\n    return $forms;\n}\n\n\nfunction mymodule_form_alter(&amp;$form, $form_state, $form_id) {\n    if (isset($form['type']) &amp;&amp; isset($form['#node']) &amp;&amp; $form_id != $form['type']['#value'] .'_node_form' &amp;&amp; $form['type']['#value'] == 'review') {\n        $type = content_types($form['#node']-&gt;type);\n        if (!empty($type['fields'])) {\n            module_load_include('inc', 'content', 'includes/content.node_form');\n            $form = array_merge($form, content_form($form, $form_state));\n        }\n        $form['#pre_render'][] = 'content_alter_extra_weights';\n        $form['#content_extra_fields'] = $type['extra'];\n\n        //$form['#id'] = $form_id;\n        //$form['#validate'][0] = $form_id . '_validate';\n\n        $form['title']['#type'] = 'value';\n        $form['field_review_to_A']['#type'] = 'value';\n        $form['field_review_to_B']['#type'] = 'value';\n        $form['field_review_to_profile']['#type'] = 'value';\n    }\n}\n</code></pre>\n\n<h2>Questions</h2>\n\n<p>My take on summarizing unclear questions...</p>\n\n<ol>\n<li>Is this good general approach for displaying multiple node forms on same page?</li>\n<li>Is it OK to copy/paste code from <code>content</code> modules <a href=\"http://drupalcontrib.org/api/function/content_form_alter/6\" rel=\"nofollow noreferrer\">content_form_alter</a> function in function <code>mymodule_form_alter</code>? Will it not brake things if <code>content</code> module is updated?</li>\n<li>Should i set <code>$form['#id']</code>? Without it all forms has same HTML form ID of <code>node_form</code>, with it ID is unique, like <code>review_node_form_254</code>. Thing is that there is no difference of how form is submitted. Setting <code>$form['#validate'][0]</code> does not seem to influence things too. Maybe I should set <code>$form[button]['#submit'][0]</code> to something else? Now its <code>node_form_submit</code>.</li>\n<li>Why validation does not work even with unique form id and form validate function? If i submit last form without required field all previous forms gets particular fields red. should I make my own validation function? what level - form or field? Any tips on where to start?</li>\n</ol>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 781077,
                    "reputation": 11,
                    "user_id": 839212,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/6c6887f2e52e32bbb235e96af0409efa?s=256&d=identicon&r=PG",
                    "display_name": "Gareth",
                    "link": "https://stackoverflow.com/users/839212/gareth"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1310399131,
                "creation_date": 1310399131,
                "answer_id": 6652799,
                "question_id": 1711557,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>This was exceptionally useful to me.</p>\n\n<p>Documentation on all the drupal APIs is so lacking - I was tearing my hair out. The crucial bit for me, that I don't think is covered anywhere else on the net:</p>\n\n<p>CCK adds its fields to your form through hook_form_alter() . But it does this based on the form_id. So if the form ID is different (cause you want multiple ones on the same page), you need to replicate a bit of the CCK code to add the fields to your form regardless.</p>\n\n<p>That is what this does brilliantly.</p>\n"
            },
            {
                "owner": {
                    "account_id": 49321,
                    "reputation": 42881,
                    "user_id": 146792,
                    "user_type": "registered",
                    "accept_rate": 88,
                    "profile_image": "https://www.gravatar.com/avatar/d321b6a6a9c8aeb609111c4ceb516e42?s=256&d=identicon&r=PG",
                    "display_name": "mac",
                    "link": "https://stackoverflow.com/users/146792/mac"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1258124875,
                "last_edit_date": 1258124875,
                "creation_date": 1258124001,
                "answer_id": 1729698,
                "question_id": 1711557,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I really did not dig to the bottom of it, but it seems to me that you pretty much did all the relevant digging by yourself.</p>\n\n<p>From what I understand by inspecting the code only, you are right in thinking that <a href=\"http://drupalcontrib.org/api/function/content_form_alter/6\" rel=\"nofollow noreferrer\">content_form_alter()</a> is the show-stopper.</p>\n\n<p>Maybe this is a naÃ¯ve suggestion, but what about writing your own implementation of <a href=\"http://api.drupal.org/api/function/hook_form_alter/6\" rel=\"nofollow noreferrer\">hook_form_alter()</a> starting from the <em>content_form_alter()</em> code but changing the conditions that make the alteration to occur? I am thinking to something along these lines:</p>\n\n<pre><code>function modulename_form_alter(&amp;$form, $form_state, $form_id) {\n  if (isset($form['type']) &amp;&amp; isset($form['#node']) &amp;&amp; \n  stripos($form_id, $form['type']['#value'] .'_node_form')) {\n    ...\n  }\n}\n</code></pre>\n\n<p>I did <strong>not</strong> actually test the code above, but I hope it is self-explenatory: you actually trigger the changes for a give customised type of content if MYCCKTYPE_node_form is a substring of the actual form_id (es: MYCCKTYPE_node_form_234).</p>\n\n<p>Hope this helps at least a bit... Good luck! :)</p>\n\n<p><strong>EDIT: TWO MORE THINGS</strong></p>\n\n<ol>\n<li><p>It just occurred to me that since your custom implementation of hook_form_alter() will live aside the CCK one, you would like to add a check to avoid the form to be modified twice something like:</p>\n\n<p><code>&amp;&amp; $form_id != $form['type']['#value'] .'_node_form'</code></p></li>\n<li><p>The other way you might try to implement this by not using CCK but implementing you custom type programmatically (this might even be an advantage if you plan to use your module on various different sites).</p></li>\n</ol>\n"
            },
            {
                "owner": {
                    "account_id": 19629,
                    "reputation": 19401,
                    "user_id": 46149,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/90e504de545d9e56afb4ea7c5964ca51?s=256&d=identicon&r=PG",
                    "display_name": "Henrik Opel",
                    "link": "https://stackoverflow.com/users/46149/henrik-opel"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1257978986,
                "creation_date": 1257978986,
                "answer_id": 1718567,
                "question_id": 1711557,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You need to implement <a href=\"http://api.drupal.org/api/function/hook_forms/6\" rel=\"nofollow noreferrer\"><code>hook_forms()</code></a> to map different ids to the same builder function.</p>\n\n<p>The <code>NODETYPE_node_form</code> ids you mention are already an example of this mechanism, as they are all mapped to the same builder function (<a href=\"http://api.drupal.org/api/function/node_form/6\" rel=\"nofollow noreferrer\"><code>node_form()</code></a>) within the node modules <a href=\"http://api.drupal.org/api/function/node_forms/6\" rel=\"nofollow noreferrer\"><code>node_forms()</code></a> implementation.</p>\n\n<p>You can find links to more examples in the 'Parameters' explanation off the <a href=\"http://api.drupal.org/api/function/drupal_get_form/6\" rel=\"nofollow noreferrer\"><code>drupal_get_form()</code></a> function.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "ajax",
            "drupal",
            "drupal-7",
            "nodes"
        ],
        "owner": {
            "account_id": 4234710,
            "reputation": 33,
            "user_id": 3466210,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/73a137e0446e216ed07904f6a8b01217?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Inigo Montoya",
            "link": "https://stackoverflow.com/users/3466210/inigo-montoya"
        },
        "is_answered": true,
        "view_count": 786,
        "accepted_answer_id": 22701075,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1721014593,
        "creation_date": 1395870873,
        "last_edit_date": 1721014593,
        "question_id": 22673868,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/22673868/returning-user-input-after-ajax-call-in-drupal-7-hook-form-form-id-alter",
        "title": "Returning user input after AJAX call in Drupal 7 hook_form_FORM_ID_alter",
        "body": "<p>I am using the hook_form_FORM_ID_alter in Drupal 7 to create a custom form so that the user can enter and edit data which is then attached to a custom node type.</p>\n\n<p>For a new node the default number of input boxes in a group is 10, this can then be added to in groups of 5. When the node is reloaded for editing the saved data is used to create the form with whatever number of inputs have been saved previously and also the ability to add more fields in the same manner as required.</p>\n\n<p>I have managed to get both the initial version of the form and the editing version to work using the following code however when the 'add five' button is pressed and the AJAX called (in both cases), any values which have been entered without saving are removed.</p>\n\n<pre><code>&lt;?php \n\n/**\n * Implements hook_form_FORM_ID_alter().\n */\n\nfunction entries_form_form_entries_node_form_alter(&amp;$form, &amp;$form_state, $form_id) {\n\n\n$node = $form['#node'];\n// fieldset\n$form[\"section\"] = array(\n    '#type' =&gt; 'fieldset',\n    '#title'=&gt; 'Section 1',     \n);\n$form[\"section\"][\"termwrapper\"] = array(\n    \"#type\" =&gt; 'container',\n    \"#attributes\" =&gt; array(\n        \"id\" =&gt; 'groupWrapper',\n    ),\n);\n$form[\"section\"][\"termwrapper\"][\"terms\"][\"#tree\"] = TRUE;\nif(!isset($form_state['fired'])){\n    $form_state['terms'] = $node-&gt;entries_form['term'];\n}\n\nforeach ($form_state['terms'] as $key =&gt; $values) {\n    $form[\"section\"][\"termwrapper\"][\"terms\"][$key] = array(\n        '#type' =&gt; 'textfield',\n        '#size' =&gt; 20,\n        '#attributes' =&gt; array(\n            'class' =&gt; array('left'),\n        ),\n    '#value' =&gt; $values,\n    );  \n}\n\n$form['section']['addFive_button'] = array(\n    '#type' =&gt; 'submit',\n    '#value' =&gt; t('+5'),\n    '#submit' =&gt; array('entries_form_add_five_submit'),\n    '#ajax' =&gt; array(\n      'callback' =&gt; 'entries_form_commands_add_callback',\n      'wrapper' =&gt; 'groupWrapper',\n      ),\n    '#prefix' =&gt; \"&lt;div class='clear'&gt;&lt;/div&gt;\",\n);\ndpm($form_state);\n}\n\nfunction entries_form_commands_add_callback($form, $form_state) {\n    return $form[\"section\"][\"termwrapper\"]; \n}\n\nfunction entries_form_add_five_submit($form, &amp;$form_state){\n    $form_state['rebuild'] = TRUE;\n    $form_state['fired'] = 1;\n    $values = $form_state['values'];\n    $form_state['terms'] =  $values['terms'];\n    $numterms = count($values['terms']);\n    $addfivearray = array_fill($numterms,5,'');\n    $form_state['terms'] = array_merge($values['terms'],$addfivearray);\n\n}\n\n\n/**\n * Implements hook_node_submit().\n */\n\nfunction entries_form_node_submit($node, $form, &amp;$form_state) {\n    $values = $form_state['values'];\n    $node-&gt;entries_form['term'] = $values['term'];\n}\n\n/**\n * Implements hook_node_prepare().\n */\nfunction entries_form_node_prepare($node) {\n    if (empty($node-&gt;entries_form)){\n        $node-&gt;entries_form['term'] = array_fill(0, 10, '');\n    }\n}\n\n/**\n * Implements hook_node_load().\n */\nfunction entries_form_node_load($nodes, $types) {\n    if($types[0] == 'entries'){\n        $result = db_query('SELECT * FROM {mytable} WHERE nid IN(:nids)', array(':nids' =&gt; array_keys($nodes)))-&gt;fetchAllAssoc('nid');\n        foreach ($nodes as &amp;$node) {\n            $node-&gt;entries_form['term'] = json_decode($result[$node-&gt;nid]-&gt;term);\n        }\n    }   \n}\n\n/**\n * Implements hook_node_insert().\n */\nfunction entries_form_node_insert($node) {\n  if (isset($node-&gt;entries_form)) {\n    db_insert('mytable')\n      -&gt;fields(array(\n        'nid' =&gt; $node-&gt;nid,\n        'term' =&gt; json_encode($node-&gt;entries_form['term']),\n      ))\n      -&gt;execute();\n  }\n}\n</code></pre>\n\n<p>How can I keep the values which have been typed in and retain the ajax functionality?</p>\n\n<p>Any help or pointers much appreciated. This is my first dip into Drupal so I'm sure there is something which hopefully is quite obvious that I'm missing.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 4234710,
                    "reputation": 33,
                    "user_id": 3466210,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/73a137e0446e216ed07904f6a8b01217?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Inigo Montoya",
                    "link": "https://stackoverflow.com/users/3466210/inigo-montoya"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1395961595,
                "creation_date": 1395961595,
                "answer_id": 22701075,
                "question_id": 22673868,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Ok, I think I finally have the answer.</p>\n\n<p>Within the foreach that builds the form input boxes I had set '#value' => $values, when it seems that '#default_value' => $values, should have been set instead.</p>\n\n<p>The updated section of the code that is now working for me is as follows</p>\n\n<pre><code>foreach ($form_state['terms'] as $key =&gt; $values) {\n        $form[\"section\"][\"termwrapper\"][\"terms\"][$key] = array(\n            '#type' =&gt; 'textfield',\n            '#size' =&gt; 20,\n            '#attributes' =&gt; array(\n                'class' =&gt; array('left'),\n            ),\n        '#default_value' =&gt; $values,\n        );  \n    }\n</code></pre>\n\n<p>Seems to be as simple as that. Hope this helps someone else.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "docker",
            "drupal",
            "ngrok",
            "ddev"
        ],
        "owner": {
            "account_id": 6932802,
            "reputation": 117,
            "user_id": 5321788,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/e1e8efed962a7243ee48308b60718552?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Andrea",
            "link": "https://stackoverflow.com/users/5321788/andrea"
        },
        "is_answered": true,
        "view_count": 173,
        "accepted_answer_id": 78744731,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1720897373,
        "creation_date": 1720601099,
        "last_edit_date": 1720897373,
        "question_id": 78729503,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78729503/drupal-10-multisite-using-ddev-share-or-cloudflare",
        "title": "Drupal 10 multisite using &quot;ddev share&quot; or Cloudflare",
        "body": "<p>I need to share my local version of Drupal 10 multisite using &quot;ddev share&quot;.</p>\n<p>When I run the command ddev share, it only shows me the &quot;default&quot; version of the site (path web/sites/default), but I don't know how to access the other site (web/sites/stage).</p>\n<p>If it might be helpful, I am using Windows WSL2 with Docker and DDEV installed.</p>\n<p>This is the content of my .ddev/config.yaml:</p>\n<pre><code>name: mydrupal.local\ntype: drupal10\ndocroot: &quot;&quot;\nphp_version: &quot;8.1&quot;\nwebserver_type: nginx-fpm\nrouter_http_port: &quot;80&quot;\nrouter_https_port: &quot;443&quot;\nxdebug_enabled: false\nadditional_hostnames: []\nadditional_fqdns: []\ndatabase:\n  type: mariadb\n  version: &quot;10.3&quot;\nnfs_mount_enabled: false\nmutagen_enabled: false\nuse_dns_when_possible: true\ncomposer_version: &quot;2&quot;\nweb_environment: []\nnodejs_version: &quot;16&quot;\n</code></pre>\n<p>This is the content of drush/sites/self.site.yml:</p>\n<pre><code>public:\n  uri: https://mydrupal.local.ddev.site\nstage:\n  uri: https://stage.ddev.site\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 75176,
                    "reputation": 12110,
                    "user_id": 215713,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/eaa4a82dca6b5d2d0b58e784231caf3a?s=256&d=identicon&r=PG",
                    "display_name": "rfay",
                    "link": "https://stackoverflow.com/users/215713/rfay"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1720897323,
                "creation_date": 1720897323,
                "answer_id": 78744731,
                "question_id": 78729503,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>The problem here ends up being that Drupal routes to subsites in a multisite using the <code>Host</code> header usually (can also use port and path). So if we try to trick it by changing the <code>Host</code> header, it tricks us back to using the wrong cookies, and eventually redirecting to the wrong site.</p>\n<p>I'll show how to do this with a Drupal 10 multisite and <code>ddev share</code> or with <code>cloudflared</code>. They both work, and work for the same reasons. For each, you have to add a line to your <code>sites.php</code> that directs to the correct subsite. For example, <code>$sites['my-free-ngrok-domain.ngrok-free.app'] = 'subsite';</code>, where <code>my-free-ngrok-domain.ngrok-free.app</code> is the hostname in the URL that ngrok or Cloudflare gives you.</p>\n<h2><code>ddev share</code> (ngrok)</h2>\n<ol>\n<li><code>ddev share</code></li>\n<li>Add the hostname of the URL to your <code>$sites</code> array as described above.</li>\n<li>Use the subsite.</li>\n</ol>\n<p>This can be a lot easier if you use a free static hostname. I have this in my project configuration:</p>\n<p><code>ngrok_args: --domain=my-free-ngrok-domain.ngrok-free.app</code></p>\n<p>With this setup, you can set up the <code>sites</code> array once and it will work. I'm sure if you pay ngrok more than &quot;free&quot;, you can also get separate domains for each subsite and each project.</p>\n<h2>Cloudflare with <code>cloudflared</code></h2>\n<p>I was able to make this work with a free Cloudflare tunnel, but it was a little more awkward than desired.</p>\n<p>(You do not need a Cloudflare account for this, you just need the <code>cloudflared</code> tool, which is available via <code>brew install cloudflared</code> on systems with Homebrew, or <a href=\"https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/get-started/create-local-tunnel/\" rel=\"nofollow noreferrer\">other installation techniques</a> (only installation of <code>cloudflared</code> is required, nothing else, no authentication, nothing.)</p>\n<p>Here's what I did:</p>\n<ol>\n<li>Find out the port that ddev-webserver is serving direct http on. This is the <code>http://127.0.0.1</code> URL typically listed under &quot;All URLs&quot; in <code>ddev describe</code>. In my case, it's <code>http://127.0.0.1:32796</code> (This is also what <code>ddev share</code> would have used.</li>\n<li>Run a free cloudflare tunnel using that URL (WITHOUT <code>--http-header</code>). <code>cloudflared tunnel --url http://127.0.0.1:32796</code> in my case. This will give a URL that you can visit, and it will by default go to the <code>default</code> Drupal site in your multisite.</li>\n<li>Grab the hostname that cloudflare has provided for its proxy URL. In my case, the proxy was <code>https://chairman-spot-cisco-calendars.trycloudflare.com</code>, so I want the hostname <code>chairman-spot-cisco-calendars.trycloudflare.com</code>.</li>\n<li>Now the ugly part: In your <code>sites/sites.php</code> add a <code>site</code> for this hostname. In my case that was <code>$sites['chairman-spot-cisco-calendars.trycloudflare.com'] = 'subsite';</code></li>\n</ol>\n<p>This works perfectly for me in a trivial Drupal 10 multisite. And it makes sense that it does, because Drupal's routing of multisites is, by default, based on the Host header. So that's the reason we couldn't fool it by changing the Host header. When we did, it gets the first page fine, but after that things go wrong; cookies are set wrong, redirects are wrong.</p>\n<p>I'm sure you can set up a preconfigured Cloudflared tunnel (requires authentication to an account that controls a domain's DNS which can be used), which could have a static hostname, which would make this process easier.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal"
        ],
        "owner": {
            "account_id": 694065,
            "reputation": 15,
            "user_id": 571031,
            "user_type": "unregistered",
            "profile_image": "https://www.gravatar.com/avatar/a69ae3e7d0277ee982fcd653e5e76a3e?s=256&d=identicon&r=PG",
            "display_name": "rajanikant",
            "link": "https://stackoverflow.com/users/571031/rajanikant"
        },
        "is_answered": false,
        "view_count": 3282,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1720507095,
        "creation_date": 1294982858,
        "last_edit_date": 1720507095,
        "question_id": 4688241,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/4688241/integration-of-paypal-on-drupal-site",
        "title": "integration of paypal on drupal site",
        "body": "<p>hi every on\nI have created  paypal integration while registering i.e. paid registration.\nmy code is following  in module</p>\n\n<pre><code>function paidregistration_user($op, &amp;$edit, &amp;$account, $category = NULL){\n\n                switch ($op) {\n        case 'validate': {\n\n                                $paypal = array();\n                                $paypal['cmd'] = '_xclick';\n                                $paypal['business'] = 'sachin.acetechpvtltd@gmail.com';  // doing this here prevents email harvesting\n                                $paypal['page_style'] = 'Primary';\n                                $paypal['bn'] = 'PP-DonationsBF';\n                                $paypal['item_name'] = 'Donation';\n                                $paypal['amount'] = '200';\n                                $paypal['currency_code'] = 'USD';\n                                $paypal['no_shipping'] = '1';\n                                $paypal['tax'] = '0';\n                                $paypal['lc'] = 'US';\n                                $paypal['rm'] = '1';\n                                $paypal['return'] = 'http://localhost/drupaldemo/pay';\n                                $paypal['cancel_return'] = 'http://localhost/drupaldemo/user/register';\n\n                                // Append the Paypal data to the $form_values['submitted_tree']\n                                $data = array_merge($edit, $paypal);\n\n                                // Put the data in a query string\n                                $query = http_build_query($data, '', '&amp;');\n\n                                // Set the URL to Paypal's processing site and append the query string\n                                $url = 'https://www.sandbox.paypal.com/cgi-bin/webscr?' .$query;\n                                drupal_goto($url);\n                                print_r($_REQUEST);\n                                // Set the webform's confirmation page to Paypal\n                                //$node-&gt;webform['confirmation'] = $url;\n\n             //drupal_goto();exit;\n                             }\n            case 'insert' :{\n                            print_r($_REQUEST);\n                            }\n             }\n}\n</code></pre>\n\n<p>and for success return page </p>\n\n<pre><code>function imagemenu_menu()\n{\n    $items['imagemenu'] = array(\n    'title' =&gt; 'Add Image',\n    'type' =&gt; MENU_NORMAL_ITEM,\n    );\n\n    $items['pay'] = array(\n        'title' =&gt; 'Add Image',\n        'access arguments' =&gt; array('all'),\n        'page callback' =&gt; 'pay',\n        'type' =&gt; MENU_NORMAL_ITEM,\n    );\n\nreturn $items;\n}\n\n\n\n\n\nfunction imagemenu_perm()\n{\n    return array('all');\n}\n\nfunction pay()\n{\n    print_r($_REQUEST);\n}\n</code></pre>\n\n<p>here every thing is working fine  but does not display data returned  from paypal.</p>\n\n<p>any help will be appriciated\nThanks</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 282434,
                    "reputation": 1702,
                    "user_id": 579325,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/c4d51a9af409d35c3ab9a00a966b46af?s=256&d=identicon&r=PG",
                    "display_name": "tkrajcar",
                    "link": "https://stackoverflow.com/users/579325/tkrajcar"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1295389816,
                "creation_date": 1295389816,
                "answer_id": 4729800,
                "question_id": 4688241,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Why not just use the existing <a href=\"http://drupal.org/project/paypal\" rel=\"nofollow\">PayPal module</a> for Drupal? You're re-inventing the wheel here.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-7",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 1629811,
            "reputation": 1664,
            "user_id": 1504611,
            "user_type": "registered",
            "accept_rate": 68,
            "profile_image": "https://i.sstatic.net/BEZui.jpg?s=256",
            "display_name": "Wally Kolcz",
            "link": "https://stackoverflow.com/users/1504611/wally-kolcz"
        },
        "is_answered": true,
        "view_count": 1243,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1720407687,
        "creation_date": 1566820148,
        "last_edit_date": 1720407687,
        "question_id": 57657374,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/57657374/drupal-7-how-to-send-html-email",
        "title": "Drupal 7: How to send HTML Email",
        "body": "<p>Could someone tell me what i am missing to send an HTML email using Drupal's function? Here is my call:</p>\n\n<pre><code>try{\n        drupal_mail('my_module', 'forgot', $node-&gt;field_email_address['und'][0]['value'], language_default(), array('reset_key' =&gt; $key),'do-not-reply@myemailaddress.com');\n      }catch(Exception $e){\n        print_r($e-&gt;getMessage());die();\n      }\n</code></pre>\n\n<p>And here is the function:</p>\n\n<pre><code>function my_module_mail($key, &amp;$message, $params) {\n\n  $body = '&lt;p&gt;Click the link below to reset your password.&lt;/p&gt;\n  &lt;p&gt;&lt;a href=\"http://mywebsite.com/reset/'.$params['reset_key'].'\"&gt;Click this link to reset your password&lt;/a&gt;&lt;/p&gt;\n';\n\n//  $headers = array(\n//    'MIME-Version' =&gt; '1.0',\n//    'Content-Type' =&gt; 'text/html; charset=UTF-8; format=flowed',\n//    'Content-Transfer-Encoding' =&gt; '8Bit',\n//    'X-Mailer' =&gt; 'Drupal'\n//  );\n//  $message['headers'] = $headers;\n  $message['subject'] = 'Why wont this send html??';\n  $message['headers']['Content-Type'] = 'text/html; charset=UTF-8;';\n  $message['body'][] = $body;\n  $message['from'] = 'do-not-reply@myemailaddress.com';\n\n}\n</code></pre>\n\n<p>I tired just the html header and the full set that is commented out. What am I missing? The email sends fine but it's plain text. Thanks and let me know!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 370415,
                    "reputation": 1475,
                    "user_id": 718332,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/ed1083663e91d08da7566c539d1aae17?s=256&d=identicon&r=PG",
                    "display_name": "klidifia",
                    "link": "https://stackoverflow.com/users/718332/klidifia"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1589259665,
                "creation_date": 1589259665,
                "answer_id": 61744169,
                "question_id": 57657374,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>A few things need to be done:</p>\n\n<pre><code>/**\n * Class SomeCustomModuleMailSystem Implements MailSystemInterface.\n *\n * Used to enable HTML email to be sent.\n */\nclass SomeCustomModuleMailSystem extends DefaultMailSystem {\n  public function format(array $message) {\n    $message['body'] = implode(\"\\n\\n\", $message['body']);\n    $message['body'] = drupal_wrap_mail($message['body']);\n    return $message;\n  }\n}\n</code></pre>\n\n<p>This to be done one time, so probably in a hook_enable or hook_update:</p>\n\n<pre><code>  $current = variable_get('mail_system', ['default-system' =&gt; 'DefaultMailSystem']);\n  $addition = ['some_custom_module' =&gt; 'SomeCustomModuleMailSystem'];\n  variable_set('mail_system', array_merge($current, $addition));\n</code></pre>\n\n<p>Invoke hook_mail as normal, e.g.</p>\n\n<pre><code>/**\n * Implements hook_mail().\n */\nfunction some_custom_module_mail($key, &amp;$message, $params) {\n  switch ($key) {\n    case 'some_mail_key':\n    $message['headers']['Content-Type'] = 'text/html; charset=UTF-8;';\n    $message['subject'] = $params['subject'];\n    $message['body'][] = $params['body'];\n    break;\n  }\n}\n</code></pre>\n\n<p>Finally call it with something like this:</p>\n\n<pre><code>  // Set variables required for the email.\n  $module = 'some_custom_module';\n  $key = 'some_mail_key';\n  $to = $email = 'thetoaddress@something.com';\n  $language = language_default();\n  $params['subject'] = 'Email subject';\n  $params['body'] = '&lt;html&gt;&lt;body&gt;The HTML!&lt;/body&gt;&lt;/html&gt;';\n  $from = 'thefromaddress@something.com';\n  $send = TRUE;\n\n  // Send the mail and log the result.\n  $result = drupal_mail($module, $key, $to, $language, $params, $from, $send);\n  if ($result['result'] === TRUE) {\n    watchdog('some_custom_module', 'HTML email successfully sent.', [], WATCHDOG_INFO);\n  }\n  else {\n    watchdog('some_custom_module', 'HTML email failed to send', [], WATCHDOG_ERROR);\n  }\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 6914108,
                    "reputation": 2173,
                    "user_id": 5309012,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/M6Qfu.png?s=256",
                    "display_name": "Fky",
                    "link": "https://stackoverflow.com/users/5309012/fky"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1566916701,
                "creation_date": 1566916701,
                "answer_id": 57677081,
                "question_id": 57657374,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can use this function     </p>\n\n<pre><code>function my_module_custom_drupal_mail($target = NULL, $from = null, $subject, $message, $attachment = NULL){\n      $my_module = 'my_module';\n      $my_mail_token = microtime();\n      $message = array(\n        'id'      =&gt; $my_module . '_' . $my_mail_token,\n        'to'      =&gt; $target,\n        'subject' =&gt; $subject,\n        'body'    =&gt; array($message),\n        'module'  =&gt; $my_module,\n        'key'     =&gt; $my_mail_token,\n        'from'    =&gt; \"$from &lt;email@email.com&gt;\",\n        'headers' =&gt; array(\n          'From'        =&gt; \"$from &lt;email@email.com&gt;\",\n          'Sender'      =&gt; \"$from &lt;email@email.com&gt;\",\n          'Return-Path' =&gt; \"$from &lt;email@email.com&gt;\",\n          'Content-Type' =&gt; 'text/html; charset=utf-8'\n        ),\n      );\n      if ($attachment) {\n        $file_content = file_get_contents($attachment[0]);\n        $message['params']['attachments'][] = array(\n          'filecontent' =&gt; $file_content,\n          'filename'    =&gt; $attachment[1],\n          'filemime'    =&gt; $attachment[2],\n        );\n      }\n      $system = drupal_mail_system($my_module, $my_mail_token);\n      $message = $system-&gt;format($message);\n\n      if ($system-&gt;mail($message)) {\n        return TRUE;\n      }\n      else {\n        return FALSE;\n      }\n    }\n</code></pre>\n\n<p>AND call it like : </p>\n\n<pre><code>$body = '&lt;p&gt;Click the link below to reset your password.&lt;/p&gt;\n  &lt;p&gt;&lt;a href=\"http://mywebsite.com/reset/'.$params['reset_key'].'\"&gt;Click this link to reset your password&lt;/a&gt;&lt;/p&gt;\n';\n\n$subject  ='Why wont this send html??';\n$from = 'myemail@email.com';\n\n$sent = my_module_custom_drupal_mail($node-&gt;field_email_address['und'][0]['value'], $from, $subject, $body); \n</code></pre>\n\n<p>Customize it like you want ! :)</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "mysql",
            "apache",
            ".htaccess",
            "drupal"
        ],
        "owner": {
            "account_id": 1091182,
            "reputation": 21,
            "user_id": 1684851,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/868a2eca79d8e3e5cb7741140ae7a005?s=256&d=identicon&r=PG",
            "display_name": "uttam kumar",
            "link": "https://stackoverflow.com/users/1684851/uttam-kumar"
        },
        "is_answered": false,
        "view_count": 12178,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1720249510,
        "creation_date": 1348120311,
        "last_edit_date": 1348144148,
        "question_id": 12506753,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/12506753/drupal-not-found-the-requested-url-was-not-found-on-this-server",
        "title": "drupal Not Found The requested url was not found on this server",
        "body": "<p>I have been stuck in a strange situation from past two days. I have a drupal installation in my <code>/var/www/html</code> document root directory with a name of drupal and I am accessing it with the url 'http://domainname/drupal'. It is opening fine. In <code>settings.php</code> of <code>drupal/sites/default</code> directory I have set <code>$base_url</code> as <code>http://domainname/drupal</code>. In the same directory <code>/var/www/html</code> I have created the copy of drupal with a name of <code>drupalsix</code>. I exported the database of the project drupal &amp; created a new database and associated <code>drupalsix</code> with it. I changed the required <code>$db_url</code> settings in <code>settings.php</code>of <code>drupalsix/sites/default/settings.php</code> file. I also changed the <code>$base_url</code> variable to <code>http://domainname/drupalsix</code>. when I try to open the url <code>http://domainname/drupalsix</code> it is not opening &amp; a message <code>Not Found The requested url was not found on this server</code> is getting displayed. I have copied the <code>.htaccess</code> file from drupal to drupalsix directory correctly &amp; the <code>clean url</code> is also disabled. In my <code>httpd.conf</code> file I have <code>AllowOverride All</code> for both drupal &amp; drupal six as shown below:-</p>\n\n<pre><code>&lt;Directory /var/www/html/drupal&gt;\n    AllowOverride All\n&lt;/Directory&gt;   \nAccessFileName .htaccess\n\n&lt;Directory /var/www/html/drupalsix&gt;\n    AllowOverride All\n&lt;/Directory&gt;\nAccessFileName .htaccess \n</code></pre>\n\n<p>I am also attaching the .htaccess file here for reference. Please help me becouse I am not finding what is wrong in my set up. For drupal everything is openining fine but for drupalsix it is showing not found. My operating system is cent os linux. Thanks in advance\nhere is my .htaccess file</p>\n\n<pre><code>#\n# Apache/PHP/Drupal settings:\n#\n\n# Protect files and directories from prying eyes.\n&lt;FilesMatch \"\\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\\.php)?|xtmpl|svn-base)$|^(code-style\\.pl|Entries.*|Repository|Root|Tag|Template|all-wcprops|entries|format)$\"&gt;\n  Order allow,deny\n&lt;/FilesMatch&gt;\n\n# Don't show directory listings for URLs which map to a directory.\nOptions -Indexes\n\n# Follow symbolic links in this directory.\nOptions +FollowSymLinks\n\n# Make Drupal handle any 404 errors.\nErrorDocument 404 /index.php\n\n# Force simple error message for requests for non-existent favicon.ico.\n&lt;Files favicon.ico&gt;\n  # There is no end quote below, for compatibility with Apache 1.3.\n  ErrorDocument 404 \"The requested file favicon.ico was not found.\n&lt;/Files&gt;\n\n# Set the default handler.\nDirectoryIndex index.php kjsfgbvytuilwecftuwel\n\n# Override PHP settings. More in sites/default/settings.php\n# but the following cannot be changed at runtime.\n\n# PHP 4, Apache 1.\n&lt;IfModule mod_php4.c&gt;\n  php_value magic_quotes_gpc                \n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# PHP 4, Apache 2.\n&lt;IfModule sapi_apache2.c&gt;\n  php_value magic_quotes_gpc                0\n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# PHP 5, Apache 1 and 2.\n&lt;IfModule mod_php5.c&gt;\n  php_value magic_quotes_gpc                0\n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# Requires mod_expires to be enabled.\n&lt;IfModule mod_expires.c&gt;\n  # Enable expirations.\n  ExpiresActive On\n\n  # Cache all files for 2 weeks after access (A).\n  ExpiresDefault A1209600\n\n  &lt;FilesMatch \\.php$&gt;\n    # Do not allow PHP scripts to be cached unless they explicitly send cache\n    # headers themselves. Otherwise all scripts would have to overwrite the\n    # headers set by mod_expires if they want another caching behavior. This may\n    # fail if an error occurs early in the bootstrap process, and it may cause\n    # problems if a non-Drupal PHP file is installed in a subdirectory.\n    ExpiresActive Off\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n# Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # If your site can be accessed both with and without the 'www.' prefix, you\n  # can use one of the following settings to redirect users to your preferred\n  # URL, either WITH or WITHOUT the 'www.' prefix. Choose ONLY one option:\n  #\n  # To redirect all users to access the site WITH the 'www.' prefix,\n  # (http://example.com/... will be redirected to http://www.example.com/...)\n  # adapt and uncomment the following:\n  # RewriteCond %{HTTP_HOST} ^example\\.com$ [NC]\n  # RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\n  #\n  # To redirect all users to access the site WITHOUT the 'www.' prefix,\n  # (http://www.example.com/... will be redirected to http://example.com/...)\n  # uncomment and adapt the following:\n  # RewriteCond %{HTTP_HOST} ^www\\.example\\.com$ [NC]\n  # RewriteRule ^(.*)$ http://example.com/$1 [L,R=301]\n\n  # Modify the RewriteBase if you are using Drupal in a subdirectory or in a\n  # VirtualDocumentRoot and the rewrite rules are not working properly.\n  # For example if your site is at http://example.com/drupal uncomment and\n  # modify the following line:\n  # RewriteBase /drupal\n  #\n  # If your site is running in a VirtualDocumentRoot at http://example.com/,\n  # uncomment the following line:\n  # RewriteBase /\n\n  # Rewrite URLs of the form 'x' to the form 'index.php?q=x'.\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n&lt;/IfModule&gt;\n\n# $Id$\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 428679,
                    "reputation": 115,
                    "user_id": 811164,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/30158239e5728b9902cc9cd13ff4f959?s=256&d=identicon&r=PG",
                    "display_name": "izus",
                    "link": "https://stackoverflow.com/users/811164/izus"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1634053942,
                "creation_date": 1634053942,
                "answer_id": 69543549,
                "question_id": 12506753,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>in my case, i was missing &quot;AllowOverride All&quot; from apache configuration file</p>\n"
            },
            {
                "owner": {
                    "account_id": 1164039,
                    "reputation": 6851,
                    "user_id": 1143013,
                    "user_type": "registered",
                    "accept_rate": 77,
                    "profile_image": "https://www.gravatar.com/avatar/18b2043f1470f68ff6e223e7f48c0cd7?s=256&d=identicon&r=PG",
                    "display_name": "raam86",
                    "link": "https://stackoverflow.com/users/1143013/raam86"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1348136089,
                "last_edit_date": 1592644375,
                "creation_date": 1348136089,
                "answer_id": 12510513,
                "question_id": 12506753,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I am pretty sure <a href=\"http://drupal.org/node/43816\" rel=\"nofollow noreferrer\">this</a> is the best way to do it</p>\n<p>It's a page from drupal with many tutorials on multi-site drupal</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-7"
        ],
        "owner": {
            "account_id": 788881,
            "reputation": 1,
            "user_id": 888366,
            "user_type": "unregistered",
            "profile_image": "https://www.gravatar.com/avatar/3a7ee1e5fe4597f2d8f4cd04e0f9a1fa?s=256&d=identicon&r=PG",
            "display_name": "Aman",
            "link": "https://stackoverflow.com/users/888366/aman"
        },
        "is_answered": true,
        "view_count": 714,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1720152353,
        "creation_date": 1312994792,
        "last_edit_date": 1720152353,
        "question_id": 7014591,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/7014591/how-can-user-1-or-super-admin-be-excluded-in-search-results-in-drupal-7",
        "title": "How can user 1 or super admin be excluded in search results in Drupal 7?",
        "body": "<p>I'm looking for a way to exclude the admin user or user 1 from user search results in drupal 7. </p>\n\n<p>I want this to not show up for security reasons. </p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1824364,
                    "reputation": 21,
                    "user_id": 1657583,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/31f85cd6b5a6bbb432e202058d1897af?s=256&d=identicon&r=PG",
                    "display_name": "ChaosLogic",
                    "link": "https://stackoverflow.com/users/1657583/chaoslogic"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1347159523,
                "creation_date": 1347159523,
                "answer_id": 12336182,
                "question_id": 7014591,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>If you build a custom search using Views, you can set the filter(s) to only show users with certain roles.  Do not expose the filter to users.  If User 1 has the \"administrator\" role and everyone else has another (non-administrator) role, when you apply the filter, only non-administrator accounts will show up when a search is run.</p>\n"
            },
            {
                "owner": {
                    "account_id": 402212,
                    "reputation": 26307,
                    "user_id": 769237,
                    "user_type": "registered",
                    "accept_rate": 79,
                    "profile_image": "https://www.gravatar.com/avatar/7b3d8caf772153bfa162ab2580ad5cbf?s=256&d=identicon&r=PG",
                    "display_name": "Ben Swinburne",
                    "link": "https://stackoverflow.com/users/769237/ben-swinburne"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1322355085,
                "creation_date": 1322355085,
                "answer_id": 8282846,
                "question_id": 7014591,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>You can implement <a href=\"http://api.drupal.org/api/drupal/modules--search--search.pages.inc/function/template_preprocess_search_result/7\" rel=\"nofollow\">hook_preprocess_search_result()</a> by inserting the following into template.php. Note you'll have to clear the Drupal cache to enable this function in Configuration -> Performance -> Clear Cache</p>\n\n<pre><code>function &lt;themename&gt;_preprocess_search_result(&amp;$variables) {\n  global $language;\n\n  $display_result = true;\n\n  if( $variables['module'] == 'user' ) {\n    if( $variables['user']-&gt;uid == 1 || $variables['id'] == 1 ) {\n      $display_result = false;\n      $variables = array();\n    }\n  }\n\n  if( $display_result ) {\n      $result = $variables['result'];\n      $variables['url'] = check_url($result['link']);\n      $variables['title'] = check_plain($result['title']);\n      if (isset($result['language']) &amp;&amp; $result['language'] != $language-&gt;language &amp;&amp; $result['language'] != LANGUAGE_NONE) {\n        $variables['title_attributes_array']['xml:lang'] = $result['language'];\n        $variables['content_attributes_array']['xml:lang'] = $result['language'];\n      }\n\n      $info = array();\n      if (!empty($result['module'])) {\n        $info['module'] = check_plain($result['module']);\n      }\n      if (!empty($result['user'])) {\n        $info['user'] = $result['user'];\n      }\n      if (!empty($result['date'])) {\n        $info['date'] = format_date($result['date'], 'short');\n      }\n      if (isset($result['extra']) &amp;&amp; is_array($result['extra'])) {\n        $info = array_merge($info, $result['extra']);\n      }\n      // Check for existence. User search does not include snippets.\n      $variables['snippet'] = isset($result['snippet']) ? $result['snippet'] : '';\n      // Provide separated and grouped meta information..\n      $variables['info_split'] = $info;\n      $variables['info'] = implode(' - ', $info);\n      $variables['theme_hook_suggestions'][] = 'search_result__' . $variables['module'];\n  }\n}\n</code></pre>\n\n<p>Another way to do it would be <a href=\"http://api.drupal.org/api/drupal/modules--search--search-result.tpl.php/7\" rel=\"nofollow\">search-result.tpl.php</a> and check the <code>$info_split</code> array to check if the search result was user one and not display any output.</p>\n\n<p>Don't forget that you'll need to also prevent users from visiting site.com/user/1 as they'll be able to get just as much information from this page.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "form-api"
        ],
        "owner": {
            "account_id": 456065,
            "reputation": 65,
            "user_id": 854636,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://www.gravatar.com/avatar/a5d6b08cd6d2714d703e3425f794ecbc?s=256&d=identicon&r=PG",
            "display_name": "Xaq",
            "link": "https://stackoverflow.com/users/854636/xaq"
        },
        "is_answered": false,
        "view_count": 4229,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1720152343,
        "creation_date": 1322683313,
        "last_edit_date": 1720152343,
        "question_id": 8332203,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/8332203/how-do-i-keep-a-drupal-form-markup-element-from-rendering-inside-the-wrapper-o",
        "title": "How do I keep a Drupal form &quot;markup&quot; element from rendering inside the wrapper of the &quot;submit&quot; element?",
        "body": "<p>I have programatically added a \"markup\" element to a Drupal form. When it renders on the page, the element appears in the wrapper for the submit button. <strong>Clarification: It <em>should</em> appear between the 'field_school_name_value' element and the 'distance' element.</strong> I have set the weights of every element in hopes that that would force the layout to be right, but it doesn't seems to help. What am I doing wrong?</p>\n\n<pre><code>&lt;?php\nfunction abq_misc_form_alter(&amp;$form, &amp;$form_state, $form_id) {\n  if ($form_id == 'views_exposed_form') {\n    $state_select = array(\n      '#attributes' =&gt; array(\n        'style' =&gt; 'width:10em;',\n      ),\n      '#default_value' =&gt; 'All',\n      '#multiple' =&gt; FALSE,\n      '#options' =&gt; array_merge(array('All' =&gt; 'State'), location_get_provinces()),\n      '#title' =&gt; NULL,\n      '#type' =&gt; 'select',\n      '#weight' =&gt; 0,\n    );\n    $form['province'] = $state_select;\n\n    $school = &amp;$form['field_school_name_value'];\n    $school['#attributes'] = array(\n      'size' =&gt; 15,\n    );\n    $school['#weight'] = 1;\n\n    // THIS GUY\n    $form['divider'] = array(\n      '#type' =&gt; 'item',\n      '#markup' =&gt; '&lt;div&gt;&amp;ndash;or&amp;ndash;&lt;/div&gt;',\n      '#weight' =&gt; 2,\n    );\n\n    $form['distance']['#weight'] = 3;\n\n    $search_distance = &amp;$form['distance']['search_distance'];\n    $search_distance['#attributes'] = array(\n      'placeholder' =&gt; 'miles',\n      'size' =&gt; '5',\n    );\n    $search_distance['#prefix'] = 'Within';\n    $search_distance['#suffix'] = 'of';\n    unset($search_distance['#title']);\n    $search_distance['#weight'] = 0;\n\n    $postal_code = &amp;$form['distance']['postal_code'];\n    unset($postal_code['#title']);\n    $postal_code['#attributes'] = array(\n      'placeholder' =&gt; 'Zip Code',\n      'size' =&gt; '5',\n    );\n    $postal_code['#weight'] = 1;\n\n    hide($form['distance']['search_units']);\n\n    $form['submit']['#weight'] = 4;\n }\n</code></pre>\n\n<p>}</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1005169,
                    "reputation": 105,
                    "user_id": 1019136,
                    "user_type": "registered",
                    "accept_rate": 57,
                    "profile_image": "https://www.gravatar.com/avatar/f6e800b9b06b18f438dd84ce3a17bff3?s=256&d=identicon&r=PG",
                    "display_name": "danyg",
                    "link": "https://stackoverflow.com/users/1019136/danyg"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1541507100,
                "creation_date": 1541507100,
                "answer_id": 53171856,
                "question_id": 8332203,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Although this is an almost 7 years old issue, I just run this problem. \nHere is the solution: <a href=\"https://www.drupal.org/project/views/issues/2070533\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/views/issues/2070533</a></p>\n\n<p>First, you should declare your markup in your form_alter hook but the '#printed' key must be declared in your defining array. Then you should implement the template_preprocess_views_exposed_form() function in your module or in theme. Here you can render the required form element by drupal_render and add it to $variables. And finally you can print out the variable in the theme (as custom variable or among widgets).\nBut the simpliest version: clone the views-exposed-form.tpl.php to the template directory of your theme, name it as is suggested (eg. views-exposed-form--news.tpl.php) and print your linebreak where you want.</p>\n"
            },
            {
                "owner": {
                    "account_id": 542100,
                    "reputation": 36934,
                    "user_id": 830680,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/1055182f84974a5990d07097e94279ed?s=256&d=identicon&r=PG",
                    "display_name": "Clive",
                    "link": "https://stackoverflow.com/users/830680/clive"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1322766342,
                "last_edit_date": 1322766342,
                "creation_date": 1322694150,
                "answer_id": 8334267,
                "question_id": 8332203,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I'm not sure why that's happening, there's no good reason for your element to be rendered inside the wrapper for the submit button.</p>\n\n<p>An easy fix, though, would be to use the <code>#prefix</code> attribute on the submit button which would guarantee that your markup was rendered immediately before the wrapper for the submit button:</p>\n\n<pre><code>$form['submit']['#prefix'] = '&lt;div&gt;&amp;ndash;or&amp;ndash;&lt;/div&gt;';\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Just to address your edit, I think the same solution can apply if you set the <code>#prefix</code> of the <code>distance</code> element instead:</p>\n\n<pre><code>$form['distance']['#prefix'] = '&lt;div&gt;&amp;ndash;or&amp;ndash;&lt;/div&gt;';\n</code></pre>\n\n<p>It's possible that there's some extra formatting done by another module that implements <code>hook_form_alter</code> which happens to run after yours, messing up your good work. By applying the prefix to the <code>distance</code> element you'll be ensuring it comes immediately before the <code>field_school_name_value</code> element.</p>\n\n<p>I should mention that I've had problems with exactly this when taking a reference to an array member of the provided <code>$form</code> (which you're doing with <code>$school = &amp;$form['field_school_name_value'];</code>). As an extra sanity check I'd recommend changing that bit of code to this and see if it helps (try this before the other suggestion above as it might just fix it):</p>\n\n<pre><code>$form['field_school_name_value']['#attributes'] = array('size' =&gt; 15);\n$form['field_school_name_value']['#weight'] = 1;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>$school = &amp;$form['field_school_name_value'];\n$school['#attributes'] = array(\n  'size' =&gt; 15,\n);\n$school['#weight'] = 1;\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "menu",
            "internationalization"
        ],
        "owner": {
            "account_id": 1559483,
            "reputation": 10176,
            "user_id": 1449710,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://www.gravatar.com/avatar/6d237e0e539ec63f8c6759f6bdb399ac?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Alex",
            "link": "https://stackoverflow.com/users/1449710/alex"
        },
        "is_answered": true,
        "view_count": 2108,
        "accepted_answer_id": 12596552,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1720048591,
        "creation_date": 1348568240,
        "last_edit_date": 1720048591,
        "question_id": 12580861,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/12580861/printing-a-custom-menu-in-page-tpl-php-in-drupal-7-shows-all-nodes-in-all-langua",
        "title": "Printing a custom menu in page.tpl.php in drupal 7 shows all nodes in all languages instead of only the current language",
        "body": "<p>I am using the i18n module for drupal and I have two languages (eng and chinese). I have a main menu and a custom menu (contact menu) and a menu combining both. ALL menus are not in regions but are printed via page.tpl.</p>\n\n<p><strong>When I am on a node from the main menu and click on \"chinese\", the translated node is being shown and the main menu now only contains all the chinese node links - perfect!</strong></p>\n\n<p>Actually, the custom menu works the same, BUT only if I allocate it to a region. I have to print this menu via php code in my page.tpl - but then ALL nodes from this menu, english AND chinese, are printed. When I put the menu into a region though, only the current language's nodes are shown.</p>\n\n<p><strong>How can I render a custom menu to only show nodes in the current language?</strong></p>\n\n<p>Heres the php code (I am using/ writing a ZEN subtheme)</p>\n\n<pre><code>if ($main_menu): ?&gt;\n                &lt;nav id=\"main-menu\" role=\"navigation\"&gt;  \n                    &lt;?php print theme(\n                        'links__system_main_menu', array(\n                            'links' =&gt; $main_menu,\n                            'attributes' =&gt; array(\n                                //'id' =&gt; 'main-menu-links',\n                                'class' =&gt; array('links', 'main_menu', 'clearfix'),\n                            )\n                        )\n                    ); ?&gt;\n                &lt;/nav&gt;\n\n            &lt;?php\n            endif;\n?&gt;\n</code></pre>\n\n<p>The above works great and only prints nodes/ links in the current language, unlike:</p>\n\n<pre><code>&lt;?php if (menu_navigation_links('menu-contact-menu')): ?&gt;\n                &lt;nav id=\"contact-menu\" role=\"navigation\"&gt;\n\n                    &lt;?php print theme(\n                        'links', array(\n                            'links' =&gt; menu_navigation_links('menu-contact-menu'), \n                            'attributes' =&gt; array(\n                                'class'=&gt; array('links', 'contact_menu')\n                            )\n                        )\n                    ); ?&gt;\n                &lt;/nav&gt;\n            &lt;?php\n                endif;\n            ?&gt;\n</code></pre>\n\n<p>And how would the combinated menu look like? Currently:</p>\n\n<pre><code>&lt;?php\n            // combine main and contact menu and output as one\n            if ($main_menu &amp;&amp; menu_navigation_links('menu-contact-menu')): ?&gt;\n                &lt;nav id=\"footer-menu\" role=\"navigation\"&gt;\n                    &lt;?php\n                        $links = array_merge($main_menu, menu_navigation_links('menu-contact-menu'));\n\n                        print theme(\n                            'links', array(\n                                'links' =&gt; $links, \n                                'attributes' =&gt; array(\n                                    'class'=&gt; array('links', 'footer-menu')\n                                )\n                            )\n                        );\n                    ?&gt;\n                &lt;/nav&gt;\n        &lt;?php\n            endif;\n        ?&gt;\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1559483,
                    "reputation": 10176,
                    "user_id": 1449710,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/6d237e0e539ec63f8c6759f6bdb399ac?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Alex",
                    "link": "https://stackoverflow.com/users/1449710/alex"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1348644032,
                "creation_date": 1348644032,
                "answer_id": 12596552,
                "question_id": 12580861,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>found it out, kinda logical... <code>i18n_menu_navigation_links</code> does the trick</p>\n\n<pre><code>if (menu_navigation_links('menu-contact-menu')): ?&gt;\n                &lt;nav id=\"contact-menu\" role=\"navigation\"&gt;\n\n                    &lt;?php print theme(\n                        'links', array(\n                            'links' =&gt; i18n_menu_navigation_links('menu-contact-menu', 0),\n                            'attributes' =&gt; array(\n                                'class'=&gt; array('links', 'contact_menu')\n                            )\n                        )\n                    ); ?&gt;\n                &lt;/nav&gt;\n            &lt;?php\n                endif;\n            ?&gt;\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "varnish"
        ],
        "owner": {
            "account_id": 33560486,
            "reputation": 1,
            "user_id": 25981902,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b01067bba54f92b74c943e910ef7a219?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Saghrouni Tarek",
            "link": "https://stackoverflow.com/users/25981902/saghrouni-tarek"
        },
        "is_answered": false,
        "view_count": 25,
        "answer_count": 1,
        "score": -1,
        "last_activity_date": 1720022229,
        "creation_date": 1720017834,
        "question_id": 78702738,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78702738/varnish-cache-age-header-always-0-for-entire-page",
        "title": "Varnish Cache Age Header Always 0 for Entire Page",
        "body": "<p>I have installed Varnish on a remote server and configured it for my Drupal website. The Varnish headers show that requests are passing through the Varnish server for the entire page, but it is not caching the whole page. However, it works for some elements of the page.\n<a href=\"https://i.sstatic.net/4a3q89fL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I need help from someone</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 17755486,
                    "reputation": 4653,
                    "user_id": 12892695,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/DzYl9.jpg?s=256",
                    "display_name": "Thijs Feryn",
                    "link": "https://stackoverflow.com/users/12892695/thijs-feryn"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1720022229,
                "creation_date": 1720022229,
                "answer_id": 78703126,
                "question_id": 78702738,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>The logs are going to give use more information on why the page is not being served from the cache.</p>\n<p>Assuming it's the homepage, you can run the following <code>varnishlog</code> command to figure this out:</p>\n<pre><code>sudo varnishlog -g request -q &quot;ReqUrl eq '/'&quot;\n</code></pre>\n<p>If it's a different page that is experiencing this issue, please change the URL in the filter query.</p>\n<p>Please attach the full log output for this transaction in pre-formatted text to your original question.</p>\n<p>Please also attach the VCL file you're using for this Varnish installation.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "nginx",
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 4113838,
            "reputation": 568,
            "user_id": 3375987,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/06151618c9273e3e0491e3745c39ff57?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Josh Cronin",
            "link": "https://stackoverflow.com/users/3375987/josh-cronin"
        },
        "is_answered": false,
        "view_count": 53,
        "answer_count": 1,
        "score": -1,
        "last_activity_date": 1719992495,
        "creation_date": 1718720849,
        "question_id": 78638073,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78638073/drupal-10-on-specific-path-of-domain-only",
        "title": "Drupal 10 on specific path of domain only",
        "body": "<p>I have a Drupal 10 website that is currently hosted on a sub domain (events.mydomain.com) and I need to move it to a path of the main domain (mydomain.com/events).</p>\n<p>I would need to move the whole site to the /events path, so the CMS URL would be mydomain.com/events/user/login and all the pages on the site are served under /events/*</p>\n<p>Drupal used to have a $base_url setting that I believe would allow me to do this but this setting was removed in Drupal 8.</p>\n<p>The webserver is NGINX and there is another NGINX server in front of the Drupal web server with a reverse proxy that handles the incoming network requests and will send any URLs starting with /events to the Drupal web server.  For example, mydomain.com/about-us will be routed to a non-Drupal website by the reverse proxy and mydomain.com/events/contact-us will be routed to the Drupal website.</p>\n<p>How can I achieve this?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1610210,
                    "reputation": 1402,
                    "user_id": 1489444,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/18211b8158580a08a8bebda4ca4d9439?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Viswanath Polaki",
                    "link": "https://stackoverflow.com/users/1489444/viswanath-polaki"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1719992495,
                "last_edit_date": 1719992495,
                "creation_date": 1719905546,
                "answer_id": 78695591,
                "question_id": 78638073,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can use the server configuration as below (understanding purposes only):</p>\n<pre><code>server {\n    listen 80 default_server;\n\n    server_name 1.2.3.4;\n\n    location / {\n        return 410;  # Default root of site won't exist.\n    }\n\n    location /events/ {\n        alias /var/www/yourdrupalfolder;\n        try_files $uri $uri/ =404;\n\n        # any additional configuration for non-static content\n    }\n}\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6",
            "drupal-fapi"
        ],
        "owner": {
            "account_id": 150094,
            "reputation": 319,
            "user_id": 363036,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/86af7895fa67687ffe31e9905fa24e20?s=256&d=identicon&r=PG",
            "display_name": "user363036",
            "link": "https://stackoverflow.com/users/363036/user363036"
        },
        "is_answered": true,
        "view_count": 450,
        "accepted_answer_id": 3032339,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1719898463,
        "creation_date": 1276198199,
        "last_edit_date": 1719898463,
        "question_id": 3017759,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/3017759/drupal-studs-help-me-with-my-form-alter-hook-i-am-almost-there",
        "title": "Drupal Studs help me with my form_alter hook ( I am almost there)",
        "body": "<p>So I think I am almost there conceptually but need some missing pointers.</p>\n\n<p>Objective is to add a few more fields to the normal user registration form, style it a little, then submit it with storing the extra fields in a table.</p>\n\n<p>This is what I have so far. Can someone give me the final nudge and get me going. Please help me. Also how do I apply some minor styling like aligning the new form fields ?</p>\n\n<p>Thank you so much !!!!!!!!!</p>\n\n<p><pre> <code> function module_menu() {\n$items = array();\n$items['school/registration'] = array(\n      'title' => 'Upgraded Registration Form',\n      'page callback'    =>'module_school_register',\n      'type' => MENU_CALLBACK<br>\n    );</p>\n\n<p>return $items;\n}//end of the function</p>\n\n<p>function module_school_register(){\nreturn drupal_get_form('form_school_register');\n}//end of the function</p>\n\n<p>function module_school_form_alter(&amp;$form, $form_state, $form_id)\n{</p>\n\n<p>dsm($form_id);</p>\n\n<p>if ($form_id == 'user_registration_form')\n   {\n// modify the \"#submit\" form property by prepending another submit handler array\n$form['#submit'] = array_merge(\n      array('_module_registration_submit' => array()),\n      $form['#submit']\n    );</p>\n\n<p>}\n}</p>\n\n<p>function _module_registration_submit($form_id, $form_values) {\n  // store extra data in different table\n}</p>\n\n<p>function module_registration_validate($form, &amp;$form_state)\n{\n$error=0;\n   //Validation stuff here, set $error to true if something went wrong, or however u want to do this.  Completely up to u in how u set errors.\n   if ($error)\n   {\n      form_set_error('new_field_name', 'AHH SOMETHING WRONG!');\n   }\n} </pre> </code></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 8389,
                    "reputation": 1621,
                    "user_id": 15088,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/b295f0081d0b36b1329a7ec86f23f870?s=256&d=identicon&r=PG",
                    "display_name": "cam8001",
                    "link": "https://stackoverflow.com/users/15088/cam8001"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1276436073,
                "creation_date": 1276436073,
                "answer_id": 3032388,
                "question_id": 3017759,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>RedBen is right, <a href=\"http://drupal.org/project/content_profile\" rel=\"nofollow noreferrer\">content profile</a> may be a better solution.</p>\n\n<p>It seems like you're adding the second submit handler in a strange way - it's simply the name of a function, not an array. Have you checked that your submit handler is running?</p>\n\n<p>Because the reference to the handler is a simple string, you just need to append it to the array using </p>\n\n<p><code>$form['#submit'][] = '_module_registration_submit'</code></p>\n\n<p>If you need it to run before the standard handler, use <code>array_unshift</code> to push it onto the beginning of the <code>#submit</code> array.</p>\n"
            },
            {
                "owner": {
                    "account_id": 113933,
                    "reputation": 5676,
                    "user_id": 299843,
                    "user_type": "registered",
                    "accept_rate": 88,
                    "profile_image": "https://www.gravatar.com/avatar/b79dd9928ae93d9d7e045b62f5e0f225?s=256&d=identicon&r=PG",
                    "display_name": "redben",
                    "link": "https://stackoverflow.com/users/299843/redben"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1276434782,
                "creation_date": 1276434782,
                "answer_id": 3032339,
                "question_id": 3017759,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I suggest you have a look at content profile module before rolling your own solution.</p>\n\n<p>You define your a custom content type (node) for your school registration, add in you cck fields, and activate it as a content profile. On content profile settings, you then activate it on user registration form. Zero code !</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-modules",
            "drupal-views"
        ],
        "owner": {
            "account_id": 12894440,
            "reputation": 5,
            "user_id": 9325291,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/188b2d00ddb298f18259e4b0c48c05f4?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "clare",
            "link": "https://stackoverflow.com/users/9325291/clare"
        },
        "is_answered": false,
        "view_count": 1687,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1719570087,
        "creation_date": 1542073035,
        "question_id": 53272527,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/53272527/combine-two-views-in-drupal-8",
        "title": "Combine two views in Drupal 8",
        "body": "<p>I am new to Drupal 8. I have a view with exposed filter which filters content based on a taxonomy. This is called 'filter by category' and shows a dropdown. </p>\n\n<p>I have another view with contextual filter that shows an index with A-Z. This A-Z is generated with first letter of content title. When user clicks on each letter, view filters all contents with that letter and displays it. This view is called 'filter by index' and shows index list.</p>\n\n<p>Requirement is to show 'Filter by category' and 'Filter by index' as dropbox  one below other and results should appear below dropboxes and index.</p>\n\n<p>Since both of these are two different views, i am not sure on how to achieve it. any suggestions appreciated.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 14603478,
                    "reputation": 1,
                    "user_id": 10547136,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/XArpt.jpg?s=256",
                    "display_name": "Lage&#39;",
                    "link": "https://stackoverflow.com/users/10547136/lage"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1719570087,
                "last_edit_date": 1719570087,
                "creation_date": 1543170957,
                "answer_id": 53470651,
                "question_id": 53272527,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>May I ask why are you using 2 different views for this? are they both showing the same content? if so: i think you can achieve this with one view</p>\n<ul>\n<li>In the (filter by index) view , add the Taxonomy as a relationship in the advanced section</li>\n<li>once you add that taxonomy as a relationship, you can then add the taxonomy filter to the filters area</li>\n<li>then you will have the 2 filters in one block</li>\n</ul>\n<p><img src=\"https://i.sstatic.net/FDoYU.jpg\" alt=\"screenshot\" />.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal"
        ],
        "owner": {
            "account_id": 20469827,
            "reputation": 25,
            "user_id": 19504902,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/dc16cab9d81e759f9c87e3ccba6c2e66?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user209336",
            "link": "https://stackoverflow.com/users/19504902/user209336"
        },
        "is_answered": false,
        "view_count": 102,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1719509737,
        "creation_date": 1719509737,
        "question_id": 78679130,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78679130/problems-upgrading-drupal-the-website-encountered-an-unexpected-error-try-agai",
        "title": "Problems upgrading Drupal. The website encountered an unexpected error. Try again later",
        "body": "<p>I'm upgrading from Drupal 9.3.8 to version 10 and I got the typical white screen with the following message. Any idea how to fix it? I am new to Drupal.</p>\n<pre><code>Error: Class &quot;Drupal\\Driver\\Database\\mysql\\Connection&quot; not found in Drupal\\Core\\Database\\Database::openConnection() (line 460 of /home/aul/www/core/lib/Drupal/Core/Database/Database.php).\nDrupal\\Core\\Database\\Database::openConnection('default', 'default') (Line: 191)\nDrupal\\Core\\Database\\Database::getConnection('default')\ncall_user_func_array('Drupal\\Core\\Database\\Database::getConnection', Array) (Line: 77)\nDrupal\\Component\\DependencyInjection\\PhpArrayContainer-&gt;createService(Array, 'database') (Line: 179)\nDrupal\\Component\\DependencyInjection\\Container-&gt;get('database', 1) (Line: 226)\nDrupal\\Component\\DependencyInjection\\PhpArrayContainer-&gt;resolveServicesAndParameters(Array) (Line: 60)\nDrupal\\Component\\DependencyInjection\\PhpArrayContainer-&gt;createService(Array, 'cache.container') (Line: 179)\nDrupal\\Component\\DependencyInjection\\Container-&gt;get('cache.container') (Line: 576)\nDrupal\\Core\\DrupalKernel-&gt;getCachedContainerDefinition() (Line: 965)\nDrupal\\Core\\DrupalKernel-&gt;initializeContainer() (Line: 515)\nDrupal\\Core\\DrupalKernel-&gt;boot() (Line: 739)\nDrupal\\Core\\DrupalKernel-&gt;handle(Object) (Line: 19)```\n\n</code></pre>\n",
        "answers": []
    },
    {
        "tags": [
            "database",
            "drupal",
            "migration",
            "drupal-7"
        ],
        "owner": {
            "account_id": 29544832,
            "reputation": 13,
            "user_id": 22642709,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocLb0riyp604SCQqYNz6OZVTVBa9hO9cDDQEOEYe0Dydag=k-s256",
            "display_name": "Antonis Emmanouilidis",
            "link": "https://stackoverflow.com/users/22642709/antonis-emmanouilidis"
        },
        "is_answered": true,
        "view_count": 907,
        "accepted_answer_id": 77185354,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1719504101,
        "creation_date": 1695798608,
        "question_id": 77185303,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/77185303/drupal-7-uncaught-argumentcounterror-too-few-arguments-to-function-drupal-er",
        "title": "Drupal 7 | Uncaught ArgumentCountError: Too few arguments to function _drupal_error_handler()",
        "body": "<p>I just migrated a Drupal 7 to xampp and getting these erros,</p>\n<p>Fatal error: During inheritance of PDO: Uncaught ArgumentCountError: Too few arguments to function _drupal_error_handler(), 4 passed in C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc on line 2739 and exactly 5 expected in C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc:2589 Stack trace: #0 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc(2739): _drupal_error_handler(8192, 'Return type of ...', 'C:\\Users\\anton\\...', 1317) #1 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc(2739): require_once() #2 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc(2516): _drupal_bootstrap_database() #3 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc(2658): drupal_bootstrap(3, false) #4 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\bootstrap.inc(2512): _drupal_bootstrap_page_cache() #5 C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\index.php(20): drupal_bootstrap(7) #6 {main} in C:\\Users\\anton\\Desktop\\Newxampp\\htdocs\\eirinika\\includes\\database\\database.inc on line 187</p>\n<p>Can find the 5th argument. I know it's a connection issue but i tried everything. Password,Username, port, db name. Anyone any help.</p>\n<p>Try changing name, password, port, driver but no solution</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 3160102,
                    "reputation": 7831,
                    "user_id": 2671470,
                    "user_type": "registered",
                    "accept_rate": 65,
                    "profile_image": "https://graph.facebook.com/1503382632/picture?type=large",
                    "display_name": "Muhammad Dyas Yaskur",
                    "link": "https://stackoverflow.com/users/2671470/muhammad-dyas-yaskur"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1695799212,
                "creation_date": 1695799212,
                "answer_id": 77185354,
                "question_id": 77185303,
                "content_license": "CC BY-SA 4.0",
                "body": "<blockquote>\n<p>I know it's a connection issue but i tried everything.</p>\n</blockquote>\n<p>Now, it's not a connection issue, but it PHP version issue. it seems you use PHP 8, while your drupal 7 version doesn't suppport it.</p>\n<p>it's already discussed <a href=\"https://www.drupal.org/project/drupal/issues/3200407\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You need to choose one of the following solutions:</p>\n<ol>\n<li>Downgrade your PHP version, you could find XAMPP with php 5.6</li>\n<li>Upgrade your drupal 7 to the latest version of drupal 7. (7.98)</li>\n</ol>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-8",
            "language-translation"
        ],
        "owner": {
            "account_id": 13976694,
            "reputation": 11,
            "user_id": 10522445,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3cb37e172119315992b11f9ce1c8e7ba?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Zeroplexer",
            "link": "https://stackoverflow.com/users/10522445/zeroplexer"
        },
        "is_answered": true,
        "view_count": 3567,
        "accepted_answer_id": 78667237,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1719317264,
        "creation_date": 1539846587,
        "last_edit_date": 1539847824,
        "question_id": 52868735,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/52868735/drupal-8-translate-the-label-of-a-webform-field",
        "title": "Drupal 8 translate the label of a webform field",
        "body": "<p>I would like to translate my label from a webform field. I can't do it by the user interface translation, because it didn't show up there.  I added to the content a webform field to link the webform. And then i went to manage display and changed the label of the webform field (with the formatter \"Link to form\"), to have a custom link to the webform, instead of \"Go to webform\"</p>\n\n<p>How can I translate it with a hook?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 13976694,
                    "reputation": 11,
                    "user_id": 10522445,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/3cb37e172119315992b11f9ce1c8e7ba?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Zeroplexer",
                    "link": "https://stackoverflow.com/users/10522445/zeroplexer"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1719317264,
                "creation_date": 1719317264,
                "answer_id": 78667237,
                "question_id": 52868735,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I create an own field and have translated it in the User interface translation.</p>\n"
            },
            {
                "owner": {
                    "account_id": 11689602,
                    "reputation": 5029,
                    "user_id": 9568358,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/wUz4k.png?s=256",
                    "display_name": "Wimanicesir",
                    "link": "https://stackoverflow.com/users/9568358/wimanicesir"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1539846975,
                "creation_date": 1539846975,
                "answer_id": 52868836,
                "question_id": 52868735,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can translate the whole webform easy with the YAML editor:</p>\n\n<p><a href=\"https://i.sstatic.net/eHeSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eHeSG.png\" alt=\"enter image description here\"></a></p>\n\n<p>For more documentation I would recommend reading the Internationalization part in this documentation of Drupal</p>\n\n<p>Documentation: <a href=\"https://www.drupal.org/docs/8/modules/webform/webform-features\" rel=\"nofollow noreferrer\">https://www.drupal.org/docs/8/modules/webform/webform-features</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "themes",
            "overriding",
            "preprocessor"
        ],
        "owner": {
            "account_id": 61542,
            "reputation": 1459,
            "user_id": 183361,
            "user_type": "registered",
            "accept_rate": 47,
            "profile_image": "https://www.gravatar.com/avatar/7c296826c8742f5474bb06a05c6b2afe?s=256&d=identicon&r=PG",
            "display_name": "EricP",
            "link": "https://stackoverflow.com/users/183361/ericp"
        },
        "is_answered": true,
        "view_count": 804,
        "accepted_answer_id": 3189780,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1719268710,
        "creation_date": 1278444340,
        "last_edit_date": 1719268710,
        "question_id": 3189514,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/3189514/drupal-main-theme-template-file-for-any-node",
        "title": "Drupal main theme template file for any node",
        "body": "<p>How can I switch to a different theme template file for any node that I want?\nI understand how to create sub-themes like node-recipes.tpl.php for a node that has a path of \"recipes\". But what I want to have control of the entire base template like page.tpl.php.\nCan I use some preprocess function in template.php for this?</p>\n\n<p>Right now I have this in my template.php file:</p>\n\n<pre><code>function mythemename_preprocess_node(&amp;$vars) {\n\n  // template name for current node id\n  $suggestions = array('node-'. $vars['nid']);\n\n  // additional node template names based on path alias\n  if (module_exists('path')) {\n    // we already can have a path alias\n    if (isset($vars['path'])) {\n      $alias = $vars['path'];\n    }else{\n      // otherwise do standard check\n      $alias = drupal_get_path_alias('node/'. $vars['nid']);\n    }\n\n    if ($alias != 'node/'. $vars['nid']) {\n      $add_path = '';\n      foreach (explode('/', $alias) as $path_part) {\n        $add_path .= !empty($path_part) ? $path_part.'_' : '';\n        $suggestions[] = 'node-'. $add_path;\n      }\n      // adding the last one (higher priority) for this path only\n      // node-some-long-path-nofollow.tpl.php (not for anchestors)\n      $suggestions[] = end($suggestions) .'-nofollow';\n    }\n\n    $suggestions=array_map(stripTag, $suggestions);\n    //print_r($suggestions);\n\n  }\n  $vars['template_files'] = isset($vars['template_files']) ? array_merge($vars['template_files'], $suggestions) : $suggestions;\n}\n</code></pre>\n\n<p>thanks</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 61542,
                    "reputation": 1459,
                    "user_id": 183361,
                    "user_type": "registered",
                    "accept_rate": 47,
                    "profile_image": "https://www.gravatar.com/avatar/7c296826c8742f5474bb06a05c6b2afe?s=256&d=identicon&r=PG",
                    "display_name": "EricP",
                    "link": "https://stackoverflow.com/users/183361/ericp"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1282588764,
                "creation_date": 1282588764,
                "answer_id": 3550632,
                "question_id": 3189514,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I'm using this function to create template suggestions that works for me now. Thanks for the suggestions everyone.</p>\n\n<pre><code>/**\n * Override or insert PHPTemplate variables into the templates.\n * These are the main outer templates such as page.tpl.php \n */\nfunction phptemplate_preprocess_page(&amp;$vars) {\n\n    $alias = drupal_get_path_alias($_GET['q']);\n    if ($alias != $_GET['q']) {\n        $template_filename = 'page';\n        foreach (explode('/', $alias) as $path_part) {\n            $template_filename = $template_filename . '-' . $path_part;\n            $vars['template_files'][] = $template_filename;\n        }\n    }\n    //----  \n\n//print_r(arg()); \n\n/*  print '&lt;pre&gt;';\n  print_r($vars);\n  print '&lt;/pre&gt;';*/\n\n  //dpm($vars);\n  //print_r($vars['template_files']);\n\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 92554,
                    "reputation": 2157,
                    "user_id": 253608,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/0665f07a075ede79ed2b484a821c1dd3?s=256&d=identicon&r=PG",
                    "display_name": "electblake",
                    "link": "https://stackoverflow.com/users/253608/electblake"
                },
                "is_accepted": true,
                "score": 3,
                "last_activity_date": 1278446570,
                "creation_date": 1278446570,
                "answer_id": 3189780,
                "question_id": 3189514,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Yes,</p>\n\n<p>You can fully control the $vars['template_files'] array. I always suggest adding onto the array rather then overwriting it completely.</p>\n\n<p>I have a module that I maintain that adds a few small suggestions that I use often.\n<a href=\"http://github.com/electblake/template_suggestions/blob/master/template_suggestions.module\" rel=\"nofollow noreferrer\">http://github.com/electblake/template_suggestions/blob/master/template_suggestions.module</a></p>\n\n<p>You can manipulate the $vars['template_files'] array in preprocess_node, preprocess_page, etc.</p>\n\n<p>If you want to switch you page.tpl.php to another theme file do it in the preprocess_page hook...</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-7",
            "hook-menu"
        ],
        "owner": {
            "account_id": 8678451,
            "reputation": 1417,
            "user_id": 6495164,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/vuXAl.jpg?s=256",
            "display_name": "danielarend",
            "link": "https://stackoverflow.com/users/6495164/danielarend"
        },
        "is_answered": true,
        "view_count": 560,
        "accepted_answer_id": 57231629,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1719147521,
        "creation_date": 1564159831,
        "last_edit_date": 1719147521,
        "question_id": 57224195,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/57224195/drupal-7-print-theme-from-hook-menu-with-good-performance",
        "title": "Drupal 7: print theme from hook menu with good performance",
        "body": "<p>I'm working in a hook menu for a custom route, like this:</p>\n<pre><code>function mymodule_menu() {\n  $items = [];\n  $items['myroute/%'] = array(\n    'page callback'     =&gt; 'my_callback',\n    'page arguments'     =&gt; array(1),\n    'access arguments'  =&gt; array('access content'),\n  );\n  return $items;\n}\n</code></pre>\n<p>In the theme_hook, I added a new template feature, like this:</p>\n<pre><code>function mymodule_theme($existing, $type, $theme, $path) {\n  $default = array(\n    'path' =&gt; drupal_get_path('module', 'mymodule') . '/templates',\n    'variables' =&gt; array(),\n  );\n  return array(\n    'product_tile' =&gt; array_merge($default, array(\n      'template' =&gt; 'product-tile',\n    )),\n  );\n}\n</code></pre>\n<p>I created a template file called 'product-tile.tpl.php', which is working fine for all situations and is a partial template.</p>\n<p>In the callback function, I need to return a specific .tpl.php template, like this:</p>\n<pre><code>function my_callback($parameter) {\n\n $template_data = 'lorem ipsum';\n $output = theme('product_tile', array('content' =&gt; $template_data ));\n echo ($output);\n\n}\n</code></pre>\n<p>The point is: the 'theme()' function is taking too long to render data and it renders not only the template, but the whole html structure, which is not needed and is not part of the template.</p>\n<p>Ex: template is:</p>\n<pre><code>&lt;div id=&quot;my structure&gt;&lt;/div&gt;\n</code></pre>\n<p>But when i get my response to '/myroute/myparameter, instead of printing my template, it prints all html structure like this:</p>\n<pre><code>&lt;html&gt;\n  &lt;body&gt;......lots of stuff here +js +css + all drupal stuff\n      &lt;div id=&quot;my structure&gt;&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And takes a lot of time to print (like 10s or more).</p>\n<p>I tried to cache it by using cache_get and cache_set, but strange things are happening, like random empty responses.</p>\n<p>Does anyone know a more performant way to print a partial template in a hook menu in drupal 7? It's terribly slow this way.</p>\n<p>Thanks in advance</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2979716,
                    "reputation": 15848,
                    "user_id": 2529954,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/ShWjR.jpg?s=256",
                    "display_name": "EricLavault",
                    "link": "https://stackoverflow.com/users/2529954/ericlavault"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1564226868,
                "last_edit_date": 1564226868,
                "creation_date": 1564226566,
                "answer_id": 57231629,
                "question_id": 57224195,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Your custom route is mapped to a <code>page callback</code>, a function that <strong><em>must return content</em></strong> to be rendered <strong><em>inside the page to deliver</em></strong> (not just print something). </p>\n\n<p>This content can be either : </p>\n\n<ul>\n<li>an HTML string</li>\n<li>a drupal render array</li>\n<li>or a menu status code (<code>MENU_ACCESS_DENIED</code>, <code>MENU_NOT_FOUND</code>, etc.)</li>\n</ul>\n\n<p>That content (once rendered if not an HTML string) is what you actually get in the <code>$content</code> or <code>$page['content']</code> variable being passed to the active theme's <em>page.tpl.php</em>. </p>\n\n<p>Now, your issue may be caused just by using this template (if it contains heavy PHP or bad implementations for example, whatever the reason), but it could be something totally different :</p>\n\n<ul>\n<li><p><em>the 'theme()' function is taking too long to render data</em>  </p>\n\n<p>The time it takes to deliver that page does not necessarily mean it's caused by this theme function. You can check the time it really takes to render that specific template - not the whole HTML page - it's probably <em>not</em> 10 sec : </p>\n\n<pre><code>$start = microtime(true);\n$output = theme('product_tile', array('content' =&gt; 'lorem ipsum'));\n$end = microtime(true);\n$time = $end - $start;\n\n# dpm() is brought by devel module\ndpm('product_tile rendering: ' . $time . 'sec.');\n</code></pre>\n\n<p>The page delivery could be long because of some heavy drupal hooks and preprocess functions involved in rendering your custom template, but it may also be the cost of rendering the other regions of the page (sidebar, header, footer, etc.).</p></li>\n<li><p><em>when I get my response to /myroute/myparameter, instead of printing my template, it prints all html</em> : </p>\n\n<p>As explained above, the response for a routed path <em>is</em> a full HTML page that contains as 'content' the output of the 'page callback' defined in the corresponding menu item. The expected behavior for a drupal page callback is precisely to <em>return</em> the content to be displayed on that page, the full HTML page is loaded. That's why a <code>return</code> statement is expected (don't assume anything if it's not), don't use <code>print</code> or <code>echo</code> functions in a page callback, to see what's the content of variables use debugging functions like <code>dpm</code>) :</p>\n\n<pre><code>function my_callback($parameter) {\n  $template_data = 'lorem ipsum';\n  $output = theme('product_tile', array('content' =&gt; $template_data ));\n\n  # debug the output of 'product_tile'\n  dpm($output);\n\n  # return what should be displayed on that page\n  return output;\n}\n</code></pre></li>\n</ul>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "authentication",
            "migrate",
            "acquia"
        ],
        "owner": {
            "account_id": 4357462,
            "reputation": 480,
            "user_id": 3555586,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://www.gravatar.com/avatar/ba381ab68801695e75373ae618fcdd8d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "bpunzalan",
            "link": "https://stackoverflow.com/users/3555586/bpunzalan"
        },
        "is_answered": false,
        "view_count": 8838,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1718942600,
        "creation_date": 1433598212,
        "last_edit_date": 1433598341,
        "question_id": 30683566,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/30683566/error-php-network-getaddresses-getaddrinfo-failed-temporary-failure-in-name-r",
        "title": "Error: php_network_getaddresses: getaddrinfo failed: Temporary failure in name resolution (0) (Acquia Connector login for drupal)",
        "body": "<p>I've been having this error when logging in my subscription in Acquia Cloud:</p>\n\n<blockquote>\n  <p>Error: php_network_getaddresses: getaddrinfo failed: Temporary failure in name resolution (0)</p>\n</blockquote>\n\n<p>I think it is a PHP problem, not sure. I dont know how to troubleshoot it.</p>\n\n<p>I want to migrate my local drupal site in the Acquia Cloud for my project.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 6880116,
                    "reputation": 378,
                    "user_id": 5287084,
                    "user_type": "registered",
                    "accept_rate": 60,
                    "profile_image": "https://lh5.googleusercontent.com/-stgK_Qk69OM/AAAAAAAAAAI/AAAAAAAAJPY/zgH-naHkAG0/photo.jpg?sz=256",
                    "display_name": "yvoloshin",
                    "link": "https://stackoverflow.com/users/5287084/yvoloshin"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1489514179,
                "last_edit_date": 1495542321,
                "creation_date": 1489514179,
                "answer_id": 42793259,
                "question_id": 30683566,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I got the same error message when trying to run composer commands on CentOS virtual machine. The solution that worked came from <a href=\"https://stackoverflow.com/questions/6275535/php-error-php-network-getaddresses-getaddrinfo-failed-while-getting-informat\">this</a> post.\nIn <code>/etc/httpd/conf/httpd.conf</code>, set <code>ServerName</code> to 127.0.0.1:80. Restart apache service.</p>\n"
            },
            {
                "owner": {
                    "account_id": 425361,
                    "reputation": 3298,
                    "user_id": 805923,
                    "user_type": "registered",
                    "accept_rate": 58,
                    "profile_image": "https://i.sstatic.net/EqoUw.png?s=256",
                    "display_name": "pal4life",
                    "link": "https://stackoverflow.com/users/805923/pal4life"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1434002813,
                "creation_date": 1434002813,
                "answer_id": 30772862,
                "question_id": 30683566,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>If you were logging in from a saved url then seems like your url has expired. Please try again directly from the acquia website with a fresh url.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "composer-php",
            "packagist"
        ],
        "owner": {
            "account_id": 6663197,
            "reputation": 1,
            "user_id": 5141598,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/8ML6H.png?s=256",
            "display_name": "bakacie",
            "link": "https://stackoverflow.com/users/5141598/bakacie"
        },
        "is_answered": false,
        "view_count": 141,
        "answer_count": 1,
        "score": -1,
        "last_activity_date": 1718881394,
        "creation_date": 1718631310,
        "last_edit_date": 1718799809,
        "question_id": 78632927,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78632927/composer-install-asset-packagist-org-404-not-found-error",
        "title": "Composer Install - asset-packagist.org 404 not found error",
        "body": "<p>I added the asset-packagist.org as one of my composer packages for my Drupal project.</p>\n<pre><code>     &quot;repositories&quot;: [\n    {\n        &quot;type&quot;: &quot;composer&quot;,\n        &quot;url&quot;: &quot;https://packages.drupal.org/8&quot;\n    },\n    {\n        &quot;type&quot;: &quot;composer&quot;,\n        &quot;url&quot;: &quot;https://asset-packagist.org&quot;\n    },\n</code></pre>\n<p>I'm encountering random or intermittent errors like this.</p>\n<pre><code>    &gt; DrupalProject\\composer\\ScriptHandler::checkComposerVersion\n    Loading composer repositories with package information\n\n    In CurlDownloader.php line 640:\n\n    The &quot;https://cdn.asset-packagist.org/p/provider-latest/8799ec77a377378f0d0e6f\n    2671a922763cf91959dda43f6df69c6b11b025d75d.json&quot; file could not be downloaded \n    (HTTP/2 404 )\n\n\n    install [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] \n    [--dry-run] [--download-only] [--dev] [--no-suggest] [--no-dev] \n    [--no-autoloader] [--no-progress] [--no-install] [--audit] \n    [--audit-format AUDIT-FORMAT] [-v|vv|vvv|--verbose] \n    [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] \n    [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] \n    [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--] \n    [&lt;packages&gt;...]\n</code></pre>\n<p>Anyone have an idea?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 33076273,
                    "reputation": 1,
                    "user_id": 25648555,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/53ac40d674874a8c90c55e498c779c73?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Robin Rana",
                    "link": "https://stackoverflow.com/users/25648555/robin-rana"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1718881394,
                "last_edit_date": 1718881394,
                "creation_date": 1718881359,
                "answer_id": 78647070,
                "question_id": 78632927,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>The following command fix the error for me: Run this command on the CLI before installing any dependencies. It forces composer to use https to download all resources:</p>\n<pre><code>composer config -g repo.packagist composer https://packagist.org\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/questions/43996782/how-to-correct-the-composer-downloader-transportexception-error-for-composer\">How to correct the [Composer\\Downloader\\TransportException] error for composer</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6",
            "cck",
            "drupal-files"
        ],
        "owner": {
            "account_id": 43602,
            "reputation": 33225,
            "user_id": 127549,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://www.gravatar.com/avatar/5953314abb5194a939a7a79309a397c0?s=256&d=identicon&r=PG",
            "display_name": "googletorp",
            "link": "https://stackoverflow.com/users/127549/googletorp"
        },
        "is_answered": true,
        "view_count": 1788,
        "accepted_answer_id": 1646019,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1718758097,
        "creation_date": 1256817407,
        "last_edit_date": 1718758097,
        "question_id": 1643201,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/1643201/saving-nodes-with-a-filefield",
        "title": "Saving nodes with a filefield",
        "body": "<p>I'm in the progress of creating a bulk upload function for a Drupal site. Using flash I'm able to upload the files to a specific url that then handles the files. What I want to do, is not just to upload the files, but create a node of a specific type with the file saved to a filefield that has been setup with CCK. Since these are audio files, it's important that filefield handles the files, so addition meta data can be provided with the getid3 module.</p>\n\n<p>Now I've looked through some of the code as I wasn't able to find an API documentation, but it's not clear at all how I should handle this. Ideally I could just pass the file to a function and just use the data returned when saving the node, but I haven't been able to find that function.</p>\n\n<p>If any one has experience with this I would apreciate some pointers on how to approach this matter.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 19629,
                    "reputation": 19401,
                    "user_id": 46149,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/90e504de545d9e56afb4ea7c5964ca51?s=256&d=identicon&r=PG",
                    "display_name": "Henrik Opel",
                    "link": "https://stackoverflow.com/users/46149/henrik-opel"
                },
                "is_accepted": true,
                "score": 8,
                "last_activity_date": 1256844628,
                "creation_date": 1256844628,
                "answer_id": 1646019,
                "question_id": 1643201,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I had to do something similar some weeks ago and ended up adapting some functionality from the <a href=\"http://drupal.org/project/remote_file\" rel=\"noreferrer\">Remote File module</a>, especially the <code>remote_file_cck_attach_file()</code> function. It uses the <code>field_file_save_file()</code> function from the filefield module, which might be the function you're looking for.</p>\n\n<p>In my case, the files are fetched from several remote locations and stored temporarily using <a href=\"http://api.drupal.org/api/function/file_save_data/6\" rel=\"noreferrer\"><code>file_save_data()</code></a>. Attaching them to a CCK filefield happens on <code>hook_nodeapi()</code> presave, using the following:</p>\n\n<pre><code>public static function attachAsCCKField(&amp;$node, $filepath, $fieldname, $index=0) {\n  // Grab the filefield definition\n  $field = content_fields($fieldname, $node-&gt;type);\n  $validators = array_merge(filefield_widget_upload_validators($field), imagefield_widget_upload_validators($field));\n  $fieldFileDirectory = filefield_widget_file_path($field);\n  // This path does not necessarily exist already, so make sure it is available\n  self::verifyPath($fieldFileDirectory);\n  $file = field_file_save_file($filepath, $validators, $fieldFileDirectory);\n  // Is the CCK field array already available in the node object?\n  if (!is_array($node-&gt;$fieldname)) {\n    // No, add a stub\n    $node-&gt;$fieldname=array();\n  }\n  $node-&gt;{$fieldname}[$index] = $file;\n}\n</code></pre>\n\n<p><code>$filepath</code> is the path to the file that should be attached, <code>$fieldname</code> is the internal name of the filefield instance to use within the node and <code>$index</code> would be the 0 based index of the attached file in case of multiple field entries.</p>\n\n<p>The function ended up within a utility class, hence the class syntax for the verifyPath() call. The call just ensures that the target directory is available:</p>\n\n<pre><code>public static function verifyPath($path) {\n  if (!file_check_directory($path, FILE_CREATE_DIRECTORY)) {\n    throw new RuntimeException('The path \"' . $path . '\" is not valid (not creatable, not writeable?).');\n  }\n}\n</code></pre>\n\n<p>That did it for me - everything else happens on node saving automatically.</p>\n\n<p>I have not used the getid3 module yet, so I have no idea if it would play along with this way of doing it. Also, I had no need to add additional information/attributes to the filefield, so maybe you'd have to put some more information into the field array than just the file returned by <code>field_file_save_file()</code>. Anyways, hope this helps and good luck.</p>\n"
            },
            {
                "owner": {
                    "account_id": 17254,
                    "reputation": 4184,
                    "user_id": 38408,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/3e2f0386a66cb77f556b166cef941d6c?s=256&d=identicon&r=PG",
                    "display_name": "Grayside",
                    "link": "https://stackoverflow.com/users/38408/grayside"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1256832059,
                "creation_date": 1256832059,
                "answer_id": 1644764,
                "question_id": 1643201,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You might want to look at <a href=\"http://drupal.org/project/image_fupload\" rel=\"nofollow noreferrer\">Image FUpload</a> if you need a look at integrating the flash upload.</p>\n\n<p>To push the files on to another server while still handling them through Drupal sounds a little like the CDN space, maybe look at the behavior in the <a href=\"http://drupal.org/project/cdn\" rel=\"nofollow noreferrer\">CDN</a> or <a href=\"http://drupal.org/project/cdn2\" rel=\"nofollow noreferrer\">CDN2</a> projects?</p>\n\n<p>If you find a clear solution please come back and post it!</p>\n"
            },
            {
                "owner": {
                    "account_id": 22811,
                    "reputation": 12037,
                    "user_id": 56672,
                    "user_type": "registered",
                    "accept_rate": 68,
                    "profile_image": "https://www.gravatar.com/avatar/15ddf4d0e44ae1d9181a49a3aa836f86?s=256&d=identicon&r=PG",
                    "display_name": "Jeremy French",
                    "link": "https://stackoverflow.com/users/56672/jeremy-french"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1256820980,
                "creation_date": 1256820980,
                "answer_id": 1643528,
                "question_id": 1643201,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I have done something whith imagefield which worked, I think the structure has to be right otherwise it won't work. It took a lot of trial and error. This is is what I populated the imagefield with. </p>\n\n<pre><code>$image['data'] =array(\n            'title' =&gt; $media_reference_attributes-&gt;getNamedItem(\"source\")-&gt;value,\n            'description' =&gt; $description,\n            'alt' =&gt; \"\",);\n$image['width'] = $width;\n$image['height'] = $height;\n$image['mimetype'] = $mime_type\n$image['uid'] = 1;\n$image['status'] = 1;\n$image['fid'] = $fid;\n$image['filesize'] = $file-&gt;filesize;\n$image['nid'] = $id;\n$image['filename'] = $url;\n$image['timestamp'] = $file-&gt;timestamp;\n$image['filepath'] = $file_path;\n</code></pre>\n\n<p>Hope this is of some help.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "mysql",
            "drupal",
            "mariadb",
            "multisite",
            "ddev"
        ],
        "owner": {
            "account_id": 75176,
            "reputation": 12110,
            "user_id": 215713,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/eaa4a82dca6b5d2d0b58e784231caf3a?s=256&d=identicon&r=PG",
            "display_name": "rfay",
            "link": "https://stackoverflow.com/users/215713/rfay"
        },
        "is_answered": true,
        "view_count": 11622,
        "accepted_answer_id": 49785024,
        "answer_count": 3,
        "score": 21,
        "last_activity_date": 1718748944,
        "creation_date": 1523483907,
        "question_id": 49785023,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/49785023/how-can-i-create-and-load-a-second-database-in-ddev",
        "title": "How can I create and load a second database in ddev?",
        "body": "<p>I have a Drupal multisite that needs to have one database for each site, and want it to run in ddev, but ddev just has the one database by default, named 'db'. How can I get a second database?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 66117,
                    "reputation": 419,
                    "user_id": 1805894,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/1a56b83b0e6d018c427ee7e9aab866d1?s=256&d=identicon&r=PG",
                    "display_name": "Ignacio S&#225;nchez",
                    "link": "https://stackoverflow.com/users/1805894/ignacio-s%c3%a1nchez"
                },
                "is_accepted": false,
                "score": 8,
                "last_activity_date": 1718748944,
                "last_edit_date": 1718748944,
                "creation_date": 1591109442,
                "answer_id": 62154813,
                "question_id": 49785023,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>In addition to rfay answer, The trick used in the last link was exactly what I wanted to propose and what I'm currently using:</p>\n<p>Add this hook to the config.yml file</p>\n<pre><code>hooks:\n  post-start:\n  - exec: mysql -uroot -proot -hdb -e &quot;CREATE DATABASE IF NOT EXISTS second_db; GRANT\n      ALL ON second_db.* TO 'db'@'%';&quot;\n</code></pre>\n<p>And load data to the second database by using the param <code>--target-db</code>:</p>\n<p><code>ddev import-db --database=second-db --src=second-db.sql</code></p>\n"
            },
            {
                "owner": {
                    "account_id": 75176,
                    "reputation": 12110,
                    "user_id": 215713,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/eaa4a82dca6b5d2d0b58e784231caf3a?s=256&d=identicon&r=PG",
                    "display_name": "rfay",
                    "link": "https://stackoverflow.com/users/215713/rfay"
                },
                "is_accepted": true,
                "score": 47,
                "last_activity_date": 1718748888,
                "last_edit_date": 1718748888,
                "creation_date": 1523483907,
                "answer_id": 49785024,
                "question_id": 49785023,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>You can import additional databases directly with <code>ddev import-db --database=newdb</code> --file=/path/to/file.sql.gz. The created database will already have permissions, etc.</p>\n<p>You can also manually create and manage databases (although this is rarely necessary). The root password for the db server is 'root', so you can <code>mysql -uroot -proot</code> in there (or use <code>ddev mysql -uroot -proot</code>).</p>\n<ul>\n<li><code>ddev mysql -uroot -proot</code></li>\n<li><code>CREATE DATABASE newdb;</code></li>\n<li><code>GRANT ALL ON newdb.* to 'db'@'%' IDENTIFIED BY 'db';</code></li>\n<li>Now, if you want to load from a db dump, <code>ddev import-db --database=newdb --file=dumpfile.sql</code></li>\n<li>Your normal web user can now access this alternate db, and it can be used in the settings.php for your alternate multisite.</li>\n<li>There are many other things you'll want to do for your Drupal multisite; there is a full tutorial at <a href=\"https://github.com/ddev/ddev-contrib/tree/master/recipes/drupal8-multisite\" rel=\"nofollow noreferrer\">https://github.com/ddev/ddev-contrib/tree/master/recipes/drupal8-multisite</a></li>\n</ul>\n<p>More details about database management at <a href=\"https://ddev.readthedocs.io/en/stable/users/usage/database-management/\" rel=\"nofollow noreferrer\">https://ddev.readthedocs.io/en/stable/users/usage/database-management/</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 1750930,
                    "reputation": 975,
                    "user_id": 1600028,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://i.sstatic.net/oC7ob.png?s=256",
                    "display_name": "hugronaphor",
                    "link": "https://stackoverflow.com/users/1600028/hugronaphor"
                },
                "is_accepted": false,
                "score": 6,
                "last_activity_date": 1648066096,
                "creation_date": 1648066096,
                "answer_id": 71593418,
                "question_id": 49785023,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I like the approach of creating an additional <code>config.multisite.yaml</code> and add add the definition there:</p>\n<pre><code>additional_hostnames:\n  - basic\n  - umami\nhooks:\n  post-start:\n  - exec: mysql -uroot -proot -e &quot;CREATE DATABASE IF NOT EXISTS basic; GRANT ALL ON basic.* to 'db'@'%';&quot;\n    service: db\n  - exec: mysql -uroot -proot -e &quot;CREATE DATABASE IF NOT EXISTS umami; GRANT ALL ON umami.* to 'db'@'%';&quot;\n    service: db\n</code></pre>\n<p>Above is from ddev-contrib recieps <a href=\"https://github.com/drud/ddev-contrib/blob/master/recipes/drupal8-multisite/dot.ddev/config.multisite.yaml\" rel=\"noreferrer\">https://github.com/drud/ddev-contrib/blob/master/recipes/drupal8-multisite/dot.ddev/config.multisite.yaml</a></p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal"
        ],
        "owner": {
            "account_id": 24380977,
            "reputation": 11,
            "user_id": 18312545,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8da4c0f91a5f474c644cfc30365c6f65?s=256&d=identicon&r=PG",
            "display_name": "ThePretzelWagon",
            "link": "https://stackoverflow.com/users/18312545/thepretzelwagon"
        },
        "is_answered": false,
        "view_count": 33,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1718747053,
        "creation_date": 1718747053,
        "question_id": 78639764,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78639764/table-of-contents-in-a-drupal-site-not-returning-content",
        "title": "Table of contents in a Drupal site not returning content",
        "body": "<p>I have a Drupal 10 (v10.1.x-dev) site that uses the toc_js (v2.1.0) contrib module. The table of contents is toggled on/off from within the admin toolbar and the container is rendering on the page but none of the headers  -  load.</p>\n<p>Here is an image of what it looks like:</p>\n<p><a href=\"https://i.sstatic.net/AJ7ULWq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/AJ7ULWq8.png\" alt=\"table of contents with no contents\" /></a></p>\n<p>Tried reinstalling with different versions and manually changing code where appropriate to debug and fix.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-views",
            "drupal-taxonomy",
            "drupal-9",
            "drupal-10"
        ],
        "owner": {
            "account_id": 2679345,
            "reputation": 25,
            "user_id": 2314998,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/065cda1ebc526f4987263ecda83bd889?s=256&d=identicon&r=PG",
            "display_name": "Axel Achten",
            "link": "https://stackoverflow.com/users/2314998/axel-achten"
        },
        "is_answered": false,
        "view_count": 25,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1718702793,
        "creation_date": 1718702793,
        "question_id": 78636545,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78636545/drupal-views-table-view-of-documents-using-taxonomy-hierarchy",
        "title": "Drupal Views : table view of documents using taxonomy hierarchy",
        "body": "<p>I need help with a View in Drupal 10:</p>\n<p>I've got a bunch Medias (documents) on my website. These documents are sorted using a multi-level Taxonomy like this:</p>\n<pre><code>- Term 1\n  - Sub Term 1\n  - Sub Term 2\n- Term 2\n- Term 3\n</code></pre>\n<p>This Taxonomy allows editors to sort the documents into categories.\nI need to have a View using a table format, listing all documents grouped by Taxonomy term and taking sub terms into account, like this:</p>\n<pre><code>(Group Term 1)\n  (Group Sub Term 1)\n    - Document 1\n    - Document 2\n  (Group Sub Term 2)\n    - Document 3\n    - Document 4\n\n(Group Term 2)\n  - Document 5\n  - Document 6\n\n(Group Term 3)\n  - Document 7\n  - Document 8\n</code></pre>\n<p>But I always end up having the Documents 1, 2, 3 and 4 in this example listed twice, like this:</p>\n<pre><code>(Group Term 1)\n  (Group Sub Term 1)\n    - Document 1\n    - Document 2\n  (Group Sub Term 2)\n    - Document 3\n    - Document 4\n\n(Group Term 1)  /* &lt;-- this group should be excluded */\n  - Document 1\n  - Document 2\n  - Document 3\n  - Document 4\n\n(Group Term 2)\n  - Document 5\n  - Document 6\n\n(Group Term 3)\n  - Document 7\n  - Document 8\n</code></pre>\n<p>Is there a way to achieve this correctly?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-7",
            "drupal-field-collection"
        ],
        "owner": {
            "account_id": 3631299,
            "reputation": 21,
            "user_id": 3027372,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d749f774e0114c03af359ce1455f589d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Agung Suyono",
            "link": "https://stackoverflow.com/users/3027372/agung-suyono"
        },
        "is_answered": false,
        "view_count": 1228,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1718701198,
        "creation_date": 1413963365,
        "question_id": 26502404,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/26502404/sorting-field-collection-programmatically-in-drupal-7",
        "title": "Sorting Field Collection Programmatically in Drupal 7",
        "body": "<p>How to change the order/weight of the items inside field collection programmatically when the node is saved?\nAny help is appreciated. Thank you.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 2719741,
                    "reputation": 221,
                    "user_id": 2346294,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/w8oGO.gif?s=256",
                    "display_name": "Interdruper",
                    "link": "https://stackoverflow.com/users/2346294/interdruper"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1718701198,
                "last_edit_date": 1718701198,
                "creation_date": 1431876649,
                "answer_id": 30288597,
                "question_id": 26502404,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>This is a code snippet for sorting a field collection by any of its fields before saving the node:</p>\n<pre><code>function your_module_node_presave($node){\n  if ($node-&gt;type == 'foo') {\n    // We must sort by this field collection field\n    if (!empty($node-&gt;field_to_sort_by)) {\n\n      // Get the values of the sorting field. We must load the fc items for this.\n      $items = field_get_items('node', $node, 'field_to_sort_by');\n      foreach ($items as $item) {\n        $fc[] = field_collection_field_get_entity($item);\n      }\n\n      // field collection fields on nodes only contains 'value' and 'revision_id'.\n      // We temporarily add the field to sort by, \n      // for using the convenient uasort() function over the array.\n      $tmp_array = $node-&gt;field_to_sort_by[LANGUAGE_NONE];\n      foreach ($tmp_array as $key =&gt; $item) {\n        $tmp_array[$key]['sortfield'] = $fc[$key]-&gt;field_to_sort_by[LANGUAGE_NONE][0]['value'];\n      }\n\n      // Now we sort the node's field array using uasort().\n      usort($tmp_array, 'my_module_sortByField_asc');\n\n      // unset the sorting field before updating node's field collection\n      foreach ($tmp_array as $key =&gt; $item) {\n        unset($tmp_array[$key]['sortfield']);\n      }\n\n      $node-&gt;field_to_sort_by[LANGUAGE_NONE] = $tmp_array;\n    }\n\n  }\n}\n\nfunction my_module_sortByField_asc($a, $b) {\n  return $a['sortfield'] - $b['sortfield'];\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 3631299,
                    "reputation": 21,
                    "user_id": 3027372,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/d749f774e0114c03af359ce1455f589d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Agung Suyono",
                    "link": "https://stackoverflow.com/users/3027372/agung-suyono"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1413972142,
                "creation_date": 1413972142,
                "answer_id": 26504943,
                "question_id": 26502404,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Already found the answer.  I'm using <code>hook_node_presave</code> and then reorder the field collection array. Previously I was using <code>hook_node_update</code> and it didn't work.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-views",
            "drupal-9",
            "orcid"
        ],
        "owner": {
            "account_id": 11105167,
            "reputation": 13,
            "user_id": 8153712,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/e942d7bae432d80c5125e032c2341c12?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "ÐÑ€Ñ‚ÐµÐ¼",
            "link": "https://stackoverflow.com/users/8153712/%d0%90%d1%80%d1%82%d0%b5%d0%bc"
        },
        "is_answered": false,
        "view_count": 31,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1718604813,
        "creation_date": 1717603863,
        "last_edit_date": 1718604813,
        "question_id": 78582287,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78582287/orcid-public-api-get-all-works-of-person-url-format-for-request",
        "title": "ORCID, public API - get all works of person - URL format for request",
        "body": "<p>A few minutes later I try to get authentication API key for ORCID public API. I haven't received the authentication key yet, but already try to study with the API.</p>\n<p>I try to find format of URL, to get a list of all person's works, but I have no success with it. Maybe someone has more experience with ORCID API?</p>\n<p><strong>What for</strong>: I try to create drupal module that will be import a list of works on a person page. I already find a module that can do it via drupal views <a href=\"https://www.drupal.org/project/views_remote_data\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/views_remote_data</a> . In drupal website, on profile content page, editor will add ORCID person identifier to field, and after saving, on frontent, via drupal View (view remote data) you will see list of person's publications (imported from ORCID).</p>\n<p>But, before development of module for drupal I need data for this module, that I must to get from ORCID public API :) And I need your help with this.</p>\n<p>So, I know person's identifier, that I can get from URL of person page:</p>\n<p><a href=\"https://orcid.org/0009-0000-4276-4816\" rel=\"nofollow noreferrer\">https://orcid.org/0009-0000-4276-4816</a> (as you can see, this page also has &quot;Works&quot; section). I think that number 0009-0000-4276-4816 is a person identifier in ORCID URL. And, I think, that in ORCID public API must be some URL for request all person's works. I didn't find such examples in documentation.</p>\n<p>I need your help with URL format for ORCID (I think with developer API identifier inside) via which, I can get all works of the person.</p>\n<p>In documentation <a href=\"https://info.orcid.org/documentation/api-tutorials/api-tutorial-searching-the-orcid-registry/\" rel=\"nofollow noreferrer\">https://info.orcid.org/documentation/api-tutorials/api-tutorial-searching-the-orcid-registry/</a> I didn't find such examples. So maybe, someone has already solved this issue and has more experience with this?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "symfony",
            "drupal"
        ],
        "owner": {
            "account_id": 218372,
            "reputation": 3035,
            "user_id": 474657,
            "user_type": "registered",
            "accept_rate": 68,
            "profile_image": "https://www.gravatar.com/avatar/3c71c97c4230dd2c5a203597b97cd796?s=256&d=identicon&r=PG",
            "display_name": "Wintermute",
            "link": "https://stackoverflow.com/users/474657/wintermute"
        },
        "is_answered": false,
        "view_count": 123,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1718597071,
        "creation_date": 1697124904,
        "last_edit_date": 1718597071,
        "question_id": 77281999,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/77281999/drupal-10-argument-value-resolver-via-compiler-pass-gives-type-error",
        "title": "Drupal 10: argument value resolver via compiler pass gives type error",
        "body": "<p>I'm picking up a bug with a Drupal site that we're upgrading to Drupal 10:</p>\n<blockquote>\n<p>TypeError: Drupal\\my_module\\Controller\\ApiController::catchAll():\nArgument #1 ($request) must be of type\nSymfony\\Component\\HttpFoundation\\Request,\nDrupal\\my_module\\Entity\\Channel given in\nDrupal\\my_module\\Controller\\ApiController-&gt;catchAll() (line 50 of\nmodules/custom/my_module/src/Controller/ApiController.php).</p>\n</blockquote>\n<p>We... seem to be using a custom service to inject the current Channel into the controller via a compiler pass, which was working fine until we tried upgrading to D10. Now it looks like... every argument passed to the controller is a Channel instance?</p>\n<p>Service definition:</p>\n<pre><code>my_module.argument_resolver.channel_resolver:\n    class: Drupal\\my_module\\Resolver\\ChannelResolver\n    arguments:\n        - '@entity_type.manager'\n    autowire: true\n    tags:\n        - { name: controller.argument_value_resolver, priority: 50 }\n</code></pre>\n<p>Service provider:</p>\n<pre><code>class MyModuleServiceProvider extends ServiceProviderBase\n{\n    /**\n     * {@inheritdoc}\n     */\n    public function register(ContainerBuilder $container)\n    {\n        $container-&gt;addCompilerPass(new ControllerArgumentValueResolverPass('http_kernel.controller.argument_resolver'));\n    }\n}\n</code></pre>\n<p>Compiler pass:</p>\n<pre><code>class ControllerArgumentValueResolverPass implements CompilerPassInterface\n{\n    use PriorityTaggedServiceTrait;\n\n    private $argumentResolverService;\n    private $argumentValueResolverTag;\n\n    public function __construct($argumentResolverService = 'argument_resolver', $argumentValueResolverTag = 'controller.argument_value_resolver')\n    {\n        $this-&gt;argumentResolverService = $argumentResolverService;\n        $this-&gt;argumentValueResolverTag = $argumentValueResolverTag;\n    }\n\n    public function process(ContainerBuilder $container)\n    {\n        if (!$container-&gt;hasDefinition($this-&gt;argumentResolverService)) {\n            return;\n        }\n\n        $container\n            -&gt;getDefinition($this-&gt;argumentResolverService)\n            -&gt;replaceArgument(1,\n                array_merge(\n                    $this-&gt;findAndSortTaggedServices($this-&gt;argumentValueResolverTag, $container),\n                    $container-&gt;getDefinition($this-&gt;argumentResolverService)-&gt;getArgument(1)\n                ));\n    }\n}\n</code></pre>\n<p>If it's not already clear, I have... very little idea what this code is doing. But we have a bug where a controller isn't getting the agruments it's expecting, and this code seems to be altering the arguments passed to controllers. Apologies for the vagueness of the question, but does anyone have any suggestions for how to debug this? Or why it might be D10 related?</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-8",
            "drupal-views"
        ],
        "owner": {
            "account_id": 6269650,
            "reputation": 169,
            "user_id": 4874247,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://i.sstatic.net/4qn89.png?s=256",
            "display_name": "HasseWilson",
            "link": "https://stackoverflow.com/users/4874247/hassewilson"
        },
        "is_answered": false,
        "view_count": 62,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1718392947,
        "creation_date": 1718367819,
        "last_edit_date": 1718392947,
        "question_id": 78622924,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78622924/want-to-render-an-ajax-form-in-a-vbo-enabled-view-in-drupal-10",
        "title": "Want to render an ajax form in a VBO enabled view in drupal 10",
        "body": "<p>I have a VBO Enabled view in Drupal 10. In that view, i have a custom made Field that renders a form field. So it's like a form in a form.</p>\n<p>I need to get that form element to submit with ajax, and not being a part of the VBO form. Right now it renders as a part of VBO and getting an error in watchdog.</p>\n<blockquote>\n<p>The specified #ajax callback is empty or not callable</p>\n</blockquote>\n<p>And this in the browser console</p>\n<blockquote>\n<p>Oops, something went wrong. Check your browser's developer console for more details.</p>\n</blockquote>\n<p>The form field could be available for several rows, so it have to be unique for this row.</p>\n<p>What am I missing here ?</p>\n<p>This is my custom form</p>\n<h3>PickupStoreForm.php</h3>\n<pre><code>&lt;?php\n\nnamespace Drupal\\freecopy\\Form;\n\nuse Drupal\\Core\\Form\\FormBase;\nuse Drupal\\Core\\Form\\FormStateInterface;\n\nclass PickupStoreForm extends FormBase\n{\n\n  public $sub_id = 0;\n\n  /**\n   * {@inheritdoc}\n   */\n  public function getFormId()\n  {\n    return 'freecopy_pickup_store_form_' . $this-&gt;sub_id;\n  }\n\n  public function buildForm(array $form, FormStateInterface $form_state, $pickup_store = null)\n  {\n\n    $wrapper = 'ajax-wrapper-' . $this-&gt;sub_id;\n\n    $vocabulary = 'pickup_stores';\n    $terms = \\Drupal::entityTypeManager()-&gt;getStorage('taxonomy_term')-&gt;loadTree($vocabulary);\n\n    // Prepare options array for the dropdown.\n    $options = [];\n    foreach ($terms as $term) {\n      $options[$term-&gt;tid] = $term-&gt;name;\n    }\n\n    // Add a dropdown field to the form.\n    $form['pickup_store_' . $this-&gt;sub_id] = [\n      '#type' =&gt; 'select',\n      '#options' =&gt; $options,\n      '#default_value' =&gt; $pickup_store,\n      '#required' =&gt; TRUE,\n      '#ajax' =&gt; [\n        'callback' =&gt; '::ajaxCallback',\n        'wrapper' =&gt; $wrapper,\n        'event' =&gt; 'change',\n      ]\n    ];\n\n    $form['result'] = [\n      '#type' =&gt; 'markup',\n      '#markup' =&gt; '&lt;div id=&quot;'.$wrapper.'&quot;&gt;&lt;/div&gt;',\n    ];\n\n    return $form;\n  }\n\n  public function ajaxCallback(array &amp;$form, FormStateInterface $form_state)\n  {\n    // Update data on the row, when fired.\n    return [];\n  }\n\n  /**\n   * {@inheritdoc}\n   */\n  public function submitForm(array &amp;$form, FormStateInterface $form_state)\n  {\n  }\n\n}\n</code></pre>\n<p>And this is my custom Views field</p>\n<h3>PickupStore.php</h3>\n<pre><code>&lt;?php\n\nnamespace Drupal\\freecopy\\Plugin\\views\\field;\n\nuse Drupal\\Core\\Form\\FormBuilderInterface;\nuse Drupal\\freecopy\\Form\\PickupStoreForm;\nuse Drupal\\views\\Annotation\\ViewsField;\nuse Drupal\\views\\Plugin\\views\\field\\FieldPluginBase;\nuse Drupal\\views\\ResultRow;\nuse Drupal\\webform\\Entity\\WebformSubmission;\nuse Symfony\\Component\\DependencyInjection\\ContainerInterface;\n\n/**\n * @ViewsField(&quot;pickup_store_dropdown&quot;)\n */\nclass PickupStore extends FieldPluginBase\n{\n  public function __construct(array $configuration,\n                              $plugin_id,\n                              array $plugin_definition,\n                              protected FormBuilderInterface $form_builder\n  ) {\n    parent::__construct($configuration, $plugin_id, $plugin_definition);\n  }\n\n  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {\n    return new static(\n      $configuration,\n      $plugin_id,\n      $plugin_definition,\n      $container-&gt;get('form_builder')\n    );\n  }\n\n  public function query() {}\n\n  public function render(ResultRow $values)\n  {\n\n    /** @var WebformSubmission $entity */\n    $entity = $this-&gt;getEntity($values);\n    $submissionData = $entity-&gt;getData();\n\n    if ('awaiting' !== $submissionData['status']) {\n      return;\n    }\n\n    $form = $this-&gt;form_builder-&gt;getForm(PickupStoreForm::class, $submissionData['pickup_store']);\n    $renderedForm = $this-&gt;renderer-&gt;render($form);\n\n    return [\n      '#markup' =&gt;  $renderedForm,\n    ];\n  }\n\n}\n</code></pre>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "mysql",
            "drupal",
            "utf-8"
        ],
        "owner": {
            "account_id": 27786,
            "reputation": 27433,
            "user_id": 73673,
            "user_type": "registered",
            "accept_rate": 95,
            "profile_image": "https://i.sstatic.net/H81Fx.jpg?s=256",
            "display_name": "berkes",
            "link": "https://stackoverflow.com/users/73673/berkes"
        },
        "is_answered": true,
        "view_count": 792,
        "accepted_answer_id": 5203627,
        "answer_count": 4,
        "score": 1,
        "last_activity_date": 1718374256,
        "creation_date": 1280355402,
        "last_edit_date": 1718374256,
        "question_id": 3358005,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/3358005/utf8-characters-not-printed-as-such-in-drupals-html",
        "title": "UTF8 characters not printed as such in Drupal&#39;s HTML",
        "body": "<p>I am trying to debug a nasty utf-8 problem, and do not know where to start.</p>\n<p>A page contains the word 'categorieÃƒÂ«n', which should be categorieÃ«n. Clearly something is wrong with the UTF-8. This happens with all these multibyte characters. I have scanned the gazillion topics here on UTF8, but they mostly cover the basics, not this situation where everything appears to be configured and set correct, but clearly is not.</p>\n<p>The pages are served by Drupal, from a MySQL database.</p>\n<p>The database was migrated (not by me) by sql-dumping and -importing through phpmyadmin. Good chance something went wrong there, because before, there was no problem. And because the problem occurs only on older, imported items. Editing these items or inserting new ones, and fixing the wrongly encoded characters by hand, fixes the problem. Though I cannot see a difference in the database.</p>\n<ul>\n<li>Content re-edited through Drupal does not have this problem.</li>\n<li>When, on the CLI, using MySQL, I can  read out that text and get the correct Ã« character.  On both The articles that render &quot;correct &quot;and &quot;incorrect&quot; characters.</li>\n<li>The tables have collation <code>utf8_general_ci</code></li>\n<li>Headers appear to be sent with correct encoding: <code>Vary   Accept-Encoding</code> and <code>Content-Type  text/html; charset=utf-8</code></li>\n<li>HTML head contains a <code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</code></li>\n<li>the HTTP headers tell me there is a Varnish proxy in-between. Could that cause UTF8-conversion/breakage</li>\n<li>content is served Gzipped, normal in Drupal, and I have never seen this UTF8 issue with regard to the gzipping, but you never know.</li>\n</ul>\n<p>It appears the import is the culprit and I would like to know\na) what went wrong.\nb) why I cannot see a difference in the MySQL cli client between &quot;wrong&quot; and &quot;correct&quot; characters\nc) how to fix the database, or where to start looking and learning on how to fix it.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 306661,
                    "reputation": 669,
                    "user_id": 1620179,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/85eb59294cf22b17901ddf7c14670ce3?s=256&d=identicon&r=PG",
                    "display_name": "GMO",
                    "link": "https://stackoverflow.com/users/1620179/gmo"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1299687912,
                "creation_date": 1299687912,
                "answer_id": 5248797,
                "question_id": 3358005,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>To be absolutely sure you have utf8 from start to end:<br>\n   - source code files in utf8 without BOM<br>\n   - database with utf8 collation<br>\n   - database tables with utf8 collation<br>\n   - database connection in utf8  (query it with 'SET CHARSET UTF8')<br>\n   - pages header set to utf8 (the ajax ones too) \n   - meta tag to set page in utf8</p>\n"
            },
            {
                "owner": {
                    "account_id": 321950,
                    "reputation": 351,
                    "user_id": 641077,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/f159e741bd1afde280cb60388121d0ac?s=256&d=identicon&r=PG",
                    "display_name": "Berklee",
                    "link": "https://stackoverflow.com/users/641077/berklee"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1299666488,
                "creation_date": 1299666488,
                "answer_id": 5244404,
                "question_id": 3358005,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You mention that the import might be the problem. In that case it's possible that during import the connection with the client and the MySQL server wasn't using UTF-8. I've had this problem a couple of times in the past, so I'd like to share with you these MySQL settings (in my.conf):</p>\n\n<p>Under the server settings add these:</p>\n\n<pre><code># UTF 8\ndefault-character-set=utf8\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\nskip-character-set-client-handshake\n</code></pre>\n\n<p>And under the client settings add:</p>\n\n<pre><code>default-character-set=utf8\n</code></pre>\n\n<p>This might save you some headache the next time.</p>\n"
            },
            {
                "owner": {
                    "account_id": 210154,
                    "reputation": 2020,
                    "user_id": 461604,
                    "user_type": "registered",
                    "accept_rate": 92,
                    "profile_image": "https://www.gravatar.com/avatar/a6483550f07b5ab70539af63e6f51a36?s=256&d=identicon&r=PG",
                    "display_name": "red",
                    "link": "https://stackoverflow.com/users/461604/red"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1299481254,
                "creation_date": 1299481254,
                "answer_id": 5216776,
                "question_id": 3358005,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>There should have not gone anything awol in exporting and importing a Drupal dump, unless the person doing this somehow succeeded into setting the export as something else than UTF8. We export/import dumps a lot and have never bumped into a such problem. </p>\n\n<p>Hopefully Pekkas answers will help you to resolve the issue, if it is in the DB, but I also thought that you could check wether the data being shown on the web page is being ran through some php functions that arent multibyte friendly.</p>\n\n<p>Here are some equivalents of normal functions in mb: <a href=\"http://php.net/manual/en/ref.mbstring.php\" rel=\"nofollow\">http://php.net/manual/en/ref.mbstring.php</a></p>\n\n<p>ps. If you have recently moved your site to another server (so it's not just a db import), you should check what headers your site is sending out with a tool such as <a href=\"http://www.webconfs.com/http-header-check.php\" rel=\"nofollow\">http://www.webconfs.com/http-header-check.php</a></p>\n\n<p>Make sure the last row has UTF8 in it. </p>\n"
            },
            {
                "owner": {
                    "account_id": 63368,
                    "reputation": 448269,
                    "user_id": 187606,
                    "user_type": "registered",
                    "accept_rate": 90,
                    "profile_image": "https://i.sstatic.net/zzxoB.jpg?s=256",
                    "display_name": "Pekka",
                    "link": "https://stackoverflow.com/users/187606/pekka"
                },
                "is_accepted": true,
                "score": 4,
                "last_activity_date": 1299325909,
                "last_edit_date": 1495541993,
                "creation_date": 1299325909,
                "answer_id": 5203627,
                "question_id": 3358005,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>The dump file was probably output as UTF-8, but interpreted as latin1 during import.</p>\n\n<p>The <code>ÃƒÂ«</code>, the latin1 two-byte representation of UTF-8's <code>Ã«</code>, is physically in your tables as UTF-8 data.</p>\n\n<p>Seeing as you have a mix of intact <em>and</em> broken data, this will be tough to fix in a general way, but usually, this dirty workaround<sup>*</sup> will work well: </p>\n\n<pre><code>UPDATE table SET column = REPLACE(\"ÃƒÂ«\", \"Ã«\", column);\n</code></pre>\n\n<p>Unless you are working with languages other than dutch, the range of broken characters should be extremely limited and you might be able to fix it with a small number of such statements.</p>\n\n<p>Related questions with the same problem: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1476356/detecting-utf8-broken-characters-in-mysql\">Detecting utf8 broken characters in MySQL</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/1344692/i-need-help-fixing-broken-utf8-encoding\">I need help fixing Broken UTF8 encoding</a></li>\n</ul>\n\n<p><sub>* <em>(of course, <strong>don't forget to make backups</strong> before running anything like this!)</em></sub></p>\n"
            }
        ]
    },
    {
        "tags": [
            "ssl",
            "drupal",
            "openssl",
            "composer-php",
            "ssl-certificate"
        ],
        "owner": {
            "account_id": 26961281,
            "reputation": 1,
            "user_id": 25510227,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ALm5wu0Q1OeEOAfZTlpe0qv1mgYpvEmJ3JEj1kEj2hif0A=k-s256",
            "display_name": "techenzie",
            "link": "https://stackoverflow.com/users/25510227/techenzie"
        },
        "is_answered": false,
        "view_count": 172,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1718333910,
        "creation_date": 1718037457,
        "question_id": 78603543,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78603543/ssl-operation-failed-with-code-1-certificate-verification-failed",
        "title": "SSL operation failed with code 1 | Certificate verification failed",
        "body": "<p>So I am getting this error when I am trying to install modules and dependencies for one of my codebases. (composer install for Drupal site)</p>\n<pre><code>Could not apply patch! Skipping. The error was: The &quot;https://www.drupal.org/files/issues/2022-12-20/2689459-161.patch&quot; file could \nnot be downloaded: SSL operation failed with code 1. OpenSSL Error messages:\nerror:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\nFailed to enable crypto\nFailed to open stream: operation failed\n\nIn Patches.php line 331:\n\n  Cannot apply patch If you don't want to translate your URL alias, the original URL alias won't work with your translations (http   \n  s://www.drupal.org/files/issues/2022-12-20/2689459-161.patch)!\n</code></pre>\n<p>This was working fine on my system until last week. I had to remove and reinstall git because it was acting weird with the GitHub Desktop application. During this process, I believe something changed. I saw that <code>C:\\Program Files\\Common Files\\SSL</code> folder was not there anymore. I didn't check it before I faced this issue but it seems that this folder is normally present at this location.</p>\n<p>I installed OpenSSL as well and this was restored to the same location. But it didn't work for me. Then I thought it could be my company ZScaler tenant issue. I got in touch with that team and got the url whitelisted and also tried unloading ZScaler and eventually uninstalled it. But this didn't work either.</p>\n<p>I updated the CA certs as well with the latest ones available and changed the same under <code>php.ini</code> of my XAMPP. That didn't work.</p>\n<p>I am looking for some answers on why this issue is being caused and what can be done in-order to move past this. Please let me know if you need any other information regarding this issue.</p>\n<p>Any help is appreciated!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 14822597,
                    "reputation": 104,
                    "user_id": 10704387,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/ML4En.jpg?s=256",
                    "display_name": "Son Nguyen",
                    "link": "https://stackoverflow.com/users/10704387/son-nguyen"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1718333910,
                "last_edit_date": 1718333910,
                "creation_date": 1718186141,
                "answer_id": 78611904,
                "question_id": 78603543,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I'm not sure your CA certificate is correct, but you can download the patch file and store it in the 'patch' folder, then reconfigure this file in Composer.json</p>\n<p><strong>For you CA file, update the certificate by steps:</strong></p>\n<p>Update the CA file of the php environment</p>\n<p>Go to url <code>https://www.drupal.org/files/issues/2022-12-20/2689459-161.patch</code></p>\n<p>Press F12 (Developer tool), select the Security tab, click <code>View certificate</code> &gt; Details tab &gt; Export &gt; open export file and copy all text</p>\n<p>Go to the <code>php.ini</code> file and find the line <code>curl.cainfo = &quot;C:\\...\\cacert.pem&quot;</code>, to locate the cacert.pem file, open the cacert.pem file and paste the file's contents cert you exported before at the end of the file, save it and try running composer again</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "internationalization"
        ],
        "owner": {
            "account_id": 88044,
            "reputation": 9026,
            "user_id": 243806,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://www.gravatar.com/avatar/458848f3a085f562559af4ef8f1e5a6b?s=256&d=identicon&r=PG",
            "display_name": "toast38coza",
            "link": "https://stackoverflow.com/users/243806/toast38coza"
        },
        "is_answered": true,
        "view_count": 2659,
        "accepted_answer_id": 4151489,
        "answer_count": 4,
        "score": 3,
        "last_activity_date": 1718242705,
        "creation_date": 1288732867,
        "last_edit_date": 1718242705,
        "question_id": 4082197,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/4082197/drupal-module-invoke-and-i18n",
        "title": "Drupal module_invoke() and i18n",
        "body": "<p>I am tasked with i18n-ing our current CMS setup in Drupal. \nThe problem that I am facing is with use of module_invoke() to place blocks within nodes. </p>\n\n<p>I have managed to string translate blocks, and that is working when a block is placed in a region (block content is successfully translated) using the UI. </p>\n\n<p>However, when a block is injected into a node like such:</p>\n\n<pre><code>$block = module_invoke('block', 'block', 'view', 22); print $block['content'];\n</code></pre>\n\n<p>It is not getting translated, or even worse, not showing at all. </p>\n\n<p>I have also tried this variation using t(). e.g.:</p>\n\n<pre><code>$block = module_invoke('block', 'block', 'view', 22); print t($block['content']);\n</code></pre>\n\n<p>to no avail. </p>\n\n<p>Generally speaking I've having a bit of trouble with blocks for i18n. Does anyone have a recommended approach for dealing with blocks in drupal with regards to translating them? I would prefer not to create different blocks for each language. </p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 362905,
                    "reputation": 43,
                    "user_id": 706345,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/176d6173974f063b9494e390ce5b6828?s=256&d=identicon&r=PG",
                    "display_name": "Axagthoth",
                    "link": "https://stackoverflow.com/users/706345/axagthoth"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1393524749,
                "creation_date": 1393524749,
                "answer_id": 22076871,
                "question_id": 4082197,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I had exactly the same problem as you, since I was using</p>\n\n<pre><code>  $block = module_invoke('block', 'block_view', 'block_id');\n  print render($block['content']);\n</code></pre>\n\n<p>to inject the block into my nodes. However, looking up <a href=\"https://api.drupal.org/api/drupal/includes!module.inc/function/module_invoke/7\" rel=\"nofollow\">module_invoke</a> in the Drupal reference, I found a comment titled \"to render blocks in Drupal 7 better to use Block API\", with this code:</p>\n\n<pre><code>  function block_render($module, $block_id) {\n    $block = block_load($module, $block_id);\n    $block_content = _block_render_blocks(array($block));\n    $build = _block_get_renderable_array($block_content);\n    $block_rendered = drupal_render($build);\n    return $block_rendered;\n  }\n</code></pre>\n\n<p>I just un-functioned it to use directly, like so:</p>\n\n<pre><code>  $block = block_load('block', 'block_id');\n  $block_content = _block_render_blocks(array($block));\n  $build = _block_get_renderable_array($block_content);\n  print render($build);\n</code></pre>\n\n<p>And for me it works like a charm. Be aware however that this method prints the block title as well, so maybe you'll want to set it to 'none' in the original language.</p>\n"
            },
            {
                "owner": {
                    "account_id": 728116,
                    "reputation": 11,
                    "user_id": 668405,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/5f75bc2f2ad72ffdd9ef282559ef1cab?s=256&d=identicon&r=PG",
                    "display_name": "Jordan",
                    "link": "https://stackoverflow.com/users/668405/jordan"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1300641286,
                "creation_date": 1300641286,
                "answer_id": 5370062,
                "question_id": 4082197,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Create a function like this</p>\n\n<pre><code>&lt;?php\n\nfunction stg_allcontent2($allC, $level\n= \"1\") {\n\n    global $language;   $lang = $language-&gt;language;\n\n    foreach ($allC as $acKey =&gt; $ac) {\n\n        if($ac['link']['options']['langcode']\n== $lang){          if ($level == \"1\") \n                $toR .= \"\";\n\n            if (is_array($ac['below']))\n                $class=\"expanded\";          else\n                $class=\"leaf\";\n                            $toR .= \"&lt;li class=\\\"\".$class.\"\\\"&gt;\" . l($ac['link']['link_title'], $ac['link']['link_path']) . \"&lt;/li&gt;\";\n\n            if ($level != \"1\") $toR .= \"\";          if (is_array($ac['below'])) $toR .= \"&lt;ul class=\\\"menu\\\"&gt;\".stg_allcontent2($ac['below'], \"2\").\"&lt;/ul&gt;\";           if ($level == \"1\") $toR .= \"\";      }\n    }\n    return $toR; } ?&gt;\n</code></pre>\n\n<p>call like this</p>\n\n<pre><code>&lt;?php echo '&lt;ul class=\"menu\"&gt;'; echo stg_allcontent2(menu_tree_all_data($menu_name\n= 'menu-header', $item = NULL)); echo '&lt;/ul&gt;'; ?&gt;\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 88044,
                    "reputation": 9026,
                    "user_id": 243806,
                    "user_type": "registered",
                    "accept_rate": 50,
                    "profile_image": "https://www.gravatar.com/avatar/458848f3a085f562559af4ef8f1e5a6b?s=256&d=identicon&r=PG",
                    "display_name": "toast38coza",
                    "link": "https://stackoverflow.com/users/243806/toast38coza"
                },
                "is_accepted": true,
                "score": 3,
                "last_activity_date": 1289451730,
                "creation_date": 1289451730,
                "answer_id": 4151489,
                "question_id": 4082197,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>So .. After digging around in the bowels of Drupal - and much hair pulling .. I've come up with an almost decent solution. </p>\n\n<p>Basically, with this function, I can extract a translated version of a block:</p>\n\n<pre><code>function render_i18n_block($block_id, $region = \"hidden\"){\n\n    if ($list = block_list($region)) {\n        foreach ($list as $key =&gt; $block) {\n          // $key == &lt;i&gt;module&lt;/i&gt;_&lt;i&gt;delta&lt;/i&gt;\n          $key_str = \"block_\".$block_id;\n          if ($key_str == $key){\n          return theme('block', $block);\n          }\n        }\n    }\n}\n</code></pre>\n\n<p>Then, in my node, I simple call: </p>\n\n<pre><code>&lt;?php echo render_i18n_block(&lt;block_id&gt;,&lt;region&gt;); ?&gt;\n</code></pre>\n\n<p>There can be some issues where your blocks might not be displaying in a region (and therefore you can't pass a region into block_list). For this case, I simply created a region called \"hidden\" which is not rendered anywhere in my template, but can be used to call block_list. </p>\n\n<p>Finally (and this is the part that I still need to find a good solution for), I discovered that block_list() in: includes/blocks/block.inc has a bit of an issue. </p>\n\n<p>It appears that $theme_key is not reliably set unless block_list() is being called from the theme() function (in includes/themes.inc) .. this causes the SQL to return an empty results set. The SQL looks like this:</p>\n\n<pre><code>$result = db_query(db_rewrite_sql(\"SELECT DISTINCT b.* FROM {blocks} b LEFT JOIN {blocks_roles} r ON b.module = r.module AND b.delta = r.delta WHERE b.theme = '%s' AND b.status = 1 AND (r.rid IN (\". db_placeholders($rids) .\") OR r.rid IS NULL) ORDER BY b.region, b.weight, b.module\", 'b', 'bid'), array_merge(array($theme_key), $rids));\n</code></pre>\n\n<p>As you can see, if theme_key is not set, then it will just return an empty result. \nFor now I am bypassing this by simply adding:</p>\n\n<pre><code>if (!isset($theme_key)){$theme_key=\"&lt;my_theme_name&gt;\";}\n</code></pre>\n\n<p>in modules/blocks/block.inc::block_list() around line 429 .. I still need to work out a better way to do this. </p>\n\n<ul>\n<li>10 for anyone with suggestions on how I could ensure that $theme_key is set before calling block_list :)</li>\n</ul>\n"
            },
            {
                "owner": {
                    "account_id": 225093,
                    "reputation": 76,
                    "user_id": 485378,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/8449e4e9f1aaa1dfaa18c131f1e8a1c8?s=256&d=identicon&r=PG",
                    "display_name": "patlc",
                    "link": "https://stackoverflow.com/users/485378/patlc"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1288800578,
                "last_edit_date": 1288800578,
                "creation_date": 1288750165,
                "answer_id": 4083711,
                "question_id": 4082197,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>This may help you:  <a href=\"http://drupal-translation.com/content/translating-block-contents#\" rel=\"nofollow\">http://drupal-translation.com/content/translating-block-contents#</a></p>\n\n<p>UPDATE: the t() function allows you to pass in the language code to use.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6"
        ],
        "owner": {
            "account_id": 51117,
            "reputation": 175,
            "user_id": 152641,
            "user_type": "registered",
            "accept_rate": 73,
            "profile_image": "https://www.gravatar.com/avatar/ec6081103af16c86bf1a965043e93798?s=256&d=identicon&r=PG",
            "display_name": "ldweeks",
            "link": "https://stackoverflow.com/users/152641/ldweeks"
        },
        "is_answered": true,
        "view_count": 676,
        "accepted_answer_id": 1797254,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1718142284,
        "creation_date": 1259156113,
        "last_edit_date": 1718142284,
        "question_id": 1796948,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/1796948/how-can-i-associate-many-existing-files-with-drupal-filefield",
        "title": "How can I associate many existing files with drupal filefield?",
        "body": "<p>I have many mp3 files stored on my server already from a static website, and we're now moving to drupal. I'm going to create a node for each audio file, but I don't want to have to upload each file again. I'd rather copy the files into the drupal files directory where I want them, and then associate the nodes with the appropriate file.</p>\n\n<p>Any ideas on how to accomplish that?</p>\n\n<p>Thanks!</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 49321,
                    "reputation": 42881,
                    "user_id": 146792,
                    "user_type": "registered",
                    "accept_rate": 88,
                    "profile_image": "https://www.gravatar.com/avatar/d321b6a6a9c8aeb609111c4ceb516e42?s=256&d=identicon&r=PG",
                    "display_name": "mac",
                    "link": "https://stackoverflow.com/users/146792/mac"
                },
                "is_accepted": true,
                "score": 4,
                "last_activity_date": 1259160945,
                "last_edit_date": 1259160945,
                "creation_date": 1259159311,
                "answer_id": 1797254,
                "question_id": 1796948,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I am not sure if I am going to propose a different approach or if I am about to tell with different words what you already meant with your original question, but as you want the nodes to be the files, I would rather generate the nodes starting from the files, rather than associating existing nodes with existing files.</p>\n\n<p>In generic terms I would do it programmatically: for each existing files in your import directory I would build the <code>$node</code> object and then invoke <code>node_save($node)</code> to store it in Drupal.</p>\n\n<p>Of course in building the <code>$node</code> object you will need to invoke the API function of the module you are using to manage the files. Here's some sample code I wrote to do a similar task. In this scenario I was attaching a <em>product sheet</em> to a product (a node with additional fields), so...</p>\n\n<ul>\n<li><code>field_sheet</code> was the CCK field for the product sheet in the product node</li>\n<li><code>product</code> was the node type</li>\n<li><code>$sheet_file</code> was the complete reference (path + filename) to the product sheet file.</li>\n</ul>\n\n<p>So the example:</p>\n\n<pre><code>// Load the CCK field\n$field = content_fields('field_sheet', 'product');\n// Load the appropriate validators\n$validators = array_merge(filefield_widget_upload_validators($field));\n// Where do we store the files?\n$files_path = filefield_widget_file_path($field);\n// Create the file object\n$file = field_file_save_file($sheet_file, $validators, $files_path);\n// Apply the file to the field, this sets the first file only, could be looped\n// if there were more files\n$node-&gt;field_scheda = array(0 =&gt; $file);\n// The file has been copied in the appropriate directory, so it can be\n// removed from the import directory\nunlink($sheet_file);\n</code></pre>\n\n<p>BTW: if you use a library to read MP3 metadata, you could set $node->title and other attributes in a sensible way.</p>\n\n<p>Hope this helps!</p>\n"
            },
            {
                "owner": {
                    "account_id": 61778,
                    "reputation": 5907,
                    "user_id": 183929,
                    "user_type": "registered",
                    "accept_rate": 98,
                    "profile_image": "https://www.gravatar.com/avatar/76e58b41e1f6bfaa974ef403dbefc9f9?s=256&d=identicon&r=PG",
                    "display_name": "Mike Crittenden",
                    "link": "https://stackoverflow.com/users/183929/mike-crittenden"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1259156459,
                "creation_date": 1259156459,
                "answer_id": 1796978,
                "question_id": 1796948,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>The <a href=\"http://drupal.org/project/file_import\" rel=\"nofollow noreferrer\">file_import module</a> doesn't do exactly what you want (it creates node attachments instead of nodes), but it would be relatively simple to use that module as guidance along with the Drapal API to do what you want.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 211347,
            "reputation": 2219,
            "user_id": 463456,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://www.gravatar.com/avatar/55ef76639b2e800d3b91e4232efc4d4f?s=256&d=identicon&r=PG",
            "display_name": "Ted",
            "link": "https://stackoverflow.com/users/463456/ted"
        },
        "is_answered": true,
        "view_count": 346,
        "accepted_answer_id": 5131676,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1718088302,
        "creation_date": 1298774871,
        "last_edit_date": 1718088302,
        "question_id": 5131121,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/5131121/no-actions-available-for-my-custom-drupal-trigger",
        "title": "No actions available for my custom Drupal trigger",
        "body": "<p>I am writing a Drupal module (filemaker) and defined some custom triggers. The triggers show up just fine, but say 'No available actions for this trigger.' at admin/build/trigger/filemaker.</p>\n\n<p>Any idea how to make actions available for my trigger?</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>/**\n * Implementation of hook_hook_info().\n */\nfunction filemaker_hook_info() {\n  return array(\n    'filemaker' =&gt; array(\n      'filemaker' =&gt; array(\n        'create' =&gt; array(\n          'runs when' =&gt; t('After creating a FileMaker record'),\n        ),\n        'update' =&gt; array(\n          'runs when' =&gt; t('After updating a FileMaker record'),\n        ),\n      ),\n    ),\n  );\n}\n\n/**\n * Implementation of hook_filemaker().\n */\nfunction filemaker_filemaker($op, $node) {\n  $aids = _trigger_get_hook_aids('filemaker', $op);\n  $context = array(\n    'hook' =&gt; 'filemaker',\n    'op' =&gt; $op,\n    'node' =&gt; $node,\n  );\n  actions_do(array_keys($aids), $node, $context);\n}\n\n[...]\n    // Fire off the hook.\n    module_invoke_all('filemaker', 'create', $node);\n[...]\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 211347,
                    "reputation": 2219,
                    "user_id": 463456,
                    "user_type": "registered",
                    "accept_rate": 89,
                    "profile_image": "https://www.gravatar.com/avatar/55ef76639b2e800d3b91e4232efc4d4f?s=256&d=identicon&r=PG",
                    "display_name": "Ted",
                    "link": "https://stackoverflow.com/users/463456/ted"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1298910000,
                "last_edit_date": 1298910000,
                "creation_date": 1298785560,
                "answer_id": 5131676,
                "question_id": 5131121,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Got it. Found the answer <a href=\"http://drupal.org/node/375833\" rel=\"nofollow\">here</a>.</p>\n\n<p>Needed a hook_action_info_alter().</p>\n\n<pre><code>/**\n * Implementation of hook_action_info_alter().\n */\nfunction filemaker_action_info_alter(&amp;$info) {\n\n  // Loop through each action.\n  foreach ($info as $type =&gt; $data) {\n\n    // Only add our trigger to node or system actions.\n    if (stripos($type, \"node_\") === 0 || stripos($type, \"system_\") === 0) {\n\n      // Don't remove any triggers that are already added to the approved list.\n      if (isset($info[$type]['hooks']['application'])) {\n        $info[$type]['hooks']['filemaker'] = array_merge($info[$type]['hooks']['filemaker'], array('create', 'update'));\n      }\n\n      // Add our trigger to the approved list of hooks.\n      else {\n        $info[$type]['hooks']['filemaker'] = array('create', 'update');\n      }\n    }\n  }\n}\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 9444735,
            "reputation": 1,
            "user_id": 7023933,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3f951f6945d36e592e0265618335d17f?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "mark",
            "link": "https://stackoverflow.com/users/7023933/mark"
        },
        "is_answered": true,
        "view_count": 1093,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717655604,
        "creation_date": 1476644876,
        "last_edit_date": 1717655604,
        "question_id": 40074320,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/40074320/drupal-8-accessing-input-type-from-label-template",
        "title": "drupal 8 accessing input type from label template",
        "body": "<p>How do you reference the input type of the respective form input from inside the form element label template (form-element-label.html.twig)?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 259187,
                    "reputation": 4680,
                    "user_id": 541884,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/u4N0V.jpg?s=256",
                    "display_name": "Ricardo Velhote",
                    "link": "https://stackoverflow.com/users/541884/ricardo-velhote"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1476895928,
                "creation_date": 1476895928,
                "answer_id": 40137321,
                "question_id": 40074320,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>The element type is not available in that TWIG template. You will have to hook into the form element and pass a variable to the element label hook.</p>\n\n<pre><code>/**\n * The contents of $variable['label'] will be passed to the preprocess\n * hook of the element's label.\n */\nfunction theme_preprocess_form_element(array &amp;$variables) {\n  $variables['label']['#attributes'][\"data-element-type\"] = $variables['element']['#type'];\n\n}\n\n/** \n * Now we need to merge the array element we created in the previous hook\n * with the label's attributes.\n */\nfunction theme_preprocess_form_element_label(array &amp;$variables) {\n  $variables['attributes'] = array_merge($variables['attributes'], $variables['element']['#attributes']);\n}\n</code></pre>\n\n<p>The label will have the following output (I testes on an email element type).</p>\n\n<pre><code>&lt;label for=\"edit-email-addresses\" data-element-type=\"email\" class=\"js-form-required form-required\"&gt;Email Addresses&lt;/label&gt;\n</code></pre>\n\n<p>Don't forget to clear caches ;)</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-views"
        ],
        "owner": {
            "account_id": 97287,
            "reputation": 818,
            "user_id": 263967,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://www.gravatar.com/avatar/85956aa9a9f52971250ae6425a1c231d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Nicholai",
            "link": "https://stackoverflow.com/users/263967/nicholai"
        },
        "is_answered": true,
        "view_count": 4019,
        "accepted_answer_id": 2225446,
        "answer_count": 2,
        "score": 1,
        "last_activity_date": 1717630977,
        "creation_date": 1265643255,
        "last_edit_date": 1717630977,
        "question_id": 2222649,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/2222649/custom-logic-for-exposed-filters-in-a-drupal-view",
        "title": "Custom logic for exposed filters in a Drupal view",
        "body": "<p>I'm working on a Drupal site and would love some advice on this. Currently, a user enters his level for a number of different skills. This is stored in a CCK integer field and exposed to the user as a drop-down widget containing the key/value pairs 1|Beginner, 2|Intermediate, 3|Advanced.</p>\n\n<p>In a view, I expose the allowed values for each skill, which are presented to the user as checkboxes (using the Better Exposed Filters module) and then listed in a sortable table. In practice, users generally search for people who have \"at least knowledge level X in skill Y\". Is there a module or straightforward way to display the allowed values as a drop-down and use a \"greater than\" operator in the query instead of a \"one of\"?</p>\n\n<p>Any sample code or advice on how to dynamically change the filter logic or the WHERE clause of the query would be very appreciated.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 97287,
                    "reputation": 818,
                    "user_id": 263967,
                    "user_type": "registered",
                    "accept_rate": 89,
                    "profile_image": "https://www.gravatar.com/avatar/85956aa9a9f52971250ae6425a1c231d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Nicholai",
                    "link": "https://stackoverflow.com/users/263967/nicholai"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1265749878,
                "creation_date": 1265749878,
                "answer_id": 2232557,
                "question_id": 2222649,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Using Decipher's sample and spending a few hours reading up and playing around, I've gotten a basic module that works perfectly for my needs.  Thanks again!</p>\n\n<p>Here's my code if anyone else comes across a similar need:</p>\n\n<pre><code>&lt;?php\n// $Id$\n/**\n* @file\n* Module for modifying the views query to change an EQUALS \n* to a GREATER THAN for specific filters.\n*/\n\n\nfunction views_greater_than_views_query_alter(&amp;$view, &amp;$query) {\n\n//only implement for views that have Search in their name\n    if(strstr($view-&gt;name, \"search\")) {\n\n        $whereclauses = $query-&gt;where[0]['clauses'];\n\n        foreach ($whereclauses as $i=&gt;$currentrow) {\n\n            $currentrow = str_replace('= %d', '&gt;= %d', $currentrow);    \n            $query-&gt;where[0]['clauses'][$i] = $currentrow;\n    }\n\n    unset($whereclauses);\n    }\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 91134,
                    "reputation": 516,
                    "user_id": 250427,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/499831a65f45885a7e1b70ea47c06a58?s=256&d=identicon&r=PG",
                    "display_name": "Decipher",
                    "link": "https://stackoverflow.com/users/250427/decipher"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1265668894,
                "creation_date": 1265668894,
                "answer_id": 2225446,
                "question_id": 2222649,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You want to use <a href=\"http://drupalcontrib.org/api/function/hook_views_query_alter/6\" rel=\"nofollow noreferrer\">hook_views_query_alter()</a>, while I haven't specifically altered the WHERE clause, I have altered the SORTBY clause and the idea behind both should be relatively similar.</p>\n\n<p>Here's a quick piece of code:</p>\n\n<pre><code>function my_module_views_query_alter(&amp;$view, &amp;$query) {\n  switch ($view-&gt;name) {\n    case 'view1':\n      $args = _my_module_get_querystring();\n      switch ($args['condition']) {\n        case 'condition1':\n          $query-&gt;where[0]['args'][0] = 1;\n          break;\n\n        case 'condition2':\n          $query-&gt;where[0]['args'][0] = 2;\n          break;\n      }\n      break;\n  }\n}\n\n/**\n * Returns querystring as an array.\n */\nfunction _my_module_get_querystring() {\n  $string = drupal_query_string_encode($_REQUEST, array_merge(array('q'), array_keys($_COOKIE)));\n  $args = explode('&amp;', $string);\n  foreach ($args as $id =&gt; $string) {\n    unset($args[$id]);\n    $string = explode('=', $string);\n    $args[$string[0]] = str_replace(' ', '-', $string[1]);\n  }\n  return $args;\n}\n</code></pre>\n\n<p>This particular piece would allow you to alter the WHERE clause using a querystring (?condition=condition1), but you could alter it to get the arguments however you wish.</p>\n\n<p>Hope this helps.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "hook"
        ],
        "owner": {
            "account_id": 32286696,
            "reputation": 1,
            "user_id": 25073523,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/93ea2ea807b7b9f2336b923c53b73c11?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Anuradha Bics",
            "link": "https://stackoverflow.com/users/25073523/anuradha-bics"
        },
        "is_answered": true,
        "view_count": 99,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717626474,
        "creation_date": 1717480589,
        "question_id": 78573570,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78573570/drupal-hook-update-issue",
        "title": "Drupal hook update issue",
        "body": "<p>I am working on Drupal 10. I need to update the status field to &quot;TRUE&quot; for the existing content type nodes. I have used hook_update to update 700 nodesâ€¦ But once the hook_update runs, it is updating the first 250 nodes aloneâ€¦ Again i run the hook update, the next 100 nodes are updates. in single execution, nodes are not updated.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 19353933,
                    "reputation": 11,
                    "user_id": 14150633,
                    "user_type": "registered",
                    "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gi7uypovmZus6vzsCGDDxdb3D4eEqWOuB5e5Y5yuw=k-s256",
                    "display_name": "Nicol&#225;s Policastro",
                    "link": "https://stackoverflow.com/users/14150633/nicol%c3%a1s-policastro"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1717626474,
                "creation_date": 1717626474,
                "answer_id": 78583764,
                "question_id": 78573570,
                "content_license": "CC BY-SA 4.0",
                "body": "<h2>hook_update is not made for this kind of jobs</h2>\n<p>Definitely using <strong>hook_update</strong> is not the right way for this kind of job. As mentioned in <a href=\"https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Extension%21module.api.php/function/hook_update_N/11.x\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>In particular, loading, saving, or performing any other CRUD operation on an entity is never safe to do (they always involve hooks and services).</p>\n</blockquote>\n<p>What I suggest here is to create a <a href=\"https://api.drupal.org/api/drupal/core%21core.api.php/function/hook_cron/11.x\" rel=\"nofollow noreferrer\">hook_cron</a> instead. My suggestion is:</p>\n<pre><code>/**\n * Implements hook_cron().\n * Changes field to TRUE\n */\nfunction MODULE_NAME_cron()\n{\n  /**\n   * Query the entities to fetch.\n   * You can set the conditions as you prefer (Default: 'status' = FALSE)\n   *\n   * Maybe you can set up the limit in a Settings form (Default: 50)\n   */\n  $config = \\Drupal::config('MODULE_NAME.settings');\n  $max_entities = $config-&gt;get(&quot;MODULE_NAME.max_entities&quot;) ?? 50;\n  $ids = \\Drupal::entityTypeManager()-&gt;getStorage('ENTITY_TYPE')-&gt;getQuery()\n    -&gt;accessCheck(FALSE)\n    -&gt;condition('status', FALSE)\n    -&gt;range(0, $max_entities)\n    -&gt;execute();\n\n  /** No Entities found */\n  if (!count($ids)) {\n    \\Drupal::logger(&quot;MODULE_NAME.cron&quot;)-&gt;notice(&quot;No Entities found to update.&quot;);\n    return false;\n  }\n\n  /**\n   * Process every Entity with status = FALSE\n   * Set status to TRUE\n   * \n   * ENTITY_TYPE::\n   * Refers to the Entity Type class. For example:\n   * \\Drupal\\node\\Entity\\Node::\n   */\n  $entities = ENTITY_TYPE::loadMultiple($ids);\n  foreach ($entities as $entity) {\n    /**\n     * Work on your $entity here :).\n     * Don't forget to -&gt;save() the entity.\n     */\n    $entity-&gt;set('status', TRUE)-&gt;save();\n  }\n  \\Drupal::logger(&quot;MODULE_NAME.cron&quot;)-&gt;notice(&quot;Entities updated: &quot; . count($ids));\n}\n</code></pre>\n<p>During every CRON run: <em>Drupal will look for up to <code>$max_entities</code> number of entities. It will load every entity and iterate through them. For each <code>$entity</code>, the Status will be set and the Entity will be saved.</em></p>\n<p><em>Note:</em> Drupal Cron should be activated and running periodically. If it's not set you can find the docs <a href=\"https://www.drupal.org/docs/administering-a-drupal-site/cron-automated-tasks/cron-automated-tasks-overview\" rel=\"nofollow noreferrer\">here</a>. I suggest using <a href=\"https://www.drupal.org/docs/administering-a-drupal-site/cron-automated-tasks/cron-automated-tasks-overview#s-more-reliable-enable-cron-using-an-external-trigger\" rel=\"nofollow noreferrer\">external triggers</a> such as <code>crontab</code> or similar in the server.</p>\n<hr />\n<h2>Bonus</h2>\n<ul>\n<li><p>If you want to set up a <strong>Settings form</strong> for your module, I found a <a href=\"https://theaccidentalcoder.com/adding-settings-form-custom-module\" rel=\"nofollow noreferrer\">nice post</a> talking about it.</p>\n</li>\n<li><p>If the actual <code>$entity</code> work is heavier than &quot;<em>Setting <code>status</code> to TRUE</em>&quot;, then I suggest using <a href=\"https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Annotation%21QueueWorker.php/class/QueueWorker/11.x\" rel=\"nofollow noreferrer\">QueueWorkers</a>. You can find a beautiful blog post explaining them <a href=\"https://medium.com/@lorique/how-to-create-drupal-queue-workers-dceaea7cc341\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n</ul>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "settings",
            "block",
            "drupal-10"
        ],
        "owner": {
            "account_id": 18640164,
            "reputation": 63,
            "user_id": 13586086,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/10158083042111638/picture?type=large",
            "display_name": "Antonio Gargiulo",
            "link": "https://stackoverflow.com/users/13586086/antonio-gargiulo"
        },
        "is_answered": false,
        "view_count": 62,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1717483369,
        "creation_date": 1714910065,
        "last_edit_date": 1715118529,
        "question_id": 78432074,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78432074/drupal-10-block-visibility-only-if-content-has-a-specific-term",
        "title": "Drupal 10 block visibility only if content has a specific term",
        "body": "<p>It's been 7 years that I don't use Drupal\nI want the visibility of a block only if there is a specific term in a specific taxonomy (vocabulary)</p>\n<p><a href=\"https://i.sstatic.net/KnKJRRBG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/KnKJRRBG.png\" alt=\"Vocabulary\" /></a></p>\n<p>So I go in and I can only choose the whole vocabulary</p>\n<p><a href=\"https://i.sstatic.net/IYIHVtyW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/IYIHVtyW.png\" alt=\"category\" /></a></p>\n<p>I want to choose a term inside the &quot;Category&quot; in this case.</p>\n<p>solution could be using PHP</p>\n<p><a href=\"https://i.sstatic.net/Ixmn6m5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Ixmn6m5W.png\" alt=\"enter image description here\" /></a></p>\n<p>something like...</p>\n<pre><code>&lt;?PHP \nif content taxonomyid=8\nreturn TRUE; ?&gt;\n</code></pre>\n<p>but I forgot how to do it.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 32286696,
                    "reputation": 1,
                    "user_id": 25073523,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/93ea2ea807b7b9f2336b923c53b73c11?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Anuradha Bics",
                    "link": "https://stackoverflow.com/users/25073523/anuradha-bics"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1717483369,
                "creation_date": 1717483369,
                "answer_id": 78573723,
                "question_id": 78432074,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If you decide to use a custom module then you can control the block visibility with the following code:</p>\n<pre><code>use \\Drupal\\block\\Entity\\Block;\nuse Drupal\\Core\\Session\\AccountInterface;\nuse Drupal\\Core\\Access\\AccessResult;\n\n/**\n * Implements hook_block_access().\n */\nfunction YOUR_MODULE_NAME_block_access(Block $block, $operation, AccountInterface $account) {\n\n $node = \\Drupal\\node\\Entity\\Node::load( YOUR_NODE_ID );\n\n if ($operation == 'view' &amp;&amp; $block-&gt;getPluginId() == 'YOUR_BLOCK_ID') {\n   if ($node-&gt;field_condition-&gt;value == FALSE) {\n      return AccessResult::forbidden()-&gt;addCacheableDependency($block);\n   }    \n }\n\n return AccessResult::neutral();\n}\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 18640164,
                    "reputation": 63,
                    "user_id": 13586086,
                    "user_type": "registered",
                    "profile_image": "https://graph.facebook.com/10158083042111638/picture?type=large",
                    "display_name": "Antonio Gargiulo",
                    "link": "https://stackoverflow.com/users/13586086/antonio-gargiulo"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1714931267,
                "creation_date": 1714931267,
                "answer_id": 78433214,
                "question_id": 78432074,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>i found this but is not working</p>\n<pre><code>  $myterm = &quot;mixes&quot;;  \n  if ((arg(0) == 'node') &amp;&amp; is_numeric(arg(1))) {\n    $terms = taxonomy_node_get_terms(arg(1));\n    foreach($terms as $term) {\n      if ($term-&gt;name == $myterm) return TRUE;\n    }\n  }\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-10",
            "font-awesome-6"
        ],
        "owner": {
            "account_id": 32685569,
            "reputation": 1,
            "user_id": 25403523,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8857a67ea1bd04784c0f5d4a3a037f54?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "heroicslinky",
            "link": "https://stackoverflow.com/users/25403523/heroicslinky"
        },
        "is_answered": false,
        "view_count": 30,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1717477856,
        "creation_date": 1717477856,
        "question_id": 78573481,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78573481/in-drupal-10-i-want-to-use-the-hook-preprocess-menu-local-task-to-add-fontawesom",
        "title": "In Drupal 10 I want to use the hook_preprocess_menu_local_task to add fontawesome icons to the text output. How can I do this?",
        "body": "<p>In Drupal 10 I want to use the hook_preprocess_menu_local_task to add fontawesome icons to the text output. How can or should I do this? I feel that I am close and just over looking something. Any help would great thanks!</p>\n<p>I do see the icons in the $link_render_array variable. But nothing actually outputs. This is my code I have so far:</p>\n<pre><code>```\n`/**\n * Implements hook_preprocess_HOOK() for menu local task.\n */\nfunction theme_preprocess_menu_local_task(array &amp;$variables) {\n  // Initialize.\n  $element = $variables['element'];\n  $link = $element['#link'];\n  $link_text = $link['title'];\n  $icon_html = '';\n\n  // Define the icon HTML based on the link text.\n  switch ($link_text) {\n    case 'View':\n      $icon_html = '&lt;i class=&quot;fa-sharp fa-solid fa-eye&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; View';\n      break;\n\n    case 'Edit':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-pencil&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Edit';\n      break;\n\n    case 'Delete':\n      $icon_html = '&lt;i class=&quot;fa-sharp fa-solid fa-trash&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Delete';\n      break;\n\n    case 'Panelizer':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-table-columns&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Panelizer';\n      break;\n\n    case 'Devel':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-gears&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Devel';\n      break;\n\n    case 'Revisions':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-users&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Revisions';\n      break;\n\n    case 'Clone':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-clone&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Clone';\n      break;\n\n    case 'Create':\n      $icon_html = '&lt;i class=&quot;fa-solid fa-file-lines&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Create';\n      break;\n  }\n\n  // Check if 'url' exists in the link array before using it.\n  if (isset($link['url'])) {\n    $link_url = $link['url'];\n\n    // Create the render array for the link.\n    $link_render_array = [\n      '#type' =&gt; 'link',\n      '#title' =&gt; ['#markup' =&gt; $icon_html],\n      '#url' =&gt; $link_url,\n      '#attributes' =&gt; $link['localized_options']['attributes'] ?? [],\n    ];\n\n    // Ensure the href is respected in the anchor tag.\n    $link_render_array['#options']['attributes']['href'] = $link['localized_options']['attributes']['href'] ?? '';\n\n    // Render the link.\n    $variables['content'] = [\n      '#type' =&gt; 'html_tag',\n      '#tag' =&gt; 'li',\n      'children' =&gt; $link_render_array,\n    ];\n\n    // Debugging information.\n    echo '&lt;pre&gt;';\n    var_dump($variables['content']);\n    echo '&lt;/pre&gt;';\n  }\n\n  // Attach the Font Awesome library.\n  $variables['#attached']['library'][] = 'sog/fontawesome';\n}`\n```\n</code></pre>\n<p>Fontawesome 6 is working on my site in other places. So I know that is not the issue. It seems that something is stripping the html out and sanitizing the output.</p>\n<p><a href=\"https://i.sstatic.net/bqDugvUr.png\" rel=\"nofollow noreferrer\">Displays var_dump of the previous code snippet.</a></p>\n<p>I want an before each tabs text &quot;icon Edit&quot;.</p>\n<p>I have tried doing this in the twig template file as well, which results in none of the tabs outputting at all.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-7",
            "field"
        ],
        "owner": {
            "account_id": 49642,
            "reputation": 9809,
            "user_id": 147937,
            "user_type": "registered",
            "accept_rate": 84,
            "profile_image": "https://www.gravatar.com/avatar/b23b690e45612018b5c8bbed1c969439?s=256&d=identicon&r=PG",
            "display_name": "Matt V.",
            "link": "https://stackoverflow.com/users/147937/matt-v"
        },
        "is_answered": true,
        "view_count": 1368,
        "closed_date": 1514677791,
        "accepted_answer_id": 4871533,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1717183247,
        "creation_date": 1296625219,
        "last_edit_date": 1717183247,
        "question_id": 4871151,
        "link": "https://stackoverflow.com/questions/4871151/what-are-the-default-field-types-available-when-calling-field-create-field",
        "closed_reason": "Not suitable for this site",
        "title": "What are the default field types available when calling field_create_field?",
        "body": "<p>I have a Drupal 7 module that creates a custom node type. It's working, but I need to add a field to the nodes to track how many times they get \"used.\"</p>\n\n<p>Where can I find the different field types I'm able to create when using <a href=\"http://api.drupal.org/api/drupal/modules--field--field.crud.inc/function/field_create_field/7\" rel=\"nofollow\">field_create_field</a>? All I've <a href=\"http://drupalcode.org/viewvc/drupal/contributions/modules/examples/node_example/node_example.install?revision=1.11&amp;view=markup&amp;pathrev=HEAD\" rel=\"nofollow\">found reference to</a> are \"text\" and \"image.\" Is there an option for a \"numeric\" field type?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 49642,
                    "reputation": 9809,
                    "user_id": 147937,
                    "user_type": "registered",
                    "accept_rate": 84,
                    "profile_image": "https://www.gravatar.com/avatar/b23b690e45612018b5c8bbed1c969439?s=256&d=identicon&r=PG",
                    "display_name": "Matt V.",
                    "link": "https://stackoverflow.com/users/147937/matt-v"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1296629302,
                "creation_date": 1296629302,
                "answer_id": 4871533,
                "question_id": 4871151,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>I found the answer by searching <a href=\"http://api.drupal.org/\" rel=\"nofollow\">api.drupal.org</a> for <a href=\"http://api.drupal.org/api/search/7/_field_info\" rel=\"nofollow\">_field_info</a>. From there, I found <a href=\"http://api.drupal.org/api/drupal/modules--field--modules--number--number.module/function/number_field_info/7\" rel=\"nofollow\">number_field_info</a>, which includes a type of number_integer.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "webforms",
            "drupal-webform",
            "drupal-10"
        ],
        "owner": {
            "account_id": 164000,
            "reputation": 655,
            "user_id": 386499,
            "user_type": "registered",
            "accept_rate": 73,
            "profile_image": "https://www.gravatar.com/avatar/138567534bcf4498e26477c49f8d86e6?s=256&d=identicon&r=PG",
            "display_name": "iamsumesh",
            "link": "https://stackoverflow.com/users/386499/iamsumesh"
        },
        "is_answered": false,
        "view_count": 158,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717164165,
        "creation_date": 1716672023,
        "question_id": 78533756,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78533756/file-upload-element-is-not-listing-in-drupal-10-webform",
        "title": "File upload element is not listing in Drupal 10 Webform",
        "body": "<p>i am creating a form in Drupal 10 using Webform. i am able add elements like &quot;Textfield&quot;, &quot;TextArea&quot; etc. When i try to add &quot;File upload&quot;, nothing is listing. Please find the attachment for the screenshot. Please help to fix this and add file upload field in the form.<a href=\"https://i.sstatic.net/kZJg7Spb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kZJg7Spb.png\" alt=\"enter image description here\" /></a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 26324360,
                    "reputation": 11,
                    "user_id": 19985911,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/ea91988dff996877287edfefafac2f2c?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Hydro",
                    "link": "https://stackoverflow.com/users/19985911/hydro"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1717164165,
                "last_edit_date": 1717164165,
                "creation_date": 1717163797,
                "answer_id": 78560479,
                "question_id": 78533756,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Do you have init the $settings['file_private_path'] in the right settings.php ? And clear drupal cache ?</p>\n<p>You can also verify in &quot;/admin/structure/webform/config/elements/&quot; if the file element is available</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "content-management-system",
            "drupal-views",
            "drupal-9"
        ],
        "owner": {
            "account_id": 6091018,
            "reputation": 3605,
            "user_id": 4753281,
            "user_type": "registered",
            "accept_rate": 40,
            "profile_image": "https://www.gravatar.com/avatar/f1c7b9a94bf3cc0db0a4d4643d2e973d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Ashish Patel",
            "link": "https://stackoverflow.com/users/4753281/ashish-patel"
        },
        "is_answered": true,
        "view_count": 92,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717078613,
        "creation_date": 1716456328,
        "last_edit_date": 1716460248,
        "question_id": 78522124,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78522124/add-custom-class-to-drupal-9-menu-item",
        "title": "Add custom class to drupal 9 menu item",
        "body": "<p>I have been working on website which is prepared in Drupal 9. I need to apply custom class\nto menu item to trigger some other events. I come across changes in code as per below link:</p>\n<pre><code>https://drupal.stackexchange.com/questions/274500/add-classes-to-the-menu-item-li\n</code></pre>\n<p>There are other answers available at SO for adding ID / Class to Drupal menu item from code.</p>\n<p>Is there any way can we add ID / Class from Drupal admin interface and apply to individual menu item?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 26324360,
                    "reputation": 11,
                    "user_id": 19985911,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/ea91988dff996877287edfefafac2f2c?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Hydro",
                    "link": "https://stackoverflow.com/users/19985911/hydro"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1717078613,
                "creation_date": 1717078613,
                "answer_id": 78555560,
                "question_id": 78522124,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>I think you can use the module menu_atttributes : <a href=\"https://www.drupal.org/project/menus_attribute\" rel=\"nofollow noreferrer\">https://www.drupal.org/project/menus_attribute</a> .</p>\n<p>with that you can add class to menu item</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-10"
        ],
        "owner": {
            "account_id": 22022531,
            "reputation": 47,
            "user_id": 16291122,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/7917063a85e37fcce95f78b6ca0afad8?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "cherakkal_a",
            "link": "https://stackoverflow.com/users/16291122/cherakkal-a"
        },
        "is_answered": true,
        "view_count": 58,
        "accepted_answer_id": 78552154,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717020720,
        "creation_date": 1716999423,
        "question_id": 78550781,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78550781/drupal-image-field-missing-in-block-types-edit-block-manage-fields",
        "title": "Drupal Image field missing in Block types &gt; Edit block &gt; Manage fields",
        "body": "<p>I am new to Drupal and am creating a custom theme, but for some reason, the Image Field option is missing when I try to add a new field in the 'Manage Fields' section under Block types. This is a fresh install using DDEV and Drush. Are there any settings I need to enable to make <strong>image field</strong> visible, or am I missing something?</p>\n<p><a href=\"https://i.sstatic.net/QYENmBnZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/QYENmBnZ.png\" alt=\"Drupal manage fields in block types\" /></a></p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1687762,
                    "reputation": 10136,
                    "user_id": 1550696,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/Ff4qt.jpg?s=256",
                    "display_name": "2pha",
                    "link": "https://stackoverflow.com/users/1550696/2pha"
                },
                "is_accepted": true,
                "score": 2,
                "last_activity_date": 1717020720,
                "creation_date": 1717020720,
                "answer_id": 78552154,
                "question_id": 78550781,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Select &quot;file upload&quot; and you will be able to select an image field.</p>\n<p>If you want to store images as entities, maybe you want to enable the media module.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-webform"
        ],
        "owner": {
            "account_id": 293685,
            "reputation": 201,
            "user_id": 597131,
            "user_type": "registered",
            "accept_rate": 82,
            "profile_image": "https://www.gravatar.com/avatar/deb70e6f6ea8147088d87a67ab4e1097?s=256&d=identicon&r=PG",
            "display_name": "jeremy",
            "link": "https://stackoverflow.com/users/597131/jeremy"
        },
        "is_answered": true,
        "view_count": 66,
        "accepted_answer_id": 5334367,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1717014277,
        "creation_date": 1300326557,
        "last_edit_date": 1717014277,
        "question_id": 5333974,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/5333974/how-do-i-only-show-fields-that-have-values-and-hide-fields-that-do-not-have-val",
        "title": "How do I only show fields that have values, and hide fields that do not have values?",
        "body": "<p>I am trying to get this code to show only fields that have values, any fields that don't have values are not meant to be displayed.  It doesn't seem to be working</p>\n<p>Any idea what I am doing wrong?</p>\n<p>My simple test form is here <a href=\"http://www.healthybrighton.co.uk/wse/node/1844\" rel=\"nofollow noreferrer\">http://www.healthybrighton.co.uk/wse/node/1844</a></p>\n<pre><code>/**\n * Build a table of submitted values\n *\n * @param $form_vals array Submitted form data\n * @param $select_mapping array Map select components to their value|label chocies\n * @return HTML of the themed table\n */       \nfunction _format_form_state($form_vals = array(), $select_mapping) {\n  $output = '';  \n  $header = array();\n  $rows = array();    \n\n  if (!empty($form_vals)) {\n    \n    foreach ($form_vals as $component_name =&gt; $component_value) {\n      $rows = array_merge(\n        $rows,\n        _add_component_row(\n          $component_name,\n          $component_value,\n          0,\n          $select_mapping\n        )\n      );\n    }\n  }\n  \n  \n\n  $output .= theme('table', $header, $rows);\n  return $output;\n}\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 322013,
                    "reputation": 1404,
                    "user_id": 641184,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/UXT8b.jpg?s=256",
                    "display_name": "dobeerman",
                    "link": "https://stackoverflow.com/users/641184/dobeerman"
                },
                "is_accepted": true,
                "score": 0,
                "last_activity_date": 1300330288,
                "creation_date": 1300330288,
                "answer_id": 5334367,
                "question_id": 5333974,
                "content_license": "CC BY-SA 2.5",
                "body": "<pre><code>/**\n * Build a table of submitted values\n *\n * @param $select_mapping array Map select components to their value|label chocies\n * @param $values array Submitted form data\n * @return HTML of the themed table\n */\nfunction _format_form_state($select_mapping, $values = array()) {\n  $header = array(t('First'), t('Second'), t('Third'), t('Fourth'));\n  $rows = array();\n\n  foreach ($values as $cname =&gt; $cval) {\n    $rows[] = array($cname, $cval, 0, $select_mapping);\n  }\n\n  return theme_table($header, $rows);\n}\n</code></pre>\n\n<p>$select_mapping should be first argument in function.\nArgument with default value should not be preceded by argument without a default value.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "updates",
            "drupal-10"
        ],
        "owner": {
            "account_id": 32566008,
            "reputation": 11,
            "user_id": 25304272,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/2afc494831d5b2ba0bf3cd0e0560b9c1?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Alexandre PEREIRA",
            "link": "https://stackoverflow.com/users/25304272/alexandre-pereira"
        },
        "is_answered": false,
        "view_count": 88,
        "answer_count": 0,
        "score": 1,
        "last_activity_date": 1716975849,
        "creation_date": 1716968724,
        "last_edit_date": 1716975849,
        "question_id": 78548043,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78548043/drupal-updating-to-10-2-6-fails-autoconfigure-on-core",
        "title": "Drupal updating to 10.2.6 fails &quot;autoconfigure&quot; on core",
        "body": "<p>I came here because after a day of searching I didn't resolve my issue.\nI tried to update a drupal system to 10.2.6 from 10.1.8 (since its not maintained on security release now).</p>\n<p>Luckily I remembered we have a test env, so i proceeded on the test and followed the steps.\nFirst updating Drush as required, then composer update &quot;drupal/core-*&quot; --with-all-dependencies\nSince i use Core-recommended.</p>\n<p>Here is composer.json:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;drupal/recommended-project&quot;,\n    &quot;description&quot;: &quot;Project template for Drupal projects with a relocated document root&quot;,\n    &quot;type&quot;: &quot;project&quot;,\n    &quot;license&quot;: &quot;GPL-2.0-or-later&quot;,\n    &quot;homepage&quot;: &quot;https://www.drupal.org/project/drupal&quot;,\n    &quot;support&quot;: {\n        &quot;docs&quot;: &quot;https://www.drupal.org/docs/user_guide/en/index.html&quot;,\n        &quot;chat&quot;: &quot;https://www.drupal.org/node/314178&quot;\n    },\n    &quot;repositories&quot;: [\n        {\n            &quot;type&quot;: &quot;composer&quot;,\n            &quot;url&quot;: &quot;https://packages.drupal.org/8&quot;\n        }\n    ],\n    &quot;require&quot;: {\n        &quot;composer/installers&quot;: &quot;^2.0&quot;,\n        &quot;defuse/php-encryption&quot;: &quot;^2.4&quot;,\n        &quot;drupal/animated_gif&quot;: &quot;^2.0&quot;,\n        &quot;drupal/captcha&quot;: &quot;^2.0&quot;,\n        &quot;drupal/core-composer-scaffold&quot;: &quot;^10.2&quot;,\n        &quot;drupal/core-project-message&quot;: &quot;^10.2&quot;,\n        &quot;drupal/core-recommended&quot;: &quot;^10.2&quot;,\n        &quot;drupal/dxpr_theme&quot;: &quot;^5.2&quot;,\n        &quot;drupal/metatag&quot;: &quot;^1.26&quot;,\n        &quot;drupal/recaptcha&quot;: &quot;^3.2&quot;,\n        &quot;drush/drush&quot;: &quot;^12.2&quot;\n    },\n    &quot;conflict&quot;: {\n        &quot;drupal/drupal&quot;: &quot;*&quot;\n    },\n    &quot;minimum-stability&quot;: &quot;stable&quot;,\n    &quot;prefer-stable&quot;: true,\n    &quot;config&quot;: {\n        &quot;allow-plugins&quot;: {\n            &quot;composer/installers&quot;: true,\n            &quot;drupal/core-composer-scaffold&quot;: true,\n            &quot;drupal/core-project-message&quot;: true,\n            &quot;phpstan/extension-installer&quot;: true,\n            &quot;dealerdirect/phpcodesniffer-composer-installer&quot;: true,\n            &quot;php-http/discovery&quot;: true\n        },\n        &quot;sort-packages&quot;: true\n    },\n    &quot;extra&quot;: {\n        &quot;drupal-scaffold&quot;: {\n            &quot;locations&quot;: {\n                &quot;web-root&quot;: &quot;web/&quot;\n            }\n        },\n        &quot;installer-paths&quot;: {\n            &quot;web/core&quot;: [\n                &quot;type:drupal-core&quot;\n            ],\n            &quot;web/libraries/{$name}&quot;: [\n                &quot;type:drupal-library&quot;\n            ],\n            &quot;web/modules/contrib/{$name}&quot;: [\n                &quot;type:drupal-module&quot;\n            ],\n            &quot;web/profiles/contrib/{$name}&quot;: [\n                &quot;type:drupal-profile&quot;\n            ],\n            &quot;web/themes/contrib/{$name}&quot;: [\n                &quot;type:drupal-theme&quot;\n            ],\n            &quot;drush/Commands/contrib/{$name}&quot;: [\n                &quot;type:drupal-drush&quot;\n            ],\n            &quot;web/modules/custom/{$name}&quot;: [\n                &quot;type:drupal-custom-module&quot;\n            ],\n            &quot;web/profiles/custom/{$name}&quot;: [\n                &quot;type:drupal-custom-profile&quot;\n            ],\n            &quot;web/themes/custom/{$name}&quot;: [\n                &quot;type:drupal-custom-theme&quot;\n            ]\n        },\n        &quot;drupal-core-project-message&quot;: {\n            &quot;include-keys&quot;: [\n                &quot;homepage&quot;,\n                &quot;support&quot;\n            ],\n            &quot;post-create-project-cmd-message&quot;: [\n                &quot;&lt;bg=blue;fg=white&gt;                                                         &lt;/&gt;&quot;,\n                &quot;&lt;bg=blue;fg=white&gt;  Congratulations, youâ€™ve installed the Drupal codebase  &lt;/&gt;&quot;,\n                &quot;&lt;bg=blue;fg=white&gt;  from the drupal/recommended-project template!          &lt;/&gt;&quot;,\n                &quot;&lt;bg=blue;fg=white&gt;                                                         &lt;/&gt;&quot;,\n                &quot;&quot;,\n                &quot;&lt;bg=yellow;fg=black&gt;Next steps&lt;/&gt;:&quot;,\n                &quot;  * Install the site: https://www.drupal.org/docs/installing-drupal&quot;,\n                &quot;  * Read the user guide: https://www.drupal.org/docs/user_guide/en/index.html&quot;,\n                &quot;  * Get support: https://www.drupal.org/support&quot;,\n                &quot;  * Get involved with the Drupal community:&quot;,\n                &quot;      https://www.drupal.org/getting-involved&quot;,\n                &quot;  * Remove the plugin that prints this message:&quot;,\n                &quot;      composer remove drupal/core-project-message&quot;\n            ]\n        }\n    },\n    &quot;require-dev&quot;: {\n        &quot;drupal/core-dev&quot;: &quot;^10.1&quot;\n    }\n}\n</code></pre>\n<p>Everything worked but when i came back to my site it has now an error:</p>\n<p>Symfony\\Component\\DependencyInjection\\Exception\\InvalidArgumentException: The configuration key &quot;autoconfigure&quot; cannot be used to define a default value in &quot;core/core.services.yml&quot;. Allowed keys are &quot;public&quot;, &quot;tags&quot;, &quot;autowire&quot;. in Drupal\\Core\\DependencyInjection\\YamlFileLoader-&gt;parseDefaults() (line 161 of /var/www/suneris/web/core/lib/Drupal/Core/DependencyInjection/YamlFileLoader.php).</p>\n<p>I looked around and tried to change the &quot;autoconfigure&quot; key, but when i do that even drush stops working since the services aren't recognized anymore.</p>\n<p>Im on a dead end and even trying to revert to 10.1.8 doesnt solve .</p>\n<p>Edit: here is the error when i try autowire:true instead of autoconfigure on core.services.yml :</p>\n<p>Symfony\\Component\\DependencyInjection\\Exception\\RuntimeException: Invalid service &quot;plugin.manager.help_section&quot;: method &quot;Drupal\\help\\HelpSectionManager::setSearchManager()&quot; does not exist. in Symfony\\Component\\DependencyInjection\\Compiler\\AbstractRecursivePass-&gt;getReflectionMethod() (line 218 of /var/www/suneris/vendor/symfony/dependency-injection/Compiler/AbstractRecursivePass.php).</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "composer-php",
            "homebrew"
        ],
        "owner": {
            "account_id": 8142557,
            "reputation": 11,
            "user_id": 6132209,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/1YwyU.png?s=256",
            "display_name": "krazy4code",
            "link": "https://stackoverflow.com/users/6132209/krazy4code"
        },
        "is_answered": false,
        "view_count": 1356,
        "answer_count": 1,
        "score": 1,
        "last_activity_date": 1716932853,
        "creation_date": 1637202695,
        "last_edit_date": 1716932853,
        "question_id": 70013882,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/70013882/getting-composer-to-use-the-version-of-php-installed-with-homebrew-on-mac",
        "title": "Getting Composer to use the version of PHP installed with Homebrew on Mac",
        "body": "<p>I'm using <em>Composer</em> on a Mac (Big Sur). Running <code>php -v</code>, I get <code>PHP 8.0.12</code>.  This is the version I installed with <em>Homebrew</em>.</p>\n<p><em>Composer</em> is using default version of PHP, installed at <code>/usr/bin/php</code> (PHP 7.3.29). I need <em>Composer</em> to use the <em>Homebrew</em> version (<code>/usr/local/Cellar...</code>), but can't figure out a solution.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1032242,
                    "reputation": 996,
                    "user_id": 1040399,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/aa2341a4f716540804f5716aaf93127a?s=256&d=identicon&r=PG",
                    "display_name": "Eddie C.",
                    "link": "https://stackoverflow.com/users/1040399/eddie-c"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716823408,
                "creation_date": 1716823408,
                "answer_id": 78539926,
                "question_id": 70013882,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Quite certainly you've figured out a solution. For who might face the same issue, just change either your <code>.zprofile</code> or <code>.zshrc</code> so to have the following line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=&quot;/usr/local/Cellar/your/php/path/bin:$PATH&quot;\nexport PATH=&quot;/usr/local/Cellar/your/php/path/sbin:$PATH&quot;\n</code></pre>\n<p>Regards</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-8",
            "drupal-modules",
            "drupal-commerce"
        ],
        "owner": {
            "account_id": 27485615,
            "reputation": 1,
            "user_id": 25290243,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocK0ZkXDA44czrcqyytYbIiUtNt8ewAlB46JTk1MEYxA6lii6A=k-s256",
            "display_name": "Anton971",
            "link": "https://stackoverflow.com/users/25290243/anton971"
        },
        "is_answered": false,
        "view_count": 30,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1716913765,
        "creation_date": 1716913765,
        "question_id": 78545392,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78545392/not-saving-total-price-for-orders-in-drupal-commerce",
        "title": "Not saving total price for orders in drupal commerce",
        "body": "<p>I tried to implement saving total price in orders but it`s returning an issue like before saving everything is good, but after it debug returning null</p>\n<pre><code>protected function createOrder($order_data) {\n    $user = user_load_by_mail($order_data['Email']);\n    if (!$user) {\n        $user = User::create([\n            'name' =&gt; $order_data['Customer'],\n            'mail' =&gt; $order_data['Email'],\n            'status' =&gt; 1,\n        ]);\n        $user-&gt;save();\n    }\n\n    // Get currency code and amount\n    $splitAmount = $this-&gt;getCurrencyCode($order_data['Total']);\n    $formatted_value = number_format((float) $splitAmount['value'], 6, '.', '');\n    \n    // Create the order\n    $order = Order::create([\n        'type' =&gt; 'default',\n        'state' =&gt; $order_data['Status'],\n        'uid' =&gt; $user-&gt;id(),\n        'order_number' =&gt; $order_data['ID'],\n        'mail' =&gt; $user-&gt;getEmail(),\n        'placed' =&gt; strtotime($order_data['Date']),\n        'overridden_unit_price' =&gt; TRUE,\n    ]);\n\n    // Create a Price object and set it to the order\n    $amount = new Price($splitAmount['value'], $splitAmount['currency_code']);\n    $order-&gt;set('total_price', $amount);\n    dd($order-&gt;get('total_price')-&gt;getValue());\n    $order-&gt;save();\n    // $order = Order::load($order-&gt;id());\n\n    // Debug the total price after saving\n    dd($order-&gt;get('total_price')-&gt;getValue());\n// Debug the total price to check the result\n// dd($order-&gt;get('total_price')-&gt;getValue());\n   \n}\n</code></pre>\n<p>the first debug</p>\n<pre><code> array:1 [â–¼\n  0 =&gt; array:2 [â–¼\n    &quot;number&quot; =&gt; &quot;1107000&quot;\n    &quot;currency_code&quot; =&gt; &quot;LBP&quot;\n  ]\n]\n</code></pre>\n<p>the second one</p>\n<pre><code> []\n</code></pre>\n<p>I tried to debug and changed the data what comes to Price</p>\n",
        "answers": []
    },
    {
        "tags": [
            "php",
            "email",
            "drupal",
            "hook",
            "drupal-webform"
        ],
        "owner": {
            "account_id": 61542,
            "reputation": 1459,
            "user_id": 183361,
            "user_type": "registered",
            "accept_rate": 47,
            "profile_image": "https://www.gravatar.com/avatar/7c296826c8742f5474bb06a05c6b2afe?s=256&d=identicon&r=PG",
            "display_name": "EricP",
            "link": "https://stackoverflow.com/users/183361/ericp"
        },
        "is_answered": true,
        "view_count": 4014,
        "answer_count": 3,
        "score": 1,
        "last_activity_date": 1716891102,
        "creation_date": 1285012599,
        "last_edit_date": 1716891102,
        "question_id": 3754998,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/3754998/drupal-webform-html-email-hooks",
        "title": "drupal Webform HTML Email hooks",
        "body": "<p>I'm trying to send a thank you email to the user submitting the form in HTML.\nI found out by using a hook in my template.php file like this works to set the header correctly:</p>\n\n<pre><code>function mythemename_webform_mail_headers($form_values, $node, $sid) {\n  $headers = array(\n    'Content-Type'  =&gt; 'text/html; charset=UTF-8; format=flowed; delsp=yes',\n    'X-Mailer'      =&gt; 'Drupal Webform (PHP/'. phpversion() .')',\n  );\n\n  return $headers;\n} \n</code></pre>\n\n<p>This works freat for the \"Thank You\" email.\nThe email that the site admin gets with the form results is also html, but it's not converting newlines to breaks in this email. I can't figure out how to use a hook for this, so I had to edit the webform.module file and do this:</p>\n\n<pre><code>function webform_mail($key, &amp;$message, $params) {\n  $message['headers'] = array_merge($message['headers'], $params['headers']);\n  $message['subject'] = $params['subject'];\n  //$message['body'][] = drupal_wrap_mail($params['message']); // replaced this with line below\n  $message['body'][] = nl2br(drupal_wrap_mail($params['message']));\n}\n</code></pre>\n\n<p>Can this be done with a hook in template.php?</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 396952,
                    "reputation": 121,
                    "user_id": 760809,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/1e82de94c4d7feec6e2eaee8609741ac?s=256&d=identicon&r=PG",
                    "display_name": "Guus",
                    "link": "https://stackoverflow.com/users/760809/guus"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1305799598,
                "last_edit_date": 1305799598,
                "creation_date": 1305798946,
                "answer_id": 6056849,
                "question_id": 3754998,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Old topic but still usefull I guess. On the webform module's edit page there is a option/fieldset with  additional processing:</p>\n\n<pre><code>&lt;?php\n$to = $form_values['submitted_tree']['uw_gegevens']['e_mail'];\n$from = \"no-reply@example.com\";\n$achternaam = $form_values['submitted_tree']['uw_gegevens']['uw_naam'];\n\n\n$message = drupal_mail('webform_extra', 'reply', $to, language_default(), array('body' =&gt; $body), $from, TRUE);\n\nfunction webform_extra_mail($key, &amp;$message, $params) {\n  $message['subject'] = \"TEXT.\";\n\n\n  $message['body'] = \"\nTEXT, \" . $params['achternaam'] . \"\nTEXT. \n\n\nKIND REGARDS,\nTEXT\n\";\n\n\n} ?&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n\n<p>Guus van de Wal</p>\n"
            },
            {
                "owner": {
                    "account_id": 97245,
                    "reputation": 756,
                    "user_id": 263877,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/045082ba7285fe40b92b0dbd338ed9a9?s=256&d=identicon&r=PG",
                    "display_name": "Evan Donovan",
                    "link": "https://stackoverflow.com/users/263877/evan-donovan"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1293028689,
                "creation_date": 1293028689,
                "answer_id": 4510259,
                "question_id": 3754998,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You can't use hook_mail_alter() in a theme, only in a custom module.</p>\n"
            },
            {
                "owner": {
                    "account_id": 43602,
                    "reputation": 33225,
                    "user_id": 127549,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/5953314abb5194a939a7a79309a397c0?s=256&d=identicon&r=PG",
                    "display_name": "googletorp",
                    "link": "https://stackoverflow.com/users/127549/googletorp"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1285013148,
                "creation_date": 1285013148,
                "answer_id": 3755062,
                "question_id": 3754998,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>You can use <a href=\"http://api.drupal.org/api/function/hook_mail_alter/6\" rel=\"nofollow noreferrer\"><code>hook_mail_alter</code></a> to edit mails created with <a href=\"http://api.drupal.org/api/function/hook_mail/6\" rel=\"nofollow noreferrer\"><code>hook_mail</code></a>, which is what webform uses.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "drupal-modules"
        ],
        "owner": {
            "account_id": 7319064,
            "reputation": 343,
            "user_id": 5575623,
            "user_type": "registered",
            "accept_rate": 33,
            "profile_image": "https://i.sstatic.net/3wdHp.jpg?s=256",
            "display_name": "Lal Kumar Rai",
            "link": "https://stackoverflow.com/users/5575623/lal-kumar-rai"
        },
        "is_answered": false,
        "view_count": 9,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1716874945,
        "creation_date": 1716874945,
        "question_id": 78542109,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78542109/duplicate-profile-entry-when-order-trying-to-save-shipment",
        "title": "Duplicate Profile Entry When Order trying to save shipment",
        "body": "<p>I have upgraded drupal from 9.5 to 10.2.5 and upgraded commerce_shipping to version 2.2.2. Then I am getting an error when I try to checkout:</p>\n<pre><code>Drupal\\Core\\Entity\\EntityStorageException: SQLSTATE[23000]: Integrity constraint \nviolation: 1062 Duplicate entry '13109' for key 'PRIMARY': INSERT INTO &quot;profile&quot; \n(&quot;profile_id&quot;, &quot;revision_id&quot;, &quot;type&quot;, &quot;uuid&quot;, &quot;status&quot;, &quot;uid&quot;, &quot;is_default&quot;, &quot;data&quot;, \n&quot;created&quot;, &quot;changed&quot;) VALUES (:db_insert_placeholder_0, :db_insert_placeholder_1, \n:db_insert_placeholder_2, :db_insert_placeholder_3, :db_insert_placeholder_4, \n:db_insert_placeholder_5, :db_insert_placeholder_6, :db_insert_placeholder_7, \n:db_insert_placeholder_8, :db_insert_placeholder_9); Array ( \n[:db_insert_placeholder_0] =&gt; 13109 [:db_insert_placeholder_1] =&gt; 13109   \n[:db_insert_placeholder_2] =&gt; customer [:db_insert_placeholder_3] =&gt; cf849757-d6f0- \n467a-aa41-dfc4b4489ec7 [:db_insert_placeholder_4] =&gt; 1 [:db_insert_placeholder_5] =&gt; \n135275 [:db_insert_placeholder_6] =&gt; 1 [:db_insert_placeholder_7] =&gt; a:1: \n{s:23:&quot;address_book_profile_id&quot;;s:5:&quot;13109&quot;;} [:db_insert_placeholder_8] =&gt; \n1710227063 [:db_insert_placeholder_9] =&gt; 1710227063 ) in \nDrupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;save() (line 817 of \ncore/lib/Drupal/Core/Entity/Sql/SqlContentEntityStorage.php).\nDrupal\\Core\\Database\\StatementWrapperIterator-&gt;execute() (Line: 44)\nDrupal\\mysql\\Driver\\Database\\mysql\\Insert-&gt;execute() (Line: 948)\nDrupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;doSaveFieldItems() (Line: 718)\nDrupal\\Core\\Entity\\ContentEntityStorageBase-&gt;doSave() (Line: 486)\nDrupal\\Core\\Entity\\EntityStorageBase-&gt;save() (Line: 806)\nDrupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;save() (Line: 354)\nDrupal\\Core\\Entity\\EntityBase-&gt;save() (Line: 319)\nDrupal\\Core\\Field\\Plugin\\Field\\FieldType\\EntityReferenceItem-&gt;preSave() (Line: 263)\n    Drupal\\entity_reference_revisions\\Plugin\\Field\\FieldType\\EntityReferenceRevisionsItem-&gt;preSave() (Line: 233)\nDrupal\\Core\\Field\\FieldItemList-&gt;delegateMethod() (Line: 191)\nDrupal\\Core\\Field\\FieldItemList-&gt;preSave() (Line: 938)\nDrupal\\Core\\Entity\\ContentEntityStorageBase-&gt;invokeFieldMethod() (Line: 888)\nDrupal\\Core\\Entity\\ContentEntityStorageBase-&gt;invokeHook() (Line: 56)\nDrupal\\commerce\\CommerceContentEntityStorage-&gt;invokeHook() (Line: 529)\nDrupal\\Core\\Entity\\EntityStorageBase-&gt;doPreSave() (Line: 753)\nDrupal\\Core\\Entity\\ContentEntityStorageBase-&gt;doPreSave() (Line: 483)\nDrupal\\Core\\Entity\\EntityStorageBase-&gt;save() (Line: 806)\nDrupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;save() (Line: 354)\nDrupal\\Core\\Entity\\EntityBase-&gt;save() (Line: 55)\nDrupal\\commerce_shipping\\LateOrderProcessor-&gt;process() (Line: 196)\nDrupal\\commerce_order\\OrderRefresh-&gt;refresh() (Line: 123)\nDrupal\\commerce_order\\OrderStorage-&gt;doOrderPreSave() (Line: 86)\nDrupal\\commerce_order\\OrderStorage-&gt;invokeHook() (Line: 529)\nDrupal\\Core\\Entity\\EntityStorageBase-&gt;doPreSave() (Line: 753)\nDrupal\\Core\\Entity\\ContentEntityStorageBase-&gt;doPreSave() (Line: 483)\nDrupal\\Core\\Entity\\EntityStorageBase-&gt;save() (Line: 806)\nDrupal\\Core\\Entity\\Sql\\SqlContentEntityStorage-&gt;save() (Line: 169)\nDrupal\\commerce_order\\OrderStorage-&gt;save() (Line: 354)\n Drupal\\Core\\Entity\\EntityBase-&gt;save() (Line: 358)\nDrupal\\commerce_shipping\\Plugin\\Commerce\\CheckoutPane\\ShippingInformation-&gt;buildPaneForm() (Line: 546)\nDrupal\\commerce_checkout\\Plugin\\Commerce\\CheckoutFlow\\CheckoutFlowWithPanesBase-&gt;buildForm()\ncall_user_func_array() (Line: 536)\nDrupal\\Core\\Form\\FormBuilder-&gt;retrieveForm() (Line: 283)\nDrupal\\Core\\Form\\FormBuilder-&gt;buildForm() (Line: 224)\nDrupal\\Core\\Form\\FormBuilder-&gt;getForm() (Line: 143)\nDrupal\\commerce_checkout\\Controller\\CheckoutController-&gt;formPage()\ncall_user_func_array() (Line: 123)\nDrupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber-&gt;Drupal\\Core\\EventSubscriber\\{closure}() (Line: 627)\nDrupal\\Core\\Render\\Renderer-&gt;executeInRenderContext() (Line: 124)\nDrupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber-&gt;wrapControllerExecutionInRenderContext() (Line: 97)\nDrupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber-&gt;Drupal\\Core\\EventSubscriber\\{closure}() (Line: 181)\nSymfony\\Component\\HttpKernel\\HttpKernel-&gt;handleRaw() (Line: 76)\nSymfony\\Component\\HttpKernel\\HttpKernel-&gt;handle() (Line: 48)\nDrupal\\redirect_after_login\\RedirectMiddleware-&gt;handle() (Line: 54)\nDrupal\\simple_oauth\\HttpMiddleware\\BasicAuthSwap-&gt;handle() (Line: 58)\nDrupal\\Core\\StackMiddleware\\Session-&gt;handle() (Line: 48)\nDrupal\\Core\\StackMiddleware\\KernelPreHandle-&gt;handle() (Line: 28)\nDrupal\\Core\\StackMiddleware\\ContentLength-&gt;handle() (Line: 32)\nDrupal\\big_pipe\\StackMiddleware\\ContentLength-&gt;handle() (Line: 106)\nDrupal\\page_cache\\StackMiddleware\\PageCache-&gt;pass() (Line: 85)\nDrupal\\page_cache\\StackMiddleware\\PageCache-&gt;handle() (Line: 43)\nDrupal\\webform_product\\RedirectMiddleware-&gt;handle() (Line: 48)\nDrupal\\Core\\StackMiddleware\\ReverseProxyMiddleware-&gt;handle() (Line: 51)\nDrupal\\Core\\StackMiddleware\\NegotiationMiddleware-&gt;handle() (Line: 36)\nDrupal\\Core\\StackMiddleware\\AjaxPageState-&gt;handle() (Line: 51)\nDrupal\\Core\\StackMiddleware\\StackedHttpKernel-&gt;handle() (Line: 704)\nDrupal\\Core\\DrupalKernel-&gt;handle() (Line: 19)\n</code></pre>\n<p>I found out its happening when order is trying to save shipments in file commerce_shipping/src/Plugin/Commerce/CheckoutPane/ShippingInformation.php --&gt; buildPaneForm line number349</p>\n<pre><code>// Update the shipments and save the order if no rate was explicitly\n\n// selected, that usually occurs when changing addresses, this will ensure\n\n// the default rate is selected/applied.\n\nif (!$this-&gt;hasRateSelected($pane_form, $form_state) &amp;&amp; ($recalculate_shipping || $force_packing)) {\n\n  array_map(function (ShipmentInterface $shipment) {\n\n    if (!$shipment-&gt;isNew()) {\n\n      $shipment-&gt;save();\n\n    }\n\n  }, $shipments);\n\n  $this-&gt;order-&gt;set('shipments', $shipments); // this one is causing error.\n\n  $this-&gt;order-&gt;save();\n</code></pre>\n<p>Please help me guys, how I can resolve this issue.</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-8"
        ],
        "owner": {
            "account_id": 12252308,
            "reputation": 31,
            "user_id": 8942278,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/010512a7d5d881fa7b18d96ba84256d1?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "cnario",
            "link": "https://stackoverflow.com/users/8942278/cnario"
        },
        "is_answered": false,
        "view_count": 570,
        "answer_count": 2,
        "score": 0,
        "last_activity_date": 1716848306,
        "creation_date": 1689424362,
        "question_id": 76693763,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/76693763/attaching-custom-libraries-to-drupal-10",
        "title": "Attaching Custom Libraries to Drupal 10",
        "body": "<p>I'm trying to manually load the OwlCarousel2 Libraries on my Drupal 10 site. I have downloaded the library and updated the right files but it is not working (I don't want to use the Owlcarousel2 Drupal Module).</p>\n<p>Here's what I've done:</p>\n<p>mytheme.libraries.yml</p>\n<pre><code>  global-styling:\n  version: VERSION\n  js:\n    js/global.js: {}\n  css:\n    component:\n      css/style.css: {}\nowlcarousel2:\n  css:\n    theme:\n      /libraries/OwlCarousel2/dist/assets/owl.carousel.min.css: {}\n      /libraries/OwlCarousel2/dist/assets/owl.theme.default.min.css: {}\n  js:\n    /libraries/OwlCarousel2/dist/owl.carousel.min.js: {}\n  dependencies:\n    - core/jquery\n</code></pre>\n<p>global.js</p>\n<pre><code> /**\n * @file\n * Global utilities.\n *\n */\n(function ($) {\n/**\n* @file\n* Javascript, modifications of DOM.\n*\n* Manipulates links to include jquery load funciton\n*/\n\nDrupal.behaviors.mytheme = {\n  attach: function (context, settings) {\n      \n  $(document).ready(function() {\n    \n    // Instantiate OwlCarousel2 plugin \n    $(&quot;.owl-carousel&quot;).owlCarousel();\n    \n  });\n  \n  }\n}\n\n}(jQuery));\n</code></pre>\n<p>My HTML</p>\n<pre><code>&lt;!--  HTML --&gt;\n&lt;div class=&quot;owl-carousel&quot;&gt;\n  &lt;div&gt; My Content &lt;/div&gt;\n  &lt;div&gt; My Content &lt;/div&gt;\n  &lt;div&gt; My Content &lt;/div&gt;\n  &lt;div&gt; My Content &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 1687762,
                    "reputation": 10136,
                    "user_id": 1550696,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/Ff4qt.jpg?s=256",
                    "display_name": "2pha",
                    "link": "https://stackoverflow.com/users/1550696/2pha"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716848306,
                "creation_date": 1716848306,
                "answer_id": 78541266,
                "question_id": 76693763,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Your entry in the mytheme.libraries.yml defines the library, but does not attach it.<br />\nYou need to tell drupal when to load this library, usually via a hook or even in a template file.<br />\neg.</p>\n<pre><code>// Attach library on all page content types.  \nfunction mytheme_preprocess_node__page(array &amp;$variables) : void {\n  // Theme name: 'mytheme', library name: 'owlcarousel2'. \n  $variables['#attached']['library'][] = 'mytheme/owlcarousel2';\n}\n</code></pre>\n<p>It is documented <a href=\"https://www.drupal.org/docs/drupal-apis/javascript-api/add-javascript-to-your-theme-or-module#s-attaching-the-file\" rel=\"nofollow noreferrer\">here</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 7240229,
                    "reputation": 31,
                    "user_id": 5524038,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/eea48b64db1dda42007896524e8c6f87?s=256&d=identicon&r=PG",
                    "display_name": "Juanjo Esp&#237;",
                    "link": "https://stackoverflow.com/users/5524038/juanjo-esp%c3%ad"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716835030,
                "creation_date": 1716835030,
                "answer_id": 78540639,
                "question_id": 76693763,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>'mytheme.libraries.yml' is not well indented. The first line should not have 2 spaces before.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "translation",
            "paragraph"
        ],
        "owner": {
            "account_id": 8468265,
            "reputation": 331,
            "user_id": 6351803,
            "user_type": "registered",
            "accept_rate": 57,
            "profile_image": "https://www.gravatar.com/avatar/1e9455ca5e64e3c9891e64faa113f26d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "jmux",
            "link": "https://stackoverflow.com/users/6351803/jmux"
        },
        "is_answered": true,
        "view_count": 4109,
        "accepted_answer_id": 43840579,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1716781601,
        "creation_date": 1493634815,
        "last_edit_date": 1716781601,
        "question_id": 43717707,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/43717707/drupal-8-translating-paragraphs-programmatically",
        "title": "Drupal 8 translating paragraphs programmatically",
        "body": "<p>Paragraphs are supposed to be translated on on the level of their component fields, not on the paragraph_field level. So how do you programmatically translate paragraphs?  </p>\n\n<p>To be more explicit, my paragraph field is not translatable, but the component fields are. So how can I load a node, loop through the paragraph items, and add translations to the fields?</p>\n\n<p>Does anyone have an example? \nThanks.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 8468265,
                    "reputation": 331,
                    "user_id": 6351803,
                    "user_type": "registered",
                    "accept_rate": 57,
                    "profile_image": "https://www.gravatar.com/avatar/1e9455ca5e64e3c9891e64faa113f26d?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "jmux",
                    "link": "https://stackoverflow.com/users/6351803/jmux"
                },
                "is_accepted": true,
                "score": 1,
                "last_activity_date": 1494222523,
                "creation_date": 1494222523,
                "answer_id": 43840579,
                "question_id": 43717707,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>following <a href=\"https://www.flocondetoile.fr/blog/translate-programmatically-drupal-8\" rel=\"nofollow noreferrer\">https://www.flocondetoile.fr/blog/translate-programmatically-drupal-8</a> node translation:</p>\n\n<p>This is an abstraction of my actual code, and I haven't actually tested it:</p>\n\n<pre><code>$node = node_load(12);\n\nif ($node-&gt;hasTranslation('de')) {\n  $transl_node = $node-&gt;getTranslation('de');\n\n  foreach ($transl_node-&gt;field_paragraph  =&gt; $paragraph) {\n      $entity_array = $paragraph-&gt;toArray();\n      $translated_fields = [];\n        $translated_fields['field_body'] = array(\n          'value' =&gt; 'translated value',\n          'format' =&gt; 'full'\n        );\n        $translated_fields['field_section_title'] = 'translated section title';\n\n        $translated_entity_array = array_merge($entity_array, $translated_fields);\n        if (!$paragraph-&gt;hasTranslation('de')) {\n          $paragraph-&gt;addTranslation('de', $translated_entity_array);\n          $paragraph-&gt;save();\n        }\n  }\n  $transl_node-&gt;save();\n}\n</code></pre>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "fpdf"
        ],
        "owner": {
            "account_id": 1076813,
            "reputation": 1702,
            "user_id": 1074776,
            "user_type": "registered",
            "accept_rate": 68,
            "profile_image": "https://www.gravatar.com/avatar/5bef82e6c93c26357d7ba0dfa291fe36?s=256&d=identicon&r=PG",
            "display_name": "Wondering Coder",
            "link": "https://stackoverflow.com/users/1074776/wondering-coder"
        },
        "is_answered": true,
        "view_count": 193711,
        "protected_date": 1516769335,
        "accepted_answer_id": 9475817,
        "answer_count": 15,
        "score": 38,
        "last_activity_date": 1716776710,
        "creation_date": 1330396925,
        "last_edit_date": 1330403150,
        "question_id": 9475686,
        "content_license": "CC BY-SA 3.0",
        "link": "https://stackoverflow.com/questions/9475686/fpdf-error-some-data-has-already-been-output-cant-send-pdf",
        "title": "FPDF error: Some data has already been output, can&#39;t send PDF",
        "body": "<p>I am using the <a href=\"http://www.fpdf.org/\" rel=\"noreferrer\">fpdf</a> library for my project, and I'm using this to extend one of the drupal module. These lines</p>\n\n<pre><code>$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Hello World!');\n$pdf-&gt;Output();\n</code></pre>\n\n<p>give me an error: <strong><em>FPDF error: Some data has already been output, can't send PDF</em></strong></p>\n\n<p>I tried creating this in a separate file outside the drupal area name test.php and when viewed it worked. Anyone here know why this don't work? Or anyone here can point me a right pdf library which I can use in drupal to view HTML to PDF format.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 10412890,
                    "reputation": 413,
                    "user_id": 7677801,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/URfMT.png?s=256",
                    "display_name": "Arshad Syed",
                    "link": "https://stackoverflow.com/users/7677801/arshad-syed"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716776710,
                "creation_date": 1716776710,
                "answer_id": 78536964,
                "question_id": 9475686,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>The error you encountered, FPDF error: Some data has already been output, can't send PDF file, typically occurs when there is some output (even a blank space or newline) sent to the browser before the PDF generation. In PHP, when generating files for download, it's crucial to ensure no output is sent before the file headers are set.</p>\n<p>Hereâ€™s how you can resolve this issue:\nStep 1: Ensure No Prior Output</p>\n<p>Make sure no whitespace or any other output is sent before generating the PDF. This includes any spaces or newlines before the opening  tag in any included files.</p>\n<pre><code>    // Create a new PDF\n    $pdf = new FPDF();\n    $pdf-&gt;AddPage();\n    $pdf-&gt;SetFont('Arial', 'B', 16);\n\n    // Title\n    $pdf-&gt;Cell(0, 10, 'My Data', 0, 1, 'C');\n    $pdf-&gt;Ln(10);\n    $pdf-&gt;Cell(40, 10, 'Name ');\n    $pdf-&gt;Ln(10);\n\n    // Clear any previous output\n    ob_end_clean();\n    \n    // Output PDF\n    $pdf-&gt;Output('D', 'file.pdf');\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 1899143,
                    "reputation": 516,
                    "user_id": 1715394,
                    "user_type": "registered",
                    "accept_rate": 75,
                    "profile_image": "https://www.gravatar.com/avatar/679c71d3767af62ddc1d5ee0a86bb7a5?s=256&d=identicon&r=PG",
                    "display_name": "justanotherguy",
                    "link": "https://stackoverflow.com/users/1715394/justanotherguy"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1604601710,
                "creation_date": 1604601710,
                "answer_id": 64703449,
                "question_id": 9475686,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Another answer that nobody else has posted here... <strong>Double-check the encoding of your PHP file</strong> and make sure that it's not something other than UTF-8. The wrong code editor (or FTP upload?) can mess with the file's encoding in which case none of the other fixes mentioned in this thread will help.</p>\n"
            },
            {
                "owner": {
                    "account_id": 5407969,
                    "reputation": 91,
                    "user_id": 4305809,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/vYrob.jpg?s=256",
                    "display_name": "mguven guven",
                    "link": "https://stackoverflow.com/users/4305809/mguven-guven"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1596364554,
                "creation_date": 1596364554,
                "answer_id": 63214976,
                "question_id": 9475686,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Even a single space in the included php files causes that warning. There shouldn't be any output in any way.</p>\n"
            },
            {
                "owner": {
                    "account_id": 11024877,
                    "reputation": 61,
                    "user_id": 8928646,
                    "user_type": "registered",
                    "profile_image": "https://lh3.googleusercontent.com/-gtJRjOvuoRo/AAAAAAAAAAI/AAAAAAAAAAA/pvaSbHhWbnU/photo.jpg?sz=256",
                    "display_name": "JavierMD",
                    "link": "https://stackoverflow.com/users/8928646/javiermd"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1575870154,
                "creation_date": 1575870154,
                "answer_id": 59243108,
                "question_id": 9475686,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>Add to the beginning of the script</p>\n\n<pre><code>ob_start();\nrequire ('fpdf.php');\n</code></pre>\n\n<p>and at the end, after <code>output()</code></p>\n\n<pre><code>ob_end_flush();\n</code></pre>\n\n<p>It worked for me! =)</p>\n"
            },
            {
                "owner": {
                    "account_id": 1988353,
                    "reputation": 1217,
                    "user_id": 1783011,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/R5I75.png?s=256",
                    "display_name": "Wasim Khan",
                    "link": "https://stackoverflow.com/users/1783011/wasim-khan"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1501856735,
                "creation_date": 1501856735,
                "answer_id": 45509322,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>I used the following and it worked for me  </p>\n\n<pre><code>require_once ('pdf/fpdf.php');\n\n$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Hello World!');\n$pdf-&gt;Output(F,'/var/www/html/PATH/filename.pdf');\nob_end_flush();\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 7371172,
                    "reputation": 49,
                    "user_id": 5611296,
                    "user_type": "registered",
                    "profile_image": "https://lh6.googleusercontent.com/-bvq2bWmHmBE/AAAAAAAAAAI/AAAAAAAAAks/5L3Bm3qDMdQ/photo.jpg?sz=256",
                    "display_name": "Cliff Ombachi",
                    "link": "https://stackoverflow.com/users/5611296/cliff-ombachi"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1460988128,
                "creation_date": 1460988128,
                "answer_id": 36696216,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>if you're code outputs notices/warnings before the PDF generation, try turning them off. <code>error_reporting(0)</code>. Then work on the warnings there-after</p>\n"
            },
            {
                "owner": {
                    "account_id": 4573446,
                    "reputation": 658,
                    "user_id": 3712534,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/b3zkR.jpg?s=256",
                    "display_name": "Santos L. Victor",
                    "link": "https://stackoverflow.com/users/3712534/santos-l-victor"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1457446040,
                "creation_date": 1457446040,
                "answer_id": 35869562,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>First step\ncheck the permissions on the folders\nsecond step\nput this </p>\n\n<pre><code>ob_start(); \n</code></pre>\n\n<p>before the line </p>\n\n<pre><code>$pdf-&gt;Output();\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 2195665,
                    "reputation": 431,
                    "user_id": 1941416,
                    "user_type": "registered",
                    "profile_image": "https://i.sstatic.net/zAbco.jpg?s=256",
                    "display_name": "Behlum Noman",
                    "link": "https://stackoverflow.com/users/1941416/behlum-noman"
                },
                "is_accepted": false,
                "score": 42,
                "last_activity_date": 1434612900,
                "last_edit_date": 1434612900,
                "creation_date": 1434608882,
                "answer_id": 30907972,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>add <code>ob_start ();</code> at the top and at the end add <code>ob_end_flush();</code></p>\n\n<pre><code>&lt;?php\n    ob_start();\n    require('fpdf.php');\n    $pdf = new FPDF();\n    $pdf-&gt;AddPage();\n    $pdf-&gt;SetFont('Arial','B',16);\n    $pdf-&gt;Cell(40,10,'Hello World!');\n    $pdf-&gt;Output();\n    ob_end_flush(); \n?&gt;\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 5922944,
                    "reputation": 1,
                    "user_id": 4659777,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/4fb7351780ba6ad2369eee2ef237f8ee?s=256&d=identicon&r=PG",
                    "display_name": "Proyecto Pi",
                    "link": "https://stackoverflow.com/users/4659777/proyecto-pi"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1426097899,
                "last_edit_date": 1426097899,
                "creation_date": 1426096763,
                "answer_id": 28994037,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>You need to call the library</p>\n\n<blockquote>\n  <p>require ('fpdf.php');</p>\n</blockquote>\n\n<pre><code>&lt;?php\nrequire('fpdf.php');\n\n$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Â¡Hola, Mundo!');\n$pdf-&gt;Output();\n?&gt;\n</code></pre>\n\n<p><a href=\"http://www.fpdf.org/\" rel=\"nofollow\">http://www.fpdf.org/</a></p>\n\n<p><a href=\"http://www.fpdf.org/es/tutorial/tuto1.htm\" rel=\"nofollow\">http://www.fpdf.org/es/tutorial/tuto1.htm</a></p>\n"
            },
            {
                "owner": {
                    "account_id": 1346251,
                    "reputation": 5111,
                    "user_id": 1286937,
                    "user_type": "registered",
                    "accept_rate": 72,
                    "profile_image": "https://i.sstatic.net/JjqGj.jpg?s=256",
                    "display_name": "Victor",
                    "link": "https://stackoverflow.com/users/1286937/victor"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1422883237,
                "creation_date": 1422883237,
                "answer_id": 28278693,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>In my case i had set:</p>\n\n<pre><code>ini_set('display_errors', 'on');\nerror_reporting(E_ALL | E_STRICT);\n</code></pre>\n\n<p>When i made the request to generate the report, some warnings were displayed in the browser (like the usage of deprecated functions).<br>\nTurning <code>off</code> the <code>display_errors</code> option, the report was generated successfully.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1956097,
                    "reputation": 269,
                    "user_id": 1759074,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/65d6c44be4c9b94120dc9774fe2ff726?s=256&d=identicon&r=PG",
                    "display_name": "raghavendra",
                    "link": "https://stackoverflow.com/users/1759074/raghavendra"
                },
                "is_accepted": false,
                "score": 26,
                "last_activity_date": 1350644215,
                "last_edit_date": 1350644215,
                "creation_date": 1350643594,
                "answer_id": 12972630,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>give me an error as below:<br>\n<code>FPDF error: Some data has already been output, can't send PDF</code>    </p>\n\n<p>to over come this error:\ngo to <code>fpdf.php</code> in that,goto line number 996   </p>\n\n<pre><code>function Output($name='', $dest='')\n</code></pre>\n\n<p>after that make changes like this:  </p>\n\n<pre><code>function Output($name='', $dest='') {   \n    ob_clean();     //Output PDF to so\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 1902379,
                    "reputation": 51,
                    "user_id": 1717961,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/66925db62b0469992ffdd5c9fcf251c3?s=256&d=identicon&r=PG",
                    "display_name": "Andrey Aires",
                    "link": "https://stackoverflow.com/users/1717961/andrey-aires"
                },
                "is_accepted": false,
                "score": 5,
                "last_activity_date": 1349298274,
                "last_edit_date": 1349298274,
                "creation_date": 1349287089,
                "answer_id": 12714145,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Try to save the file without the option:  \"BOM comment\", i.e. in Adobe Dreamweaver, you Save File As..., <strong>uncheck</strong> the box below the filename that says, \"<em>Include Unicode signature(BOM)</em>\".</p>\n\n<p>On Notepad++ you should select the menu: <strong>Encoding</strong>, \"<em>Encode in UTF-8 without BOM</em>\".</p>\n\n<p>And make it default for other files you create, it will spare you a lot of headaches in future.</p>\n"
            },
            {
                "owner": {
                    "account_id": 1827776,
                    "reputation": 21,
                    "user_id": 1660037,
                    "user_type": "unregistered",
                    "profile_image": "https://www.gravatar.com/avatar/5f74e9766d81d27a689bab2f609425de?s=256&d=identicon&r=PG",
                    "display_name": "HansWurst",
                    "link": "https://stackoverflow.com/users/1660037/hanswurst"
                },
                "is_accepted": false,
                "score": 2,
                "last_activity_date": 1348288922,
                "last_edit_date": 1348288922,
                "creation_date": 1347277778,
                "answer_id": 12351074,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>The FPDF Error Message will point you to the PHP Line that is sending some content.</p>\n\n<p>If you get no hint what File &amp; Line send some content you probably have an encoding mismatch in your include / require Files. </p>\n\n<p>For me </p>\n\n<ul>\n<li><code>fpdf.php</code> was ANSI-encoded, </li>\n<li>my <code>pdf-generator.php</code> was UTF-8-encoded and </li>\n<li>my database-connect-inlude was UTF-8-encoded <em>(this UTF-8-encoding did raise the FPDF error. I had to switch it back to ANSI)</em></li>\n</ul>\n"
            },
            {
                "owner": {
                    "account_id": 1429942,
                    "reputation": 47,
                    "user_id": 1352570,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/05ba74d5924294a204c0a8f5e76e592d?s=256&d=identicon&r=PG",
                    "display_name": "Cino Jose",
                    "link": "https://stackoverflow.com/users/1352570/cino-jose"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1338859852,
                "creation_date": 1338859852,
                "answer_id": 10890493,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>Hi do you have a session header on the top of your page.\nor any includes\nIf you have then try to add this codes on top pf your page it should works fine.        </p>\n\n<pre><code>&lt;?\n\nwhile (ob_get_level())\nob_end_clean();\nheader(\"Content-Encoding: None\", true);\n\n?&gt;\n</code></pre>\n\n<p>cheers :-)</p>\n"
            },
            {
                "owner": {
                    "account_id": 1087122,
                    "reputation": 3911,
                    "user_id": 1084754,
                    "user_type": "registered",
                    "accept_rate": 86,
                    "profile_image": "https://www.gravatar.com/avatar/454113bf9e82aadec1fb6b7e591efe47?s=256&d=identicon&r=PG",
                    "display_name": "Gordon Bailey",
                    "link": "https://stackoverflow.com/users/1084754/gordon-bailey"
                },
                "is_accepted": true,
                "score": 55,
                "last_activity_date": 1330401639,
                "last_edit_date": 1330401639,
                "creation_date": 1330397999,
                "answer_id": 9475817,
                "question_id": 9475686,
                "content_license": "CC BY-SA 3.0",
                "body": "<p>For fpdf to work properly, there cannot be <em>any</em> output at all beside what fpdf generates. For example, this will work:</p>\n\n<pre><code>&lt;?php\n$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Hello World!');\n$pdf-&gt;Output();\n?&gt;\n</code></pre>\n\n<p>While this will not (note the leading space before the opening <code>&lt;?</code> tag)</p>\n\n<pre><code> &lt;?php\n$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Hello World!');\n$pdf-&gt;Output();\n?&gt;\n</code></pre>\n\n<p>Also, this will not work either (the <code>echo</code> will break it):</p>\n\n<pre><code>&lt;?php\necho \"About to create pdf\";\n$pdf = new FPDF();\n$pdf-&gt;AddPage();\n$pdf-&gt;SetFont('Arial','B',16);\n$pdf-&gt;Cell(40,10,'Hello World!');\n$pdf-&gt;Output();\n?&gt;\n</code></pre>\n\n<p>I'm not sure about the drupal side of things, but I know that absolutely zero non-fpdf output is a requirement for fpdf to work.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "locale",
            "poedit"
        ],
        "owner": {
            "account_id": 25533677,
            "reputation": 1,
            "user_id": 19321194,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AATXAJwjVGEulmP-eNdLou_Zs_KRPO0nrJbHxyDKBBIw=k-s256",
            "display_name": "wvlgen",
            "link": "https://stackoverflow.com/users/19321194/wvlgen"
        },
        "is_answered": false,
        "view_count": 69,
        "answer_count": 0,
        "score": 0,
        "last_activity_date": 1716708976,
        "creation_date": 1716708976,
        "question_id": 78534580,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78534580/po-files-not-found-when-importing-the-file-under-drupal-locale",
        "title": ".po files not found when importing the file under Drupal locale",
        "body": "<p>I have ... /admin/config/regional/translate/import\nI can locate the po-file on my PC under H:\\wamp\\www\\locale\\fr_BE\\LC_MESSAGES and select the languauge fr_BE.\nThe po. and mo-file have been prepared wit Poedit.</p>\n<p>But when I start &quot;Import&quot; I get the messages: &quot;No file selected&quot;  with the comment &quot;A gettext Portable Object (.po)-file&quot; and  further &quot;Source file not selected&quot;.</p>\n<p>What did I wrong?</p>\n<p>Thanks</p>\n<p>Walter</p>\n<p>What did I wrong?</p>\n<p>Thanks</p>\n<p>Walter</p>\n",
        "answers": []
    },
    {
        "tags": [
            "drupal",
            "drupal-8",
            "drupal-10"
        ],
        "owner": {
            "account_id": 17924527,
            "reputation": 1,
            "user_id": 13023492,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgQxw6cr5RlEMjmHYrxXZHPgH00oRIt7fc9mGNVBQ=k-s256",
            "display_name": "Amit Kumar",
            "link": "https://stackoverflow.com/users/13023492/amit-kumar"
        },
        "is_answered": false,
        "view_count": 250,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1716689478,
        "creation_date": 1713504423,
        "question_id": 78351511,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78351511/no-route-found-for-get-http-localhost-drupals-new-test-web",
        "title": "No route found for &quot;GET http://localhost/drupals_new_test/web/&quot;",
        "body": "<p>Once I create a new database, and import all data from the old one, update my settings and restore the folders and files, I get this error:</p>\n<p>No route found for &quot;GET http://localhost/drupals_new_test/web/&quot;</p>\n<p>How to connect old database in drupal 10</p>\n<pre><code>$databases = array (\n  'default' =&gt;\n  array (\n    'default' =&gt;\n    array (\n      'database' =&gt; 'lobo',\n      'username' =&gt; 'root',\n      'password' =&gt; '',\n      'host' =&gt; 'localhost',\n      'port' =&gt; '',\n      'driver' =&gt; 'mysql',\n      'prefix' =&gt; '',\n    ),\n  ),\n);\n</code></pre>\n<p>how to solve this</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 10552942,
                    "reputation": 1,
                    "user_id": 25248835,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/f31a2a986fc542e53d8b952efd435ab0?s=256&d=identicon&r=PG&f=y&so-version=2",
                    "display_name": "Sunny",
                    "link": "https://stackoverflow.com/users/25248835/sunny"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716689478,
                "creation_date": 1716689478,
                "answer_id": 78534123,
                "question_id": 78351511,
                "content_license": "CC BY-SA 4.0",
                "body": "<blockquote>\n<p>drush ev '\\Drupal::service(&quot;router.builder&quot;)-&gt;rebuild();'</p>\n</blockquote>\n<p>By rebuilding the routes and clearing all caches, you are addressing the core issue that typically causes the <strong>&quot;No route found&quot; error in Drupal</strong>. This step ensures that Drupalâ€™s routing system is aware of all paths and can resolve them correctly. If this step does not resolve the issue, then proceed to verify the database connection and ensure that all dependencies and configurations are correct.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "html",
            "drupal",
            "rss",
            "quotes"
        ],
        "owner": {
            "account_id": 4581292,
            "reputation": 21,
            "user_id": 3718166,
            "user_type": "registered",
            "accept_rate": 0,
            "profile_image": "https://www.gravatar.com/avatar/af76f9b5f7ea15a47a689f63c8cd3d3b?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user3718166",
            "link": "https://stackoverflow.com/users/3718166/user3718166"
        },
        "is_answered": true,
        "view_count": 232,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1716541072,
        "creation_date": 1404833707,
        "last_edit_date": 1716541072,
        "question_id": 24635967,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/24635967/how-can-i-remove-quotes-in-rss",
        "title": "How can I remove quotes in rss",
        "body": "<p>I have this in my RSS feed, in drupal views:</p>\n\n<pre><code>&lt;link&gt;Prueba &amp;quot;con comillas&amp;quot;&lt;/link&gt;\n</code></pre>\n\n<p>I've tried to create a module like this:</p>\n\n<pre><code>function views_without_encoded_preprocess_views_view_views_rss(&amp;$vars) {\n  if (!empty($vars['rss_feed'])) {\n    $vars['rss_feed'] = strtr($vars['rss_feed'], array(\n      '&amp;amp;#039;' =&gt; '&amp;#039;',\n      '&amp;amp;quot;' =&gt; '&amp;quot;',\n      '&amp;amp;lt;' =&gt; '&amp;lt;',\n      '&amp;amp;gt;' =&gt; '&amp;gt;',\n      '&amp;amp;amp;' =&gt; '&amp;amp;',\n      '&amp;quot;gt' =&gt; '',\n    ));\n  }\n}\n</code></pre>\n\n<p>but everything is not ok. I continue seeing this part:</p>\n\n<pre><code>&lt;link&gt;Prueba &amp;quot;con comillas&amp;quot;&lt;/link&gt;\n</code></pre>\n\n<p>Only for quotes.</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 4311719,
                    "reputation": 1824,
                    "user_id": 3522602,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://i.sstatic.net/LXM4B.png?s=256",
                    "display_name": "balintpekker",
                    "link": "https://stackoverflow.com/users/3522602/balintpekker"
                },
                "is_accepted": false,
                "score": 3,
                "last_activity_date": 1404837114,
                "last_edit_date": 1700253206,
                "creation_date": 1404837114,
                "answer_id": 24637071,
                "question_id": 24635967,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>As I see you try to use the Views RSS.</p>\n<p>There is a fix that appears to work but it has been tested only at Drupal 6 sites. In Drupal 7 some things changed but try out this one:</p>\n<p>Go to <strong>views_rss/theme</strong> and open the <strong>theme.inc</strong></p>\n<p>Copy out the entire 'function template_preprocess_views_view_views_rss function, and put it in your theme's template.php.</p>\n<p>Change the function name to: function <strong>yourthemename</strong>_precrocess_views_view_views_rss</p>\n<p>Then at line 200 in the original theme, or where it reads '// Add XML element(s) to the item array' insert the following just above:</p>\n<pre><code>if (empty($rss_elements)) continue;\n       // Insert here -- clean up special characters\n       $rss_elements[0]['value'] = htmlspecialchars_decode(trim(strip_tags(decode_entities( $rss_elements[0]['value'])),&quot;\\n\\t\\r\\v\\0\\x0B\\xC2\\xA0 &quot;));\n       $rss_elements[0]['value'] = htmlspecialchars($rss_elements[0]['value'], ENT_COMPAT);\n       // end of cleaning\n       // Add XML element(s) to the item array.\n       $rss_item['value'] = array_merge($rss_item['value'], $rss_elements);\n}\n</code></pre>\n<p>Check your RSS.... you might have to flush the cache a few times.</p>\n<p>Another thing you could try is <a href=\"https://www.php.net/htmlspecialchars\" rel=\"nofollow noreferrer\">htmlspecialchars</a>. It seems to me that the output of the Views RSS fields could use this to force encoding on quotes, apostrophes, and ampersands.</p>\n<p>Hope that helps.</p>\n"
            }
        ]
    },
    {
        "tags": [
            "php",
            "drupal",
            "drupal-6"
        ],
        "owner": {
            "account_id": 48138,
            "reputation": 846,
            "user_id": 142873,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/f0b70e3aeb22ecf06227edc73aade4f0?s=256&d=identicon&r=PG",
            "display_name": "Mike Munroe",
            "link": "https://stackoverflow.com/users/142873/mike-munroe"
        },
        "is_answered": true,
        "view_count": 663,
        "accepted_answer_id": 4239517,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1716502903,
        "creation_date": 1290289143,
        "last_edit_date": 1716502903,
        "question_id": 4235139,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/4235139/why-is-db-placeholder-returning-empty-strings-for-my-query",
        "title": "Why is db_placeholder returning empty strings for my query?",
        "body": "<p>I am using db_placeholder within a query to replace an array of strings.</p>\n\n<pre><code>$paths = array(\"commentary_analysis/18\", \"commentary_analysis/16\", \"commentary_analysis/95\", \"commentary_analysis/89\");\n\n$query = \"SELECT DISTINCT a.uid, u.mail FROM {alerts} a JOIN {users} u on u.uid = a.uid WHERE u.mail IS NOT NULL AND u.mail != '' AND u.status = 1 AND a.status = %d AND a.view_path IN (\" . db_placeholders($paths, 'text') . \") ORDER BY a.uid ASC\";\n\n$users_to_notify = db_query($query, $alert_status, $paths);\n</code></pre>\n\n<p>The query is not returning results, when I know it should.  I debugged the query to see the exact query that is getting run.  The query being run is,</p>\n\n<pre><code>SELECT DISTINCT a.uid, u.mail FROM alerts a JOIN users u on u.uid = a.uid WHERE u.mail IS NOT NULL AND u.mail != '' AND u.status = 1 AND a.status = 1 AND a.view_path IN ('','','','') ORDER BY a.uid ASC\n</code></pre>\n\n<p>Notice, <code>a.view_path IN ('','','','')</code>.  That is the problem.  From what I can see, I expect that db_placeholder is getting used with the correct syntax.  </p>\n\n<p>Could someone tell me why my use of db_placeholder is returning <code>('','','','')</code> instead of <code>(\"commentary_analysis/18\", \"commentary_analysis/16\", \"commentary_analysis/95\", \"commentary_analysis/89\")</code>? </p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 69724,
                    "reputation": 1270,
                    "user_id": 202738,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/a4c7b4000e21a329a7855a29d4ac744f?s=256&d=identicon&r=PG",
                    "display_name": "Dave Reid",
                    "link": "https://stackoverflow.com/users/202738/dave-reid"
                },
                "is_accepted": true,
                "score": 4,
                "last_activity_date": 1290364435,
                "creation_date": 1290364435,
                "answer_id": 4239517,
                "question_id": 4235139,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>The problem is you can either pass all single value arguments to db_query, or you can pass an array of arguments. Your code is passing a single value, and then an array, and Drupal just isn't that flexible.</p>\n\n<p>Try this:</p>\n\n<pre><code>$paths = array(\n  'commentary_analysis/18',\n  'commentary_analysis/16',\n  'commentary_analysis/95',\n  'commentary_analysis/89',\n);\n\n$query = \"SELECT DISTINCT a.uid, u.mail\n          FROM {alerts} a\n          JOIN {users} u on u.uid = a.uid\n          WHERE u.mail IS NOT NULL\n            AND u.mail != ''\n            AND u.status = 1\n            AND a.status = %d\n            AND a.view_path IN (\" . db_placeholders($paths, 'varchar') . \")\n          ORDER BY a.uid ASC\";\n\n$args = array_merge(array($alert_status), $paths);\n$users_to_notify = db_query($query, $args);\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 48138,
                    "reputation": 846,
                    "user_id": 142873,
                    "user_type": "registered",
                    "accept_rate": 100,
                    "profile_image": "https://www.gravatar.com/avatar/f0b70e3aeb22ecf06227edc73aade4f0?s=256&d=identicon&r=PG",
                    "display_name": "Mike Munroe",
                    "link": "https://stackoverflow.com/users/142873/mike-munroe"
                },
                "is_accepted": false,
                "score": 1,
                "last_activity_date": 1290291996,
                "creation_date": 1290291996,
                "answer_id": 4235333,
                "question_id": 4235139,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>Swapping the order of the db_query modifiers in the query fixes the problem.  </p>\n\n<pre><code>  $query = \"SELECT DISTINCT a.uid, u.mail FROM {ifrmarkets_alerts} a JOIN {users} u on u.uid = a.uid WHERE u.mail IS NOT NULL AND u.mail != '' AND a.view_path IN (\" . db_placeholders($paths, 'varchar') . \") AND u.status = 1 AND a.status = %d ORDER BY a.uid ASC\";\n  $users_to_notify = db_query($query, $paths, $alert_status);\n</code></pre>\n"
            },
            {
                "owner": {
                    "account_id": 239670,
                    "reputation": 1237,
                    "user_id": 509444,
                    "user_type": "registered",
                    "profile_image": "https://www.gravatar.com/avatar/aae46fd22b7974f4462a6058daa6c9f7?s=256&d=identicon&r=PG",
                    "display_name": "Ran Bar-Zik",
                    "link": "https://stackoverflow.com/users/509444/ran-bar-zik"
                },
                "is_accepted": false,
                "score": -1,
                "last_activity_date": 1290289895,
                "creation_date": 1290289895,
                "answer_id": 4235194,
                "question_id": 4235139,
                "content_license": "CC BY-SA 2.5",
                "body": "<p>First of all, db_placeholders is deprecated in Drupal 7, so you should consider not using it. It is memory wasting function. </p>\n\n<p>Try using varchar data type:</p>\n\n<pre>\n$query = \"SELECT DISTINCT a.uid, u.mail FROM {alerts} a JOIN {users} u on u.uid = a.uid WHERE u.mail IS NOT NULL AND u.mail != '' AND u.status = 1 AND a.status = %d AND a.view_path IN (\" . db_placeholders($paths, 'varchar') . \") ORDER BY a.uid ASC\"\n</pre>\n"
            }
        ]
    },
    {
        "tags": [
            "drupal",
            "twig"
        ],
        "owner": {
            "account_id": 29669545,
            "reputation": 41,
            "user_id": 22739138,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/15b0bb5353ae6074d88fca6b871e3ea1?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "svenjaleo",
            "link": "https://stackoverflow.com/users/22739138/svenjaleo"
        },
        "is_answered": false,
        "view_count": 167,
        "answer_count": 1,
        "score": 0,
        "last_activity_date": 1716468532,
        "creation_date": 1716462087,
        "last_edit_date": 1716464288,
        "question_id": 78522658,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/78522658/how-to-apply-a-specific-class-in-twig-based-on-the-classes-of-an-element",
        "title": "How to apply a specific class in Twig based on the classes of an element?",
        "body": "<p>I'm working on a Drupal website and trying to apply specific classes in Twig files based on the existing classes of an HTML element. Specifically, I want to apply the 'Card-label' class to the title of a card element that has the class 'views-field views-field-title'. Despite several attempts, I have been unable to achieve the desired result.</p>\n<p>Here is an excerpt from my Twig file:</p>\n<pre><code>&lt;div class=&quot;Cardlist&quot;&gt;\n    {% if title %}\n        &lt;h3&gt;{{ title }}&lt;/h3&gt;\n    {% endif %}\n    {% for row in rows %}\n        {%\n            set row_classes = [\n                default_row_class ? 'views-row',\n            ]\n        %}\n        &lt;div class=&quot;Card&quot;&gt;\n            &lt;div{{row.attributes.addClass(row_classes)}}&gt;\n                {{ row.content }}\n            &lt;/div&gt;\n        {% endfor %}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I have attempted to add the 'Card-label' class using conditions in Twig to ensure it is only applied to the element with the class 'views-field views-field-title'. My attempt looked something like this:</p>\n<pre><code>{% if 'views-field views-field-title' in row.content['#row'].attributes.class %}\n    &lt;div class=&quot;Card-label&quot;&gt;\n        {{ title }}\n    &lt;/div&gt;\n{% else %}\n    {{ title }}\n{% endif %}\n</code></pre>\n<p>Here is an example of the current HTML element:</p>\n<pre><code>&lt;div class=&quot;views-field views-field-title&quot;&gt;\n    &lt;span class=&quot;field-content&quot;&gt;My Title&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And here is how I want the HTML element to look after applying the Twig classes:</p>\n<pre><code>&lt;div class=&quot;Card&quot;&gt;\n    &lt;div class=&quot;Card-label&quot;&gt;\n        &lt;h3&gt;My Title&lt;/h3&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Drupal version: 10</p>\n",
        "answers": [
            {
                "owner": {
                    "account_id": 200632,
                    "reputation": 16126,
                    "user_id": 446594,
                    "user_type": "registered",
                    "accept_rate": 83,
                    "profile_image": "https://www.gravatar.com/avatar/265aa3b3b575f011c853fc00f41eccfb?s=256&d=identicon&r=PG",
                    "display_name": "DarkBee",
                    "link": "https://stackoverflow.com/users/446594/darkbee"
                },
                "is_accepted": false,
                "score": 0,
                "last_activity_date": 1716464453,
                "creation_date": 1716464453,
                "answer_id": 78522869,
                "question_id": 78522658,
                "content_license": "CC BY-SA 4.0",
                "body": "<p>If <code>row.content['#row'].attributes.class</code> is indeed an actual array then you would need to change your <code>if</code>- statement to the following:</p>\n<pre><code>{% if 'views-field' in row.content['#row'].attributes.class and 'views-field-title' in row.content['#row'].attributes.class %}\n    Both &quot;views-field&quot; and &quot;views-field-title&quot; are inside the array\n{% endif %} \n</code></pre>\n"
            }
        ]
    }
]